## DataFrame ë‹¤ë£¨ê¸°

# 01. DataFrame ì¸ë±ì‹± I

import pandas as pd

iphone_df = pd.read_csv('Downloads/iphone.csv', index_col=0)
iphone_df

iphone_df.loc['iPhone 8', 'ë©”ëª¨ë¦¬']

iphone_df.loc['iPhone X', :]

type(iphone_df.loc['iPhone X'])

iphone_df.loc[:, 'ì¶œì‹œì¼']



# ì‹¤ìŠµ ì„¤ëª…
ì§€ë‚œ ì‹œê°„ì— DataFrameì—ì„œ ì›í•˜ëŠ” ë¶€ë¶„ì„ ì„ íƒí•˜ëŠ” ì¸ë±ì‹±ì„ ë°°ì› ëŠ”ë°ìš”. ì´ë¥¼ í†µí•´ì„œ ê°’ì„ ì°¾ëŠ” ì—°ìŠµì„ í•´ë´…ì‹œë‹¤.
2016ë…„ë„ì— KBSë°©ì†¡êµ­ì˜ ì‹œì²­ë¥ ì„ ì°¾ì•„ë´…ì‹œë‹¤.
ë°ì´í„°ë¥¼ í•œë²ˆ ì˜ ì‚´í´ë³´ê³  ì–´ë–»ê²Œ ê°’ì„ ì°¾ì•„ì•¼ í• ì§€ ê³ ë¯¼í•´ë³´ì„¸ìš”!

ì£¼ì˜ ì‚¬í•­: ìë™ ì±„ì  ê³¼ì œì…ë‹ˆë‹¤. ì •ë‹µ ì¶œë ¥ ì½”ë“œëŠ” print ì—†ì´ ì‘ì„±í•´ ì£¼ì„¸ìš”. (ì˜ˆì‹œ: df)

# í•´ì„¤
DataFrameì´ ì£¼ì–´ì§€ë©´, ì¸ë±ì‹±ì„ í†µí•´ ììœ ë¡­ê²Œ ìš°ë¦¬ê°€ ì›í•˜ëŠ” ê°’ì„ êº¼ë‚´ì˜¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ë¨¼ì € DataFrameì´ ì–´ë–¤ ëª¨ì–‘ì¸ì§€ í™•ì¸í•´ ë´…ì‹œë‹¤.


import pandas as pd

df = pd.read_csv('data/broadcast.csv', index_col=0)


ì´ëŸ° í˜•íƒœë¡œ ë˜ì–´ ìˆë„¤ìš”.

DataFrameì—ì„œ ì¸ë±ì‹±ì„ í†µí•´ ê°’ì„ ë°›ì•„ì˜¤ê¸° ìœ„í•´ì„œëŠ” loc ë©”ì†Œë“œë¥¼ ì‚¬ìš©í•˜ë©´ ë©ë‹ˆë‹¤.


df.loc[row, column]
ì—¬ê¸°ì„œ ìš°ë¦¬ê°€ ì°¾ìœ¼ë ¤ëŠ” ê°’ì˜ rowëŠ” 2016ì´ê³  columnì€ 'KBS'ì…ë‹ˆë‹¤.

Rowê°€ '2016'ì´ ì•„ë‹ˆë¼ 2016ì´ë¼ëŠ” ì  ìœ ì˜í•´ ì£¼ì„¸ìš”!


import pandas as pd

df = pd.read_csv('data/broadcast.csv', index_col=0)
df.loc[2016, 'KBS']

27.583000000000002


# í•´ì„¤
columnì— ëŒ€í•œ ì¸ë±ì‹±ì€ ë‘ ê°€ì§€ ë°©ì‹ìœ¼ë¡œ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. locë¥¼ ì‚¬ìš©í•˜ëŠ” ë°©ë²•ê³¼ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ë°©ë²•ì´ ìˆì£ .

ë” ê¹”ë”í•œ ì½”ë“œë¥¼ ìœ„í•´ì„œ locë¥¼ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ë°©ë²•ìœ¼ë¡œ í•´ ë´…ì‹œë‹¤.

í•œ columnì— ëŒ€í•œ ì¸ë±ì‹±ì€ ì´ë ‡ê²Œ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.


df[column]
ì´ëŸ° í˜•ì‹ì„ ì ìš©í•´ì„œ, JTBCì˜ ì‹œì²­ë¥ ë§Œ ê°€ì ¸ì™€ ë´…ì‹œë‹¤.

ëª¨ë²” ë‹µì•ˆ

import pandas as pd

df = pd.read_csv('data/broadcast.csv', index_col=0)
df['JTBC']

2011    7.380
2012    7.878
2013    7.810
2014    7.490
2015    7.267
2016    7.727
2017    9.453
Name: JTBC, dtype: float64

#í•´ì„¤
columnì— ëŒ€í•œ ì¸ë±ì‹±ì€ ë‘ ê°€ì§€ ë°©ì‹ìœ¼ë¡œ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. locë¥¼ ì‚¬ìš©í•˜ëŠ” ë°©ë²•ê³¼ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ë°©ë²•ì´ ìˆì£ .

ë” ê¹”ë”í•œ ì½”ë“œë¥¼ ìœ„í•´ì„œ locë¥¼ ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ë°©ë²•ìœ¼ë¡œ í•´ ë´…ì‹œë‹¤.

í•œ columnì— ëŒ€í•œ ì¸ë±ì‹±ì€ ì´ë ‡ê²Œ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.


df[column]
ê·¸ëŸ¼ ì—¬ëŸ¬ columnì— ëŒ€í•œ ì¸ë±ì‹±ì€ ì–´ë–»ê²Œ í•  ìˆ˜ ìˆì„ê¹Œìš”?

ë¦¬ìŠ¤íŠ¸ë¡œ ì¸ë±ì‹±ì„ í•˜ë©´ ë˜ê² ì£ !


df[[column1, column2]]
ìš°ë¦¬ê°€ ì›í•˜ëŠ” columnì€ 'SBS'ì™€ 'JTBC' ì´ë‹ˆê¹Œ, ë‹¤ìŒê³¼ ê°™ì´ ì½”ë“œë¥¼ ì‘ì„±í•˜ë©´ ë©ë‹ˆë‹¤.

ëª¨ë²” ë‹µì•ˆ

import pandas as pd

df = pd.read_csv('data/broadcast.csv', index_col=0)
df[['SBS', 'JTBC']]



## ì¹´ë“œì‚¬ ê³ ê° ë¶„ì„

# ì‹¤ìŠµ ì„¤ëª…
ë°ì´í„°ì˜ ì¤‘ìš”ì„±ì„ ê¹¨ë‹¬ì€ â€œì‚¼ì†¡ì¹´ë“œâ€ì™€ â€œí˜„ë””ì¹´ë“œâ€ê°€ í˜‘ì—…ì„ í•˜ê¸°ë¡œ ê²°ì •í–ˆìŠµë‹ˆë‹¤.

ë‘ ì¹´ë“œì‚¬ëŠ” ì‚¬ëŒë“¤ì´ ìš”ì¼ë³„ë¡œ ì§€ì¶œí•˜ëŠ” í‰ê·  ê¸ˆì•¡ì„ â€œìš”ì¼â€, â€œì‹ë¹„â€, â€œêµí†µë¹„â€, â€œë¬¸í™”ìƒí™œë¹„â€, â€œê¸°íƒ€â€ ì¹´í…Œê³ ë¦¬ë¡œ ì •ë¦¬í•´ì„œ ìš°ë¦¬ì—ê²Œ ê³µìœ í•´ ì£¼ê¸°ë¡œ í–ˆëŠ”ë°ìš”. ê°ê° samsong.csv íŒŒì¼ê³¼ hyundee.csv íŒŒì¼ì„ ë³´ëƒˆìŠµë‹ˆë‹¤.

ë‘ íšŒì‚¬ì˜ ë°ì´í„°ë¥¼ í™œìš©í•´ì„œ, ì‚¬ëŒë“¤ì˜ ìš”ì¼ë³„ ë¬¸í™”ìƒí™œë¹„ë¥¼ ë¶„ì„í•´ë³´ë ¤ í•©ë‹ˆë‹¤. ì•„ë˜ì™€ ê°™ì€ í˜•íƒœë¡œ ì¶œë ¥ì´ ë˜ë„ë¡ DataFrameì„ ë§Œë“¤ì–´ë³´ì„¸ìš”.

# ì‹¤ìŠµ ê²°ê³¼

   day  samsong  hyundee
0  MON     4308     5339
1  TUE     7644     3524
2  WED     5674     5364
3  THU     8621     9942
4  FRI    23052    33511
5  SAT    15330    19397
6  SUN    19030    19925
ì£¼ì˜ ì‚¬í•­: ìë™ ì±„ì  ê³¼ì œì…ë‹ˆë‹¤. ì •ë‹µ ì¶œë ¥ ì½”ë“œëŠ” print ì—†ì´ ì‘ì„±í•´ ì£¼ì„¸ìš”. (ì˜ˆì‹œ: df)

# í•´ì„¤
# 1. ë°ì´í„° íŒŒì•…í•˜ê¸°
ë¨¼ì € ê°ê°ì˜ DataFrameì„ ì½ì–´ë“¤ì—¬ë´…ì‹œë‹¤.


import pandas as pd

samsong_df = pd.read_csv('data/samsong.csv')
samsong_df



import pandas as pd

hyundee_df = pd.read_csv('data/hyundee.csv')
hyundee_df


ì´ ì¤‘ì—ì„œ ìš°ë¦¬ê°€ í™œìš©í•˜ê³  ì‹¶ì€ ë°ì´í„°ëŠ” 'ìš”ì¼', ê·¸ë¦¬ê³  samsong_dfì˜ 'ë¬¸í™”ìƒí™œë¹„', hyundee_dfì˜ 'ë¬¸í™”ìƒí™œë¹„' ì…ë‹ˆë‹¤.

ê°ê°ì„ ì´ë ‡ê²Œ ê°€ì ¸ì˜¬ ìˆ˜ ìˆê² ë„¤ìš”.


samsong_df['ìš”ì¼']
samsong_df['ë¬¸í™”ìƒí™œë¹„']
hyundee_df['ë¬¸í™”ìƒí™œë¹„']

# 2. íŒŒì´ì¬ ì‚¬ì „(dictionary) ë§Œë“¤ê¸°
DataFrameì„ ë§Œë“œëŠ” ì—¬ëŸ¬ ë°©ë²• ì¤‘ì— íŒŒì´ì¬ ì‚¬ì „(dictionary)ì„ í™œìš©í•´ ë´…ì‹œë‹¤.

ìš°ë¦¬ê°€ ì›í•˜ëŠ” ì„¸ ê°œì˜ columnì€ 'day', 'samsong', 'hyundee' ì…ë‹ˆë‹¤.

ê·¸ëŸ¼ ì‚¬ì „ì„ ì´ë ‡ê²Œ ë§Œë“¤ ìˆ˜ ìˆê² ë„¤ìš”.


{'day': samsong_df['ìš”ì¼'], 
    'samsong': samsong_df['ë¬¸í™”ìƒí™œë¹„'], 
    'hyundee': hyundee_df['ë¬¸í™”ìƒí™œë¹„']}

# ëª¨ë²” ë‹µì•ˆ
ì´ì œ ì´ ê°’ì„ í™œìš©í•´ì„œ DataFrameì„ ë§Œë“¤ë©´ ë©ë‹ˆë‹¤.


import pandas as pd

samsong_df = pd.read_csv('data/samsong.csv')
hyundee_df = pd.read_csv('data/hyundee.csv')

combined_df = pd.DataFrame({
    'day': samsong_df['ìš”ì¼'], 
    'samsong': samsong_df['ë¬¸í™”ìƒí™œë¹„'], 
    'hyundee': hyundee_df['ë¬¸í™”ìƒí™œë¹„']
})
combined_df



## ë°©ì†¡ì‚¬ ì‹œì²­ë¥  ë°›ì•„ì˜¤ê¸°IV
# ì‹¤ìŠµ ì„¤ëª…
ì´ë²ˆì—ëŠ” DataFrameì—ì„œ ì—°ì†ëœ ì—¬ëŸ¬ ì¤„ì„ ì°¾ëŠ” ì—°ìŠµì„ í•´ë³´ê² ìŠµë‹ˆë‹¤.

ë°©ì†¡ì‚¬ëŠ” 'KBS'ì—ì„œ 'SBS'ê¹Œì§€, ì—°ë„ëŠ” 2012ë…„ë¶€í„° 2017ë…„ê¹Œì§€ì˜ ì‹œì²­ë¥ ë§Œ í™•ì¸í•˜ë ¤ë©´ ì–´ë–»ê²Œ í•˜ë©´ ë ê¹Œìš”?

ì£¼ì˜ ì‚¬í•­: ìë™ ì±„ì  ê³¼ì œì…ë‹ˆë‹¤. ì •ë‹µ ì¶œë ¥ ì½”ë“œëŠ” print ì—†ì´ ì‘ì„±í•´ ì£¼ì„¸ìš”. (ì˜ˆì‹œ: df)


# í•´ì„¤
ë°©ì†¡ì‚¬ëŠ” 'KBS'ì—ì„œ 'SBS'ê¹Œì§€, ì—°ë„ëŠ” 2012ë…„ë¶€í„° 2017ë…„ê¹Œì§€ì˜ ì‹œì²­ë¥ ë§Œ í™•ì¸í•˜ë ¤ë©´ ì–´ë–»ê²Œ í•˜ë©´ ë ê¹Œìš”?

ë¦¬ìŠ¤íŠ¸ ìŠ¬ë¼ì´ì‹±ì„ í™œìš©í•˜ë©´ ë©ë‹ˆë‹¤.

ë§Œì•½ 2012ë…„ë¶€í„° 2017ë…„ê¹Œì§€ì˜ ëª¨ë“  ë°ì´í„°ë¥¼ í™•ì¸í•˜ê³  ì‹¶ë‹¤ë©´


import pandas as pd

df = pd.read_csv('data/broadcast.csv', index_col=0)
df.loc[2012:2017]
ì´ë ‡ê²Œ í™•ì¸í•  ìˆ˜ ìˆê² ë„¤ìš”.



ë§Œì•½, ë°©ì†¡ì‚¬ ê¸°ì¤€ìœ¼ë¡œ KBSì—ì„œ SBS ì‚¬ì´ columnì˜ ëª¨ë“  ì •ë³´ë¥¼ í™•ì¸í•˜ê³  ì‹¶ë‹¤ë©´


import pandas as pd

df = pd.read_csv('data/broadcast.csv', index_col=0)
df.loc[:, 'KBS':'SBS']


ì´ë ‡ê²Œ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ê·¸ëŸ¼ ì´ì œ ì´ ë‘ ë°©ì‹ì„ ì¡°í•©í•˜ë©´, ìš°ë¦¬ê°€ ì›í•˜ëŠ” ê²°ê³¼ê°€ ë‚˜ì˜µë‹ˆë‹¤.

ëª¨ë²” ë‹µì•ˆ

import pandas as pd

df = pd.read_csv('data/broadcast.csv', index_col=0)
df.loc[2012:2017, 'KBS':'SBS']



## DataFrame ì¡°ê±´ìœ¼ë¡œ ì¸ë±ì‹±

iphone_df.loc[True, False, False, True]  // ì„¸ë¡œ ì—´ì˜ ì»¬ëŸ¼ì—ì„œ 0,3ë²ˆì§¸ í•­ëª©ë§Œ í‘œì‹œ

iphone_df.loc[:, [True, False, False, True]]  // ì„¸ë¡œ ì—´ì˜ ëª¨ë“  ì»¬ëŸ¼ê³¼ ê°€ë¡œ í–‰ì˜ 0,3ë²ˆì§¸ í•­ëª©ì„ í‘œì‹œ

iphone_df['ë””ìŠ¤í”Œë ˆì´'] > 5  // ë””ìŠ¤í”Œë ˆì´ í•­ëª©ì—ì„œ 5ë³´ë‹¤ í° í•­ëª©ë“¤ë§Œ í‘œì‹œ (pandas ì‹œë¦¬ì¦ˆ)

iphone_df.loc[iphone_df['ë””ìŠ¤í”Œë ˆì´'] > 5]  // ë””ìŠ¤í”Œë ˆì´ í•­ëª©ì—ì„œ 5ë³´ë‹¤ í° í•­ëª©ë“¤ë§Œ í‘œì‹œ (íŒŒì´ì¬ì²˜ëŸ¼ í•„í„°ë§)

iphone_df['Face ID'] == 'Yes'  // Face ID ê¸°ëŠ¥ì´ ìˆëŠ” í•­ëª©ë§Œ í•„í„°ë§

(iphone_df['ë””ìŠ¤í”Œë ˆì´'] > 5) & (iphone_df.['Face ID'] == 'Yes')  // ë””ìŠ¤í”Œë ˆì´ í¬ê¸° 5ì´ìƒê³¼ Face ID ê¸°ëŠ¥ì´ ìˆëŠ” í•­ëª©ì„ í•„í„°ë§
(iphone_df['ë””ìŠ¤í”Œë ˆì´'] > 5) | (iphone_df.['Face ID'] == 'Yes')  // ë””ìŠ¤í”Œë ˆì´ í¬ê¸° 5ì´ìƒì´ê±°ë‚˜ Face ID ê¸°ëŠ¥ì´ ìˆëŠ” í•­ëª©ì„ í•„í„°ë§

condition = (iphone_df['ë””ìŠ¤í”Œë ˆì´'] > 5) & (iphone_df.['Face ID'] == 'Yes') // ë‚´ìš©ì´ ê¸¸ì–´ì„œ ë³€ìˆ˜ì— ì €ì¥
condition = (iphone_df['ë””ìŠ¤í”Œë ˆì´'] > 5) | (iphone_df.['Face ID'] == 'Yes') 

# iphone_df[condition] // ë¦¬ìŠ¤íŠ¸ë¥¼ í•„í„°ë§í•´ì„œ í‘œì‹œ



## ë°©ì†¡ì‚¬ ì‹œì²­ë¥  ë°›ì•„ì˜¤ê¸° V

# í•´ì„¤
'KBS'ì—ì„œ ì‹œì²­ë¥ ì´ 30ì´ ë„˜ì€ ë°ì´í„°ë§Œ í™•ì¸í•´ë³´ê³  ì‹¶ìŠµë‹ˆë‹¤. ì–´ë–»ê²Œ í•˜ë©´ ë ê¹Œìš”?

ë¶ˆë¦° ì¸ë±ì‹±ì„ í™œìš©í•˜ë©´ ë©ë‹ˆë‹¤.

ë¨¼ì € 'KBS'ì— ëŒ€í•œ ì •ë³´ë§Œì„ ë‹¤ë£¨ê¸° ë•Œë¬¸ì—, 'KBS' columnë§Œ ì‚¬ìš©í•˜ë©´ ë©ë‹ˆë‹¤.


import pandas as pd

df = pd.read_csv('data/broadcast.csv', index_col=0)
df['KBS']

2011    35.951
2012    36.163
2013    31.989
2014    31.210
2015    27.777
2016    27.583
2017    26.890
Name: KBS, dtype: float64
ê·¸ëŸ¬ë©´ ëª¨ë“  ë°ì´í„°ê°€ ë‹¤ ë‚˜ì˜¤ë„¤ìš”.

ì—¬ê¸°ì„œ ë¶ˆë¦° ì—°ì‚°ì„ í™œìš©í•´ ë´…ì‹œë‹¤.


df['KBS'] > 30

2011     True
2012     True
2013     True
2014     True
2015    False
2016    False
2017    False
Name: KBS, dtype: bool
ì´ëŸ° ì‹ìœ¼ë¡œ, 30ì´ ë„˜ëŠ”ì§€ ë„˜ì§€ ì•ŠëŠ”ì§€ ì—¬ë¶€ê°€ ë¶ˆë¦°ê°’ìœ¼ë¡œ ë‚˜ì˜µë‹ˆë‹¤.
ì´ ê°’ì„ DataFrame ì¸ë±ì‹±ì— í™œìš©í•˜ë©´ ìš°ë¦¬ê°€ ì›í•˜ëŠ” ê°’ë§Œ ë½‘ì•„ë‚¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.


boolean_KBS = df['KBS'] > 30
df.loc[boolean_KBS]


ê·¸ëŒ€ë¡œ ë¶ˆë¦°ì„ ë„£ì—ˆë”ë‹ˆ, 2012ë…„ë¶€í„° 2014ë…„ê¹Œì§€ ëª¨ë“  ë°©ì†¡ì‚¬ì˜ ë°ì´í„°ê°€ í•¨ê»˜ ë‚˜ì˜¤ë„¤ìš”.

ì•„ë˜ì™€ ê°™ì´ ì½”ë“œë¥¼ ì‘ì„±í•˜ë©´ ìš°ë¦¬ê°€ ì›í•˜ëŠ” ê°’ë§Œ ì–»ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

# ëª¨ë²” ë‹µì•ˆ

import pandas as pd

df = pd.read_csv('data/broadcast.csv', index_col=0)
boolean_KBS = df['KBS'] > 30
df.loc[boolean_KBS, 'KBS']



## ë°©ì†¡ì‚¬ ì‹œì²­ë¥  ë°›ì•„ì˜¤ê¸° VI


# í•˜ë£¨ ì‘ì„±
import pandas as pd

df = pd.read_csv('data/broadcast.csv', index_col=0)

comparison = (df['SBS']) < (df['TV CHOSUN'])

df.loc[comparison, 'SBS':'TV CHOSUN']


# ëª¨ë²” ë‹µì•ˆ
import pandas as pd

df = pd.read_csv('data/broadcast.csv', index_col=0)

df.loc[df['SBS'] < df['TV CHOSUN'], ['SBS', 'TV CHOSUN']]




# í•´ì„¤
SBSê°€ TV CHOSUNë³´ë‹¤ ë” ì‹œì²­ë¥ ì´ ë‚®ì•˜ë˜ ì‹œê¸°ì˜ ë°ì´í„°ëŠ” ì–´ë–»ê²Œ í™•ì¸í•  ìˆ˜ ìˆì„ê¹Œìš”?

ì´ê²ƒë„ ë¶ˆë¦° ì—°ì‚°ì„ í™œìš©í•˜ë©´ ë©ë‹ˆë‹¤.
ìš°ì„  ë‘ columnì„ ë¹„êµí•œ ê²°ê³¼ë¥¼ ì‚´í´ë´…ì‹œë‹¤.


import pandas as pd

df = pd.read_csv('data/broadcast.csv', index_col=0)
df['SBS'] < df['TV CHOSUN']

2011    False
2012    False
2013    False
2014     True
2015     True
2016     True
2017     True
dtype: bool
ì–¸ì œ SBSë³´ë‹¤ TV CHOSUNì´ ë†’ì•˜ëŠ”ì§€ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
Trueë¡œ ì¶œë ¥ë˜ëŠ” 2014ë…„ë¶€í„° 2017ë…„ì´ TV CHOSUNì˜ ì‹œì²­ë¥ ì´ ë” ë†’ì•˜êµ°ìš”.

DataFrameì˜ ê¸°ë³¸ ì¸ë±ì‹± í˜•íƒœ ê¸°ì–µí•˜ì‹œì£ ?


df.loc[row, column]
ë°©ê¸ˆ êµ¬í•œ ë¶ˆë¦° ê°’ì„ row ì¸ë±ì‹±ì— í™œìš©í•˜ê³ , column ì¸ë±ì‹±ì—ëŠ” ìš°ë¦¬ê°€ ë³´ê³ ì í•˜ëŠ” columnì¸ 'SBS', 'TV CHOSUN' ë¥¼ ì ì–´ì£¼ë©´ ë©ë‹ˆë‹¤.

# ëª¨ë²” ë‹µì•ˆ

import pandas as pd

df = pd.read_csv('data/broadcast.csv', index_col=0)
df.loc[df['SBS'] < df['TV CHOSUN'], ['SBS', 'TV CHOSUN']]



## DataFrame ìœ„ì¹˜ë¡œ ì¸ë±ì‹±í•˜ê¸°

iphone_df.iloc[2, 4]

iphone_df.iloc[[2, 4], [1, 4]]

iphone_df.iloc[3: , 1:4]


## DataFrame ì¸ë±ì‹± ë¬¸ë²• ì •ë¦¬

DataFrame ì¸ë±ì‹±ì„ í•˜ëŠ” ë°©ë²•ê³¼ ì¢…ë¥˜ê°€ ë§ì•„ì„œ í—·ê°ˆë¦¬ê¸° ì‰½ìŠµë‹ˆë‹¤.

ì¸ë±ì‹±ì´ ìµìˆ™í•´ì ¸ì•¼ ë‹¤ìŒ ë‚´ìš©ì„ ì‰½ê²Œ ë°°ìš¸ ìˆ˜ ìˆìœ¼ë‹ˆ, ê¼­ ìˆ™ì§€í•˜ê³  ë„˜ì–´ê°€ì„¸ìš”!

# ì´ë¦„ìœ¼ë¡œ ì¸ë±ì‹±í•˜ê¸° / ê¸°ë³¸ í˜•íƒœ / ë‹¨ì¶• í˜•íƒœ
í•˜ë‚˜ì˜ row ì´ë¦„ / df.loc["row4"]	
row ì´ë¦„ì˜ ë¦¬ìŠ¤íŠ¸ / df.loc[["row4", "row5", "row3"]]	
row ì´ë¦„ì˜ ë¦¬ìŠ¤íŠ¸ ìŠ¬ë¼ì´ì‹± / df.loc["row2":"row5"] / df["row2":"row5"]
í•˜ë‚˜ì˜ column ì´ë¦„ / df.loc[:, "col1"] / df["col1"]
column ì´ë¦„ì˜ ë¦¬ìŠ¤íŠ¸ / df.loc[:, ["col4", "col6", "col3"]] / df[["col4", "col6", "col3"]]
column ì´ë¦„ì˜ ë¦¬ìŠ¤íŠ¸ ìŠ¬ë¼ì´ì‹± / df.loc[:, "col2":"col5"]	
ìœ„ì¹˜ë¡œ ì¸ë±ì‹±í•˜ê¸° / ê¸°ë³¸ í˜•íƒœ / ë‹¨ì¶• í˜•íƒœ
í•˜ë‚˜ì˜ row ìœ„ì¹˜ / df.iloc[8]	
row ìœ„ì¹˜ì˜ ë¦¬ìŠ¤íŠ¸ / df.iloc[[4, 5, 3]]	
row ìœ„ì¹˜ì˜ ë¦¬ìŠ¤íŠ¸ ìŠ¬ë¼ì´ì‹± / df.iloc[2:5] / df[2:5]
í•˜ë‚˜ì˜ column ìœ„ì¹˜ / df.iloc[:, 3]	
column ìœ„ì¹˜ì˜ ë¦¬ìŠ¤íŠ¸ / df.iloc[:, [3, 5, 6]]	
column ìœ„ì¹˜ì˜ ë¦¬ìŠ¤íŠ¸ ìŠ¬ë¼ì´ì‹± / df.iloc[:, 3:7]	


### ë°ì´í„° ë³€í˜•í•˜ê¸°
## DataFrameì— ê°’ ì“°ê¸° I

iphone_df.loc['iPhone 8', 'ì¶œì‹œ ë²„ì „'] = 'ios 10.3'
iphone_df

iphone_df.loc['iPhone 8'] = ['2016-09-22', '4.7', '2GB', 'ios 11.0', 'No'] // ë‚´ìš© ìˆ˜ì •í•˜ê¸°

iphone_df['ë””ìŠ¤í”Œë ˆì´'] = ['4.7 in', '4.7 in', '4.3 in', '4.5 in', '4.7 in', '4.7 in', '4.7 in'] // ì»¬ëŸ¼ ì „ì²´ ìˆ˜ì •í•˜ê¸°

iphone_df['Face ID'] = 'Yes' // íŠ¹ì • í•­ëª© ì»¬ëŸ¼ ì „ì²´ ë°”ê¾¸ê¸°


## DataFrameì— ê°’ ì“°ê¸° II

iphone_df[['ë””ìŠ¤í”Œë ˆì´', 'Face ID']] = 'X'

iphone_df.loc[['iPhone 7', 'iPhone X']] = '0'

iphone_df.loc[['iPhone 7':'iPhone X']] = '0'

iphone_df[['ë””ìŠ¤í”Œë ˆì´']] > 5

iphone_df.loc[iphone_df['ë””ìŠ¤í”Œë ˆì´'] > 5]

iphone_df.loc[iphone_df['ë””ìŠ¤í”Œë ˆì´'] > 5] = 'P'

iphone_df.iloc[[1, 3], [1, 4]]

iphone_df.iloc[[1, 3], [1, 4]] = 'V'


## 03. DataFrameì— ê°’ ì¶”ê°€/ì‚­ì œ


# ê°’ ì¶”ê°€
iphone_df.loc['iPhone XR'] = ['2016-09-22', '4.7', '2GB', 'ios 11.0', 'No'] // ê°’ ì¶”ê°€

iphone_df['ì œì¡°ì‚¬'] = 'Apple'

# ê°’ ì‚­ì œ
iphone_df.drop('iPhone XR', axis='index', inplace=False)

// inplace=False ëŠ” ê¸°ì¡´ì˜ ë°ì´í„°ë¥¼ ë³€ê²½í•˜ì§€ ì•ŠëŠ”ë‹¤. inplace=True ëŠ” ì›ë³¸ ë°ì´í„° ìˆ˜ì •

# columnsì˜ ê°’ ì‚­ì œ
iphone_df.drop('iPhone XR', axis='columns', inplace=True)

# ì—¬ëŸ¬ lowë¥¼ ì‚­ì œ
iphone_df.drop(['iPhone 7', 'iPhone 8', 'iPhone X'], axis='index', inplace=True)


## ì˜ëª»ëœ DataFrame ê³ ì¹˜ê¸° I

# í•´ì„¤
ìš°ë¦¬ëŠ” í¬ê²Œ ì„¸ ê°€ì§€ ì¼ì„ í•´ì•¼ í•©ë‹ˆë‹¤.

ID 1ì˜ ë¬´ê²Œë¥¼ 200ìœ¼ë¡œ ë³€ê²½í•˜ì„¸ìš”.
ID 21ì˜ rowë¥¼ ì‚­ì œí•˜ì„¸ìš”.
ID 20ì˜ rowë¥¼ ì¶”ê°€í•˜ì„¸ìš”. ID 20ì˜ í‚¤ëŠ” 70, ë¬´ê²ŒëŠ” 200ì…ë‹ˆë‹¤.
í•˜ë‚˜ì”© í•´ê²°í•´ ë´…ì‹œë‹¤.

# 1. ID 1ì˜ ë¬´ê²Œë¥¼ 200ìœ¼ë¡œ ë³€ê²½í•˜ì„¸ìš”.

import pandas as pd
df = pd.read_csv('data/body_imperial1.csv', index_col=0)
ë¨¼ì € ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜¨ í›„,


df.loc[1,"Weight (Pound)"] = 200
ì¸ë±ì‹±ì„ í•´ì„œ ê°’ì„ ì¨ì£¼ë©´ ë˜ê² ì£ .

# 2. ID 21ì˜ rowë¥¼ ì‚­ì œí•˜ì„¸ìš”.
rowë‚˜ columnì„ ì‚­ì œí•  ë•ŒëŠ” drop ë©”ì†Œë“œë¥¼ ì‚¬ìš©í•˜ë©´ ë©ë‹ˆë‹¤.


df.drop(21, axis="index", inplace=True)

# 3. ID 20ì˜ rowë¥¼ ì¶”ê°€í•˜ì„¸ìš”. ID 20ì˜ í‚¤ëŠ” 70, ë¬´ê²ŒëŠ” 200ì…ë‹ˆë‹¤.
ID 20ì˜ rowë¥¼ ì¸ë±ì‹±í•œ í›„, í‚¤ì™€ ë¬´ê²Œë¥¼ ë¦¬ìŠ¤íŠ¸ì— ë„£ì–´ì„œ ì „ë‹¬í•´ì¤ë‹ˆë‹¤.


df.loc[20] = [70,200]
ì´ ì‘ì—…ë“¤ì„ ëª¨ë‘ ë§ˆì¹˜ë‹ˆ, ìš°ë¦¬ê°€ ì›í•˜ëŠ” ê²°ê³¼ê°€ ì™„ì„±ë˜ì—ˆë„¤ìš”.

# ëª¨ë²” ë‹µì•ˆ

import pandas as pd
df = pd.read_csv('data/body_imperial1.csv', index_col=0)

# ë°ì´í„° ê³ ì¹˜ê¸°
df.loc[1,"Weight (Pound)"] = 200
df.drop(21, axis = "index", inplace = True)
df.loc[20] = [70,200]

# í…ŒìŠ¤íŠ¸ ì½”ë“œ
df


## ì˜ëª»ëœ DataFrame ê³ ì¹˜ê¸° II

# ì‹¤ìŠµ ì„¤ëª…
í‚¤ì™€ ëª¸ë¬´ê²Œê°€ ë‹´ê²¨ ìˆëŠ” í•œ DataFrameì´ ìˆëŠ”ë°ìš”. ëª‡ ê°€ì§€ ì˜ëª»ëœ ì‚¬í•­ë“¤ì´ ìˆìŠµë‹ˆë‹¤. ì´ë²ˆ ì±•í„°ì—ì„œ ë°°ìš´ ê¸°ë²•ë“¤ë¡œ DataFrameì„ ë°”ë¡œì¡ì•„ ë´…ì‹œë‹¤.

í•´ì•¼ í•  ì¼ì´ ë‘ ê°€ì§€ ìˆìŠµë‹ˆë‹¤.

'ë¹„ë§Œë„' columnì„ ì¶”ê°€í•˜ê³ , ëª¨ë“  IDì— ëŒ€í•´ 'ì •ìƒ'ìœ¼ë¡œ ì„¤ì •í•´ì£¼ì„¸ìš”.
'Gender' columnì˜ ê°’ì„ ID 0~10ê¹Œì§€ëŠ” 'Male' 11~20ê¹Œì§€ëŠ” 'Female'ë¡œ ë³€ê²½í•˜ì„¸ìš”.
ì‹¤ìŠµ ê²°ê³¼


ì£¼ì˜ ì‚¬í•­: ìë™ ì±„ì  ê³¼ì œì…ë‹ˆë‹¤. ì •ë‹µ ì¶œë ¥ ì½”ë“œëŠ” print ì—†ì´ ì‘ì„±í•´ ì£¼ì„¸ìš”. (ì˜ˆì‹œ: df)

# í•´ì„¤
ì£¼ì–´ì§„ DataFrameì—ì„œ ë‘ ê°€ì§€ë¥¼ ìˆ˜ì •í•˜ë©´ ë©ë‹ˆë‹¤.

ë¹„ë§Œë„ columnì„ ì¶”ê°€í•˜ê³ , ëª¨ë“  IDì— ëŒ€í•´ 'ì •ìƒ'ìœ¼ë¡œ ì„¤ì •í•´ì£¼ì„¸ìš”.
'Gender' columnì˜ ê°’ì„ ID 0~10ê¹Œì§€ëŠ” 'Male' 11~20ê¹Œì§€ëŠ” 'Female'ë¡œ ë³€ê²½í•˜ì„¸ìš”.
í•˜ë‚˜ì”© í•´ë´…ì‹œë‹¤.

1. 'ë¹„ë§Œë„' columnì„ ì¶”ê°€í•˜ê³ , ëª¨ë“  IDì— ëŒ€í•´ 'ì •ìƒ'ìœ¼ë¡œ ì„¤ì •í•´ì£¼ì„¸ìš”.
ìƒˆë¡œìš´ columnì„ ì¶”ê°€í•˜ë ¤ë©´, ë‹¤ìŒê³¼ ê°™ì€ ë¬¸ë²•ì„ ì‚¬ìš©í•˜ë©´ ë©ë‹ˆë‹¤.


df['column name'] = value
ìš°ë¦¬ì˜ ë°ì´í„°ì— ì ìš©í•´ ë´…ì‹œë‹¤.


# ë°ì´í„° ì½ê¸°
import pandas as pd
df = pd.read_csv('data/body_imperial2.csv', index_col=0)

# ë°ì´í„° ê³ ì¹˜ê¸°
df["ë¹„ë§Œë„"] = "ì •ìƒ"
2. 'Gender' columnì˜ ê°’ì„ ID 0~10ê¹Œì§€ëŠ” 'Male' 11~20ê¹Œì§€ëŠ” 'Female'ë¡œ ë³€ê²½í•˜ì„¸ìš”.
0ë¶€í„° 10ê¹Œì§€, ê·¸ë¦¬ê³  11ë¶€í„° 20ê¹Œì§€ë¥¼ ì–´ë–»ê²Œ ì¸ë±ì‹±í•  ìˆ˜ ìˆì„ê¹Œìš”?

ë¦¬ìŠ¤íŠ¸ ìŠ¬ë¼ì´ì‹±ì„ í™œìš©í•˜ë©´ ë©ë‹ˆë‹¤.

ì²˜ìŒë¶€í„° 10ê¹Œì§€ëŠ” :10, 11ë¶€í„° ë§ˆì§€ë§‰ê¹Œì§€ëŠ” 11:ë¡œ í‘œí˜„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.


df.loc[:10,"Gender"] = "Male"
df.loc[11:,"Gender"] = "Female"

# ì •ë‹µ ì¶œë ¥
df
ëª¨ë²” ë‹µì•ˆ

# ë°ì´í„° ì½ê¸°
import pandas as pd
df = pd.read_csv('data/body_imperial2.csv', index_col=0)

# ë°ì´í„° ê³ ì¹˜ê¸°
df["ë¹„ë§Œë„"] = "ì •ìƒ"
df.loc[:10,"Gender"] = "Male"
df.loc[11:,"Gender"] = "Female"

# ì •ë‹µ ì¶œë ¥
df


## index/column ì„¤ì •í•˜ê¸°

liverpool_df.rename(columns{'position': 'Position'}, inplace=True)

liverpool_df.rename(columns{'position': 'Position', 'position': 'Position', 'position': 'Position'}, inplace=True)

liverpool_df.index.name = 'Player Name'

liverpool_df.set_index('Number')

liverpool_df.set_index('Number', inplace=True)

liverpool_df.index

liverpool_df['Player Name'] = liverpool_df.index

// ì´ë¦„ì´ ê²¹ì¹ ìˆ˜ ìˆìœ¼ë‹ˆ ê³ ìœ  ë“±ë²ˆí˜¸ë¥¼ ì¸ë±ìŠ¤ ê°’ìœ¼ë¡œ ì‚¬ìš©



## ì„œë¥˜ ì „í˜• í•©ê²© ì—¬ë¶€
# ì‹¤ìŠµ ì„¤ëª…
í† ìµ ì‹œí—˜ì€ LC(ë“£ê¸°) íŒŒíŠ¸ì™€ RC(ë…í•´) íŒŒíŠ¸ë¡œ ì´ë£¨ì–´ì ¸ ìˆìŠµë‹ˆë‹¤. ê° íŒŒíŠ¸ê°€ 495ì  ë§Œì , ì´ 990ì ì´ ë§Œì ì…ë‹ˆë‹¤.

â€œì„œìš¸ í•­ê³µâ€ì— ì…ì‚¬í•˜ê¸° ìœ„í•´ì„œëŠ” í† ìµ ì ìˆ˜ë¥¼ ì œì¶œí•´ì•¼ í•˜ëŠ”ë°ìš”. ê° íŒŒíŠ¸ê°€ ìµœì†Œ 250ì , ì´ ì ìˆ˜ê°€ ìµœì†Œ 600ì ì´ ë˜ì–´ì•¼ ì„œë¥˜ ì „í˜•ì„ í•©ê²©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ê¸°ì¡´ DataFrameì— â€œí•©ê²© ì—¬ë¶€â€ë¼ëŠ” columnì„ ì¶”ê°€í•˜ê³ , í•©ê²©í•œ ì§€ì›ìëŠ” ë¶ˆë¦° ê°’ True, ë¶ˆí•©ê²©í•œ ì§€ì›ìëŠ” ë¶ˆë¦° ê°’ Falseë¥¼ ë„£ì–´ì£¼ë©´ ë©ë‹ˆë‹¤.
# toeic.csv
Gender,LC,RC
female,315,320
female,430,245
female,430,475
male,180,220
male,325,350
female,295,400
female,405,475
male,155,150
male,280,315
female,215,475

# í•´ì„¤
ë‘ ê°€ì§€ ì¡°ê±´ì„ ëª¨ë‘ ë§Œì¡±í•´ì•¼ ì„œë¥˜ ì „í˜•ì— í•©ê²©í•©ë‹ˆë‹¤.

ê° ì¡°ê±´ì„ ë¨¼ì € ì‚´í´ë³´ê³ , ë‘ ì¡°ê±´ì„ í•©ì¹˜ëŠ” ë°©ì‹ìœ¼ë¡œ ì ‘ê·¼í•´ ë´…ì‹œë‹¤.

# 1. ë‘ íŒŒíŠ¸ì˜ í•©ì´ 600ì ì„ ë„˜ì–´ì•¼ í•œë‹¤.
ë¨¼ì € ë‘ íŒŒíŠ¸ì˜ í•©ì´ 600ì ì„ ë„˜ëŠ”ì§€ í™•ì¸í•´ ë´…ì‹œë‹¤.


pass_total = df['LC'] + df['RC'] > 600
pass_total

0     True
1     True
2     True
3    False
4     True
5     True
6     True
7    False
8    False
9     True
dtype: bool
ì´ ê°’ì„ pass_totalì´ë¼ëŠ” ë³€ìˆ˜ì— ì €ì¥í•´ ë‘ì—ˆìŠµë‹ˆë‹¤.

# 2. ëª¨ë“  íŒŒíŠ¸ê°€ ìµœì†Œ 250ì  ì´ìƒì´ì–´ì•¼ í•œë‹¤.
ë‹¤ìŒìœ¼ë¡œ ë‘ íŒŒíŠ¸ ëª¨ë‘ ìµœì†Œ 250ì  ì´ìƒì¸ì§€ë„ í™•ì¸í•´ ë´…ì‹œë‹¤.
ì´ ê°’ì€ pass_bothë¼ëŠ” ë³€ìˆ˜ì— ì €ì¥í•´ ë‘¡ì‹œë‹¤.


pass_both = (df['LC'] >= 250) & ( df['RC'] >= 250)
pass_both

0     True
1    False
2     True
3    False
4     True
5     True
6     True
7    False
8     True
9    False
dtype: bool
ë‘ ì¡°ê±´ì„ ëª¨ë‘ ë§Œì¡±í•˜ëŠ” ì‚¬ëŒì„ ì°¾ëŠ”ë‹¤.
ì´ ë‘ ë³€ìˆ˜ pass_totalì™€ pass_bothë¥¼ ì‚¬ìš©í•´ì„œ, ë‘ ì¡°ê±´ì„ ëª¨ë‘ ë§Œì¡±í•˜ëŠ” ì§€ì›ìë¥¼ ì°¾ì•„ì„œ í•©ê²© ì—¬ë¶€ì— ì¶”ê°€í•©ë‹ˆë‹¤.


df['í•©ê²© ì—¬ë¶€'] = pass_total & pass_both
ìµœì¢…ì ìœ¼ë¡œ ì´ëŸ° ì½”ë“œê°€ ë©ë‹ˆë‹¤.


# ëª¨ë²” ë‹µì•ˆ

import pandas as pd

df = pd.read_csv('data/toeic.csv')

pass_total = df['LC'] + df['RC'] > 600
pass_both = (df['LC'] >= 250) & (df['RC'] >= 250)
df['í•©ê²© ì—¬ë¶€'] = pass_total & pass_both

# í…ŒìŠ¤íŠ¸ ì½”ë“œ
df


## 
# ì‹¤ìŠµ ì„¤ëª…
ë°ì´í„°í”„ë ˆì„ì´ ìˆìŠµë‹ˆë‹¤.
ì½”ë“œë¥¼ 4ì¤„ë§Œ ì¨ì„œ, ì•„ë˜ ë°ì´í„°í”„ë ˆì„ìœ¼ë¡œ ë°”ê¿”ë³´ì„¸ìš”.

# ì‹¤ìŠµ ê²°ê³¼

ì–´ëŠ ë¶€ë¶„ì´ ë°”ë€Œì—ˆì„ê¹Œìš”?
ëˆˆì— ì˜ ë“¤ì–´ì˜¤ì§€ ì•ŠëŠ”ë‹¤ë©´, í•˜ë‚˜ì”© íŒíŠ¸ë¥¼ ì—´ì–´ í™•ì¸í•´ë³´ê³  ì½”ë“œë¥¼ ì‘ì„±í•´ ë³´ì„¸ìš”.

ì£¼ì˜ ì‚¬í•­: ìë™ ì±„ì  ê³¼ì œì…ë‹ˆë‹¤. ì •ë‹µ ì¶œë ¥ ì½”ë“œëŠ” print ì—†ì´ ì‘ì„±í•´ ì£¼ì„¸ìš”. (ì˜ˆì‹œ: df)


# í•´ì„¤
ë‘ ì´ë¯¸ì§€ë¥¼ ì˜ ì‚´í´ë³´ë©´, ì„¸ ê°€ì§€ì˜ ë³€í™”ê°€ ìˆì—ˆìŒì„ ë°œê²¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

1. 'A' columnì´ ëª¨ë‘ 2ë°°ê°€ ë˜ì—ˆìŠµë‹ˆë‹¤.
ì´ ë³€í™”ëŠ” ì•„ë˜ì™€ ê°™ì´ ì‘ì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.


df['A'] = df['A'] * 2
2. 'B'ì—ì„œ 'E'ê¹Œì§€ì˜ columnì€ 80ë³´ë‹¤ í° ê²ƒì€ 1, ì‘ì€ ê²ƒì€ 0ìœ¼ë¡œ ë°”ë€Œì—ˆìŠµë‹ˆë‹¤.
ì´ ë‚´ìš©ì€ ë¦¬ìŠ¤íŠ¸ì™€ ë¶ˆë¦° ì—°ì‚°ì„ í™œìš©í•´ì„œ í•´ê²°í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.


# 80ë³´ë‹¤ ì‘ì€ ê°’ì€ 0ìœ¼ë¡œ ë³€ê²½
lowers = df.loc[:, 'B':'E'] < 80
df[lowers] = 0

# 80 ì´ìƒì˜ ê°’ì€ 1ë¡œ ë³€ê²½
highers = df.loc[:, 'B':'E'] >= 80
df[highers] = 1
ì´ ì½”ë“œë¥¼ ì¤„ì—¬ì„œ ì´ë ‡ê²Œ ì“¸ ìˆ˜ë„ ìˆê² ì£ ?


df[df.loc[:, 'B':'E'] < 80] = 0
df[df.loc[:, 'B':'E'] >= 80] = 1
3. 2ë²ˆ indexì˜ 'F' column ê°’ì´ 29ì—ì„œ 99ë¡œ ë°”ë€Œì—ˆìŠµë‹ˆë‹¤.
ìš°ë¦¬ê°€ ì˜ ì•„ëŠ” DataFrame ê¸°ë³¸ ì¸ë±ì‹±ì„ í™œìš©í•˜ë©´ ë©ë‹ˆë‹¤.


df.loc[2, 'F'] = 99
ëª¨ë“  ë³€ê²½ì„ ì½”ë“œë¡œ ì‘ì„±í•˜ë©´ ì•„ë˜ì™€ ê°™ìŠµë‹ˆë‹¤.

# ëª¨ë²” ë‹µì•ˆ

import pandas as pd

df = pd.read_csv('data/Puzzle_before.csv')

df['A'] = df['A'] * 2
df[df.loc[:, 'B':'E'] < 80] = 0
df[df.loc[:, 'B':'E'] >= 80] = 1
df.loc[2, 'F'] = 99

# í…ŒìŠ¤íŠ¸ ì½”ë“œ
df



## í° DataFrame ì‚´í´ë³´ê¸°

laptops_df.head(7) // ë°ì´í„° ì²«ë¶€ë¶„ 7ì¤„ í‘œì‹œ

laptops_df.tail(7) // ë°ì´í„° ë§ˆì§€ë§‰ 7ì¤„ í‘œì‹œ

laptops_df.shape // ë°ì´í„°ì˜ í¬ê¸° ëª¨ì–‘

laptops_df.columns // ì–´ë–¤ ì»¬ëŸ¼ì´ ìˆëŠ” í™•ì¸

laptops_df.info // ì •ë³´ë¥¼ í™•ì¸ ê°€ëŠ¥

laptops_df.describe()  // í†µê³„ë¥¼ í™•ì¸

laptops_df.sort_values(by='price')  // price ê¸°ì¤€ìœ¼ë¡œ ì •ë ¬ (ê¸°ë³¸ì ìœ¼ë¡œ ë‚®ì€ ìˆœìœ¼ë¡œ ì •ë ¬)

laptops_df.sort_values(by='price', ascending=True)  // priceê°€ ë‚®ì€ ìˆœìœ¼ë¡œ ì •ë ¬

laptops_df.sort_values(by='price', ascending=False)  // priceê°€ ë†’ì€ ìˆœìœ¼ë¡œ ì •ë ¬

laptops_df.sort_values(by='price', ascending=False, inplace=True)  // ì›ë³¸ ë°ì´í„°ë¥¼ ìˆ˜ì •í•˜ê¸° ìœ„í•´ì„œëŠ” inplaceë¥¼ ì‚¬ìš©í•´ì•¼ í•œë‹¤.


## í° Series ì‚´í´ë³´ê¸°

laptops_df['brand']  // brand ì „ì²´ë¥¼ ë³´ì—¬ì¤€ë‹¤.

laptops_df['brand'].unique()  // brandê°€ ê²¹ì¹˜ì§€ ì•Šê³  í•˜ë‚˜ì”©ë§Œ ë‚˜ì—´í•œë‹¤.

laptops_df['brand'].value_counts()  // brand ë³„ë¡œ ì¹´ìš´íŠ¸ í•œë‹¤.

laptops_df['brand'].describe()  // ìš”ì•½í•´ì„œ ë³¼ ìˆ˜ ìˆë‹¤.


## ì—¬í–‰ì§€ ì„ ì •í•˜ê¸° I
# ì§ˆë¬¸ 1
ì—¬í–‰ì„ ì¢‹ì•„í•˜ëŠ” ìµì¤‘ì´ëŠ” ì—¬í–‰ì§€ë¥¼ ì•Œì•„ë³´ê³  ìˆìŠµë‹ˆë‹¤. ì£¼ì–´ì§„ ë°ì´í„°ì—ëŠ” ì´ ëª‡ ê°œì˜ ë„ì‹œì™€ ëª‡ ê°œì˜ ë‚˜ë¼ê°€ ìˆëŠ”ì§€ ì•Œì•„ë§í˜€ ë³´ì„¸ìš”.

ë‹µì•ˆì€ ë„ì‹œ/ë‚˜ë¼ í˜•ì‹ìœ¼ë¡œ ìˆ«ìë§Œ ì…ë ¥í•´ ì£¼ì„¸ìš”. (ì˜ˆì‹œ: 156/77)

249/61
ğŸ‘ğŸ» ì •ë‹µì…ë‹ˆë‹¤.

í€´ì¦ˆ í•´ì„¤


df['City / Urban area'].value_counts()
ì„ ì‹¤í–‰í•˜ë©´, 'City / Urban area' columnì˜ í•­ëª©ë“¤ì„ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.


df['City / Urban area'].value_counts().shape

(249,)
ë¥¼ í™•ì¸í•˜ë©´ ì´ 249ê°œì˜ ë„ì‹œê°€ ìˆìŒì„ ì•Œ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ë§ˆì°¬ê°€ì§€ë¡œ ë‚˜ë¼ì˜ ê²½ìš°ì—ë„


df['Country'].value_counts().shape

(61,)
ì„ í†µí•´ ëª‡ ê°œ ë‚˜ë¼ê°€ ìˆëŠ”ì§€ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ë”°ë¼ì„œ 249ê°œ ë„ì‹œ, 61ê°œ ë‚˜ë¼ê°€ ì •ë‹µì…ë‹ˆë‹¤.

# ì§ˆë¬¸ 2
ì‚¬ëŒ ë§Œë‚˜ê¸°ë¥¼ ì¢‹ì•„í•˜ëŠ” ìµì¤‘ì´ëŠ” ê°€ì¥ ì‚¬ëŒì´ ë¶ë¹„ëŠ” ë„ì‹œë¡œ ì—¬í–‰ì„ ê°€ê¸°ë¡œ ë§ˆìŒ ë¨¹ì—ˆìŠµë‹ˆë‹¤. ì£¼ì–´ì§„ ë°ì´í„°ì—ì„œ, ì¸êµ¬ ë°€ë„(ëª…/sqKm) ê°€ 10000 ì´ ë„˜ëŠ” ë„ì‹œëŠ” ì´ ëª‡ ê°œì¸ì§€ ì•Œì•„ë³´ì„¸ìš”.

ì°¸ê³ ë¡œ ì¸êµ¬ ë°€ë„ëŠ” ì¸êµ¬ ìˆ˜ / ë•…ì˜ ë©´ì  (in sqKm) ë¡œ êµ¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ë‹µì•ˆì€ ìˆ«ìë¡œë§Œ ì…ë ¥í•´ ì£¼ì„¸ìš”. (ì˜ˆì‹œ: 24)

19
ğŸ‘ğŸ» ì •ë‹µì…ë‹ˆë‹¤.

í€´ì¦ˆ í•´ì„¤

ë¨¼ì € ì¸êµ¬ ë°€ë„ë¥¼ ê³„ì‚°í•©ë‹ˆë‹¤.


df["Density"] = df["Population"] / df["Land area (in sqKm)"]
ê³„ì‚°í•œ ì¸êµ¬ ë°€ë„ì— ë¶ˆë¦° ì—°ì‚°ì„ ì ìš©í•˜ì—¬ ì¸ë±ì‹± í•©ë‹ˆë‹¤.


df_high_density = df[df["Density"] > 10000]
ë¶ˆë¦° ì—°ì‚°ìœ¼ë¡œ ì¸ë±ì‹±í•œ df_high_densityì— ì´ ëª‡ ê°œì˜ ë°ì´í„°ê°€ ìˆëŠ”ì§€ info() ë©”ì†Œë“œë¥¼ ì ìš©í•´ì„œ ì‚´í´ë´…ì‹œë‹¤.


df_high_density.info()

<class 'pandas.core.frame.DataFrame'>
Int64Index: 19 entries, 32 to 129
Data columns (total 5 columns):
City / Urban area      19 non-null object
Country                19 non-null object
Population             19 non-null int64
Land area (in sqKm)    19 non-null int64
Density                19 non-null float64
dtypes: float64(1), int64(2), object(2)
memory usage: 912.0+ bytes
ì´ 19ê°œì˜ rowê°€ ìˆìŒì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

# ì§ˆë¬¸ 3
ì´ë²ˆì—ëŠ” ì¸êµ¬ ë°€ë„ê°€ ê°€ì¥ ë†’ì€ ë„ì‹œë¥¼ ì°¾ì•„ë´…ì‹œë‹¤.

ë‹µì•ˆì€ ë°ì´í„°ì— ì íŒ ì´ë¦„ì„ ê·¸ëŒ€ë¡œ ì…ë ¥í•´ ì£¼ì„¸ìš”. (ì˜ˆì‹œ: Seoul)

Mumbai
ğŸ‘ğŸ» ì •ë‹µì…ë‹ˆë‹¤.

í€´ì¦ˆ í•´ì„¤

ì´ì „ ë¬¸ì œì™€ ê°™ì´ ì¸êµ¬ ë°€ë„ë¥¼ ë¨¼ì € ê³„ì‚°í•©ë‹ˆë‹¤.


df["Density"] = df["Population"] / df["Land area (in sqKm)"]
ì´ ì¸êµ¬ ë°€ë„ë¥¼ ê¸°ì¤€ìœ¼ë¡œ ì •ë ¬í•©ë‹ˆë‹¤.


density_ranks = df.sort_values(by="Density", ascending = False)
ì •ë ¬ëœ ë°ì´í„°ì—ì„œ ë„ì‹œ ì •ë³´ë§Œ ë½‘ì•„ì„œ í™•ì¸í•´ ë´…ì‹œë‹¤.


density_ranks['City / Urban area']

75                      Mumbai
74                     Kolkata
101                    Karachi
                ...           
57                         Pau
220                    Hickory
196            Barnstable Town
Name: City / Urban area, Length: 249, dtype: object
Mumbaiê°€ ê°€ì¥ ë†’ì€ ì¸êµ¬ ë°€ë„ë¥¼ ê°–ëŠ”ë‹¤ëŠ” ê²ƒì„ ì•Œ ìˆ˜ ìˆìŠµë‹ˆë‹¤.



## ì—¬í–‰ì§€ ì„ ì •í•˜ê¸° II
# world_cities.csv
,City / Urban area,Country,Population,Land area (in sqKm)
0,Buenos Aires,Argentina,11200000,2266
1,Melbourne,Australia,3162000,2080
2,Sydney,Australia,3502000,1687
3,Brisbane,Australia,1508000,1603
4,Perth,Australia,1177000,964
5,Adelaide,Australia,1002000,729
6,Gold Coast,Australia,422000,383
7,Vienna,Austria,1550000,453
8,Baku/Sumqayit,Azerbaijan,2100000,544
9,Brussels,Belgium,1570000,712
10,Antwerp,Belgium,915000,596
11,Sao Paulo,Brazil,17700000,1968
12,Rio de Janeiro,Brazil,10800000,1580
13,Belo Horizonte,Brazil,4000000,868
14,Curitiba,Brazil,2500000,648
15,Brasilia,Brazil,1625000,583
16,Fortaleza,Brazil,2650000,583
17,Porto Alegre,Brazil,2800000,583
18,Campinas,Brazil,1750000,492
19,Goiania,Brazil,1475000,479
20,Recife,Brazil,3025000,376
21,Phnom Penh,Cambodia,1500000,518
22,Montreal.,Canada,3216000,1740
23,Toronto,Canada,4367000,1655
24,Vancouver,Canada,1830000,1120
25,Edmonton,Canada,782000,850
26,Calgary,Canada,879000,702
27,Quebec,Canada,635000,669
28,Ottawa/Hull,Canada,828000,490
29,Winnipeg,Canada,627000,446
30,St. Catharines,Canada,300000,389
31,Santiago,Chile,5425000,648
32,Beijing,China,8614000,748
33,Shanghai,China,10000000,746
34,Shenzhen,China,8000000,466
35,Shenyang,China,4200000,453
36,Tianjin,China,4750000,453
37,Dalian,China,2750000,389
38,Bogota,Colombia,7000000,518
39,Kinshasa,Congo,5000000,469
40,Lumumbashi,Congo,1200000,427
41,Copenhagen,Denmark,1525000,816
42,Quito,Ecuador,1500000,479
43,Cairo,Egypt,12200000,1295
44,Helsinki,Finland,1000000,479
45,Paris,France,9645000,2723
46,Marseille,France,1350000,1204
47,Bordeaux,France,754000,1057
48,Lyon,France,1349000,954
49,Toulouse,France,761000,808
50,Nice,France,889000,721
51,Toulon,France,520000,713
52,Avignon,France,254000,508
53,Valenciennes,France,357000,507
54,Douai/Lens,France,519000,489
55,Nantes,France,545000,476
56,Lille,France,1050000,474
57,Pau,France,181000,450
58,Tours,France,298000,421
59,Bethune,France,259000,390
60,Essen/DÃ¼sseldorf,Germany,7350000,2642
61,Berlin,Germany,3675000,984
62,Frankfurt,Germany,2260000,984
63,Hamburg,Germany,1925000,829
64,Cologne/Bonn,Germany,1960000,816
65,Munich,Germany,1600000,518
66,Stuttgart,Germany,1250000,414
67,Aachen,Germany,585000,401
68,Accra,Ghana,1500000,453
69,Athens,Greece,3685000,684
70,Budapest,Hungary,1800000,702
71,Delhi,India,14300000,1295
72,Hyderabad,India,5300000,583
73,Bangalore,India,5400000,534
74,Kolkata,India,12700000,531
75,Mumbai,India,14350000,484
76,Chennai,India,5950000,414
77,Jakarta,Indonesia,14250000,1360
78,Tehran,Iran,7250000,686
79,Baghdad,Iraq,5500000,596
80,Dublin,Ireland,1075000,365
81,Tel Aviv,Israel,2300000,453
82,Milan,Italy,4250000,1554
83,Rome,Italy,2500000,842
84,Naples,Italy,2400000,583
85,Turin,Italy,1350000,500
86,Tokyo/Yokohama,Japan,33200000,6993
87,Nagoya,Japan,9000000,2875
88,Osaka/Kobe/Kyoto,Japan,16425000,2564
89,Fukuoka,Japan,2150000,544
90,Sapporo,Japan,2075000,414
91,Kuwait,Kuwait,1600000,544
92,Beirut,Lebanon,1800000,648
93,Kuala Lumpur,Malaysia,4400000,1606
94,Mexico City,Mexico,17400000,2072
95,Guadalajara,Mexico,3500000,596
96,Monterey,Mexico,3200000,479
97,Rotterdam,Netherlands,1325000,531
98,Auckland,New Zealand,1050000,531
99,Lagos,Nigeria,13400000,738
100,Lahore,Pakistan,5100000,622
101,Karachi,Pakistan,9800000,518
102,Lima,Peru,7000000,596
103,Manila,Philippines,14750000,1399
104,Katowice,Poland,2200000,544
105,Warsaw,Poland,2000000,466
106,Lisbon,Portugal,2250000,881
107,Porto,Portugal,1035000,389
108,San Juan,Puerto Rico,2217000,2309
109,Aguadilla,Puerto Rico,299000,620
110,Moscow,Russia,10500000,2150
111,St Petersburg,Russia,5300000,622
112,Nizhni Novgorod,Russia,1500000,505
113,Arabia,Saudi,1525000,673
114,Riyadh,Saudi Arabia,4000000,1101
115,Jeddah,Saudi Arabia,2750000,777
116,Singapore,Singapore,4000000,479
117,Johannesburg/East Rand,South Africa,6000000,2396
118,Durban,South Africa,2900000,829
119,Cape Town,South Africa,2700000,686
120,Pretoria,South Africa,1850000,673
121,Vereeniging,South Africa,600000,479
122,Port Elizabeth,South Africa,900000,427
123,Seoul/Incheon,South Korea,17500000,1049
124,Madrid,Spain,4900000,945
125,Barcelona,Spain,3900000,803
126,Khartoum,Sudan,4000000,583
127,Stockholm,Sweden,1400000,518
128,Taichung,Taiwan,2000000,510
129,Taipei,Taiwan,5700000,376
130,Bangkok,Thailand,6500000,1010
131,Istanbul,Turkey,9000000,1166
132,Ankara,Turkey,3100000,583
133,Abu Dhabi,UAE,550000,777
134,Dubai,UAE,1900000,712
135,London,UK,8278000,1623
136,Birmingham,UK,2284000,600
137,Manchester,UK,2245000,558
138,Leeds/Bradford,UK,1499000,370
139,Glasgow,UK,1200000,368
140,Donetsk,Ukraine,1400000,451
141,New York Metro,USA,17800000,8683
142,Chicago,USA,8308000,5498
143,Atlanta,USA,3500000,5083
144,Philadelphia,USA,5149000,4661
145,Boston,USA,4032000,4497
146,Los Angeles,USA,11789000,4320
147,Dallas/Fort Worth,USA,4146000,3644
148,Houston,USA,3823000,3355
149,Detroit,USA,3903000,3267
150,Washington,USA,3934000,2996
151,Miami,USA,4919000,2891
152,Seattle,USA,2712000,2470
153,Minneapolis/St. Paul,USA,2389000,2316
154,Pittsburgh,USA,1753000,2208
155,St. Louis,USA,2078000,2147
156,Tampa//St. Petersburg,USA,2062000,2078
157,Phoenix/Mesa,USA,2907000,2069
158,San Diego,USA,2674000,2026
159,Baltimore,USA,2076000,1768
160,Cincinnati,USA,1503000,1740
161,Cleveland,USA,1787000,1676
162,Kansas City,USA,1362000,1514
163,Indianapolis,USA,1219000,1432
164,San Francisco//Oakland,USA,3229000,1365
165,Virginia Beach,USA,1394000,1364
166,Providence,USA,1175000,1304
167,Denver,USA,1985000,1292
168,Milwaukee,USA,1309000,1261
169,Portland,USA,1583000,1228
170,Hartford,USA,852000,1216
171,Bridgeport//Stamford,USA,889000,1205
172,Orlando,USA,1157000,1174
173,Riverside/San Bernardino,USA,1507000,1136
174,Richmond,USA,819000,1131
175,Charlotte,USA,759000,1126
176,Nashville,USA,750000,1116
177,Jacksonville,USA,882000,1063
178,San Antonio,USA,1328000,1056
179,Memphis,USA,972000,1036
180,Columbus,USA,1133000,1030
182,Louisville,USA,864000,1013
183,Sacramento,USA,1393000,956
184,Buffalo,USA,977000,950
185,Knoxville,USA,420000,879
186,Dayton,USA,703000,838
187,Oklahoma City,USA,747000,835
188,Raleigh,USA,542000,828
189,Austin,USA,902000,824
190,McAllen,USA,523000,813
191,Springfield,USA,574000,800
192,Akron,USA,570000,797
193,Rochester,USA,694000,764
194,Tucson,USA,720000,755
195,Chattanooga,USA,344000,751
196,Allentown/Bethlehem,USA,576000,750
197,Barnstable Town,USA,244000,741
198,Las Vegas,USA,1314000,741
199,New Haven,USA,531000,739
200,Albany,USA,559000,736
201,Baton Rouge,USA,479000,727
202,Sarasota//Bradenton,USA,559000,700
203,Columbia,USA,421000,697
204,Poughkeepsie,USA,352000,686
205,Tulsa,USA,558000,677
206,San Jose,USA,1538000,674
207,Grand Rapids,USA,539000,667
208,Winston/Salem,USA,299000,651
209,Worcester,USA,430000,648
210,Augusta,USA,336000,600
211,Flint,USA,365000,599
212,Charleston,USA,423000,598
213,Salt Lake City,USA,888000,598
214,Youngstown,USA,417000,591
215,Greenville,USA,302000,587
216,Omaha,USA,627000,586
217,Albuquerque,USA,598000,580
218,Palm Bay,USA,393000,569
219,El Paso,USA,675000,568
220,Pensacola,USA,324000,568
221,Hickory,USA,188000,546
222,Mobile,USA,318000,546
223,Harrisburg,USA,363000,540
224,Asheville,USA,222000,536
225,Little Rock,USA,360000,532
226,Toledo,USA,503000,524
227,Lancaster,USA,324000,517
228,New Orleans,USA,1009000,512
229,Colorado Springs,USA,466000,511
230,Cape Coral,USA,330000,497
231,Ogden,USA,418000,466
232,Syracuse,USA,402000,465
233,Wichita,USA,422000,465
234,Concord,USA,553000,457
235,Port St Lucie,USA,271000,438
236,Fayetteville,USA,276000,433
237,Jackson,USA,293000,417
238,Scranton,USA,385000,411
239,Huntsville,USA,213000,407
240,Durham,USA,288000,406
241,South Bend,USA,276000,404
242,Shreveport,USA,275000,401
243,Honolulu,USA,718000,399
244,Bonita Springs / Naples,USA,221000,389
245,Canton,USA,267000,372
246,Spokane,USA,335000,371
247,Tashkent,Uzbekistan,2200000,531
248,Ho Chi Minh City,Vietnam,4900000,518
249,Harare,Zimbabwe,1750000,712


# ì§ˆë¬¸ 1
ìµì¤‘ì´ëŠ” ëˆ„ë‚˜ì—ê²Œ ì—¬í–‰ì§€ë¥¼ ì¶”ì²œ ë°›ìœ¼ë ¤ê³  í•©ë‹ˆë‹¤.
ê·¸ëŸ°ë° ë‚˜ë¼ ì´ë¦„ì´ ê¸°ì–µë‚˜ì§€ ì•Šê³ , ì´ ë°ì´í„°ì—ì„œ ê·¸ ë‚˜ë¼ì— ì†í•œ ë„ì‹œê°€ ë”± 4ê°œ ë“¤ì–´ ìˆì—ˆë‹¤ëŠ” ê²ƒë§Œ ê¸°ì–µì´ ë‚œë‹¤ê³  í•˜ë„¤ìš”. ì´ ë‚˜ë¼ëŠ” ë¬´ì—‡ì¼ê¹Œìš”?

ë‹µì•ˆì€ ë°ì´í„°ì— ì íŒ ì´ë¦„ ê·¸ëŒ€ë¡œ ì ì–´ ì£¼ì„¸ìš”. (ì˜ˆì‹œ: France)

Italy
ğŸ‘ğŸ» ì •ë‹µì…ë‹ˆë‹¤.

# í€´ì¦ˆ í•´ì„¤

ë¨¼ì €, world_cities.csv íŒŒì¼ì„ ë¶ˆëŸ¬ ì˜µë‹ˆë‹¤.
ì´ ë°ì´í„°ì˜ ë¡œìš° í•˜ë‚˜í•˜ë‚˜ëŠ” ê° ë„ì‹œì˜ ì •ë³´ë¥¼ ë‹´ê³  ìˆëŠ”ë°ìš”. Country ì»¬ëŸ¼ì„ ë³´ë©´ ì´ ë„ì‹œê°€ ì–´ë–¤ ë‚˜ë¼ì— ì†í•œ ë„ì‹œì¸ì§€ ì•Œ ìˆ˜ ìˆìŠµë‹ˆë‹¤.


import pandas as pd

world_cities = pd.read_csv("data/world_cities.csv")

world_cities['Country']

0       Argentina
1       Australia
2       Australia
3       Australia
4       Australia
5       Australia
6       Australia
7         Austria
8      Azerbaijan
9         Belgium
10        Belgium
          ...    
220           USA
221           USA
í•œ ë²ˆë§Œ ë“±ì¥í•˜ëŠ” êµ­ê°€ë„ ìˆê³ , ì—¬ëŸ¬ ë²ˆ ë“±ì¥í•˜ëŠ” êµ­ê°€ë„ ìˆë„¤ìš”. ì—¬ê¸°ì„œ ìµì¤‘ì´ê°€ ì¶”ì²œë°›ì€ ë‚˜ë¼ë¥¼ ì°¾ìœ¼ë ¤ë©´, ê° êµ­ê°€ê°€ ë°ì´í„°ì— ëª‡ ë²ˆì”© ë“±ì¥í•˜ëŠ”ì§€ í™•ì¸í•´ ë³´ë©´ ë˜ê² ì£ ?


countries = world_cities['Country'].value_counts()

USA             106
France           15
Brazil           10
Canada            9
               ... 
Vietnam           1
Sudan             1
ì´ì œ ì—¬ê¸°ì„œ ì´ 4ë²ˆ ë“±ì¥í•œ ë‚˜ë¼ë¥¼ ì°¾ìœ¼ë©´ ë©ë‹ˆë‹¤.


countries[countries == 4]

Italy    4
Name: Country, dtype: int64
Italyê°€ ì´ 4ë²ˆ ë“±ì¥í•œë‹¤ê³  ë˜ì–´ ìˆë„¤ìš”. ë‹¤ì‹œ ë§í•´, ì´ ë°ì´í„°ì—ëŠ” Italyì— ì†í•œ ë„ì‹œê°€ 4ë²ˆ ë“±ì¥í•œë‹¤ê³  ë³¼ ìˆ˜ ìˆì£ . ì¦‰, ì •ë‹µì€ Italy ì…ë‹ˆë‹¤.



## ì½”ë“œì‡ ëŒ€í•™êµ: ìˆ˜ê°•ì‹ ì²­ ì¤€ë¹„í•˜ê¸°

# ì‹¤ìŠµ ì„¤ëª…
2,000ëª…ì˜ ì½”ë“œì‡ ëŒ€í•™êµ í•™ìƒë“¤ì´ ìˆ˜ê°•ì‹ ì²­ì„ í–ˆìŠµë‹ˆë‹¤.

ìˆ˜ê°•ì‹ ì²­ì—ëŠ” ë‹¤ìŒ 3ê°œì˜ ì¡°ê±´ì´ ìˆìŠµë‹ˆë‹¤.

â€œinformation technologyâ€ ê³¼ëª©ì€ ì‹¬í™”ê³¼ëª©ì´ë¼ 1í•™ë…„ì€ ìˆ˜ê°•í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.
â€œcommerceâ€ ê³¼ëª©ì€ ê¸°ì´ˆê³¼ëª©ì´ê³  ë§ì€ í•™ìƒë“¤ì´ ë“£ëŠ” ìˆ˜ì—…ì´ë¼ 4í•™ë…„ì€ ìˆ˜ê°•í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.
ìˆ˜ê°•ìƒì´ 5ëª…ì´ ë˜ì§€ ì•Šìœ¼ë©´ ê°•ì˜ëŠ” íê°•ë˜ì–´ ìˆ˜ê°•í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.
ê¸°ì¡´ DataFrameì— â€œstatusâ€ë¼ëŠ” ì´ë¦„ì˜ columnì„ ì¶”ê°€í•˜ê³ , í•™ìƒì´ ìˆ˜ê°• ê°€ëŠ¥í•œ ìƒíƒœì´ë©´ â€œallowedâ€, ìˆ˜ê°• ë¶ˆê°€ëŠ¥í•œ ìƒíƒœì´ë©´ â€œnot allowedâ€ë¥¼ ë„£ì–´ì£¼ì„¸ìš”.

# ì‹¤ìŠµ ê²°ê³¼
ì£¼ì˜ ì‚¬í•­: ìë™ ì±„ì  ê³¼ì œì…ë‹ˆë‹¤. ì •ë‹µ ì¶œë ¥ ì½”ë“œëŠ” print ì—†ì´ ì‘ì„±í•´ ì£¼ì„¸ìš”. (ì˜ˆì‹œ: df)

# í•´ì„¤
ì´ ì„¸ ê°œì˜ ì¡°ê±´ì´ ìˆìŠµë‹ˆë‹¤.

â€œinformation technologyâ€ ê³¼ëª©ì€ ì‹¬í™”ê³¼ëª©ì´ë¼ 1í•™ë…„ì€ ìˆ˜ê°•í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.
â€œcommerceâ€ ê³¼ëª©ì€ ê¸°ì´ˆê³¼ëª©ì´ê³  ë§ì€ í•™ìƒë“¤ì´ ë“£ëŠ” ìˆ˜ì—…ì´ë¼ 4í•™ë…„ì€ ìˆ˜ê°•í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.
ìˆ˜ê°•ìƒì´ 5ëª…ì´ ë˜ì§€ ì•Šìœ¼ë©´ ê°•ì˜ëŠ” íê°• ë˜ì–´ ìˆ˜ê°•í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.
ì´ ì¡°ê±´ì´ â€œstatusâ€ë¼ëŠ” columnì— â€œallowedâ€ ë˜ëŠ” â€œnot allowedâ€ í˜•íƒœë¡œ ì €ì¥ë˜ì–´ì•¼ í•©ë‹ˆë‹¤.

ë¨¼ì € "status"ë¼ëŠ” columnì„ ë§Œë“¤ê³ , ëª¨ë“  ë°ì´í„°ë¥¼ "allowed"ë¡œ ì±„ì›Œë´…ì‹œë‹¤.


import pandas as pd

df = pd.read_csv('data/enrolment_1.csv')

df["status"] = "allowed"
ì´ì œ ì—¬ê¸°ì—ì„œ ê° ì¡°ê±´ì— í•´ë‹¹í•˜ëŠ” ê²½ìš°, "not allowed"ë¡œ ë³€ê²½í•´ ì£¼ë©´ ë©ë‹ˆë‹¤.

# ì¡°ê±´ 1: â€œinformation technologyâ€ ê³¼ëª©ì€ ì‹¬í™”ê³¼ëª©ì´ë¼ 1í•™ë…„ì€ ìˆ˜ê°•í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.
â€œinformation technologyâ€ ê³¼ëª©ì„ ìˆ˜ê°•í•˜ëŠ” ëª¨ë“  ë°ì´í„°ë¥¼ boolean1ì— ì €ì¥í•˜ê³ , 1í•™ë…„ì— í•´ë‹¹í•˜ëŠ” ëª¨ë“  ë°ì´í„°ë¥¼ boolean2ì— ì €ì¥í•©ì‹œë‹¤.


boolean1 = df["course name"] == "information technology"
boolean2 = df["year"] == 1
ê·¸ë¦¬ê³  ì´ ë‘ ê°’ì— & ë¶ˆë¦° ì—°ì‚°ì„ í•˜ë©´, ë‘ ì¡°ê±´ì„ ë™ì‹œì— ë§Œì¡±í•˜ëŠ” ë°ì´í„°ë§Œ ì¸ë±ì‹±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.


df.loc[boolean1 & boolean2, "status"] = "not allowed"

# ì¡°ê±´ 2: â€œcommerceâ€ ê³¼ëª©ì€ ê¸°ì´ˆê³¼ëª©ì´ê³  ë§ì€ í•™ìƒë“¤ì´ ë“£ëŠ” ìˆ˜ì—…ì´ë¼ 4í•™ë…„ì€ ìˆ˜ê°•í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.
â€œcommerceâ€ ê³¼ëª©ì„ ìˆ˜ê°•í•˜ëŠ” ëª¨ë“  ë°ì´í„°ë¥¼ boolean3ì— ì €ì¥í•˜ê³ , 4í•™ë…„ì— í•´ë‹¹í•˜ëŠ” ëª¨ë“  ë°ì´í„°ë¥¼ boolean4ì— ì €ì¥í•©ì‹œë‹¤.


boolean3 = df["course name"] == "commerce"
boolean4 = df["year"] == 4
ê·¸ë¦¬ê³  ì´ ë‘ ê°’ì— & ë¶ˆë¦° ì—°ì‚°ì„ í•˜ë©´, ë‘ ì¡°ê±´ì„ ë™ì‹œì— ë§Œì¡±í•˜ëŠ” ë°ì´í„°ë§Œ ì¸ë±ì‹±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.


df.loc[boolean3 & boolean4, "status"] = "not allowed"

# ì¡°ê±´ 3: ìˆ˜ê°•ìƒì´ 5ëª…ì´ ë˜ì§€ ì•Šìœ¼ë©´ ê°•ì˜ëŠ” íê°•ë˜ì–´ ìˆ˜ê°•í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.
ìš°ì„  statusê°€ allowedì¸ ë°ì´í„°ë§Œ ëª¨ì•„ ë´…ì‹œë‹¤.


allowed = df["status"] == "allowed"
value_counts()ë¥¼ ì‚¬ìš©í•˜ë©´, ê° ê³¼ëª©ë³„ ì‹ ì²­ ì¸ì›ì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.


course_counts = df.loc[allowed, "course name"].value_counts()
course_counts

arts                                      158
science                                   124
commerce                                  101
english                                    56
education                                  41
                                         ... 
chemstry                                    1
jmc                                         1
b.ed                                        1
pgdca                                       1
sciences                                    1
Name: course name, Length: 296, dtype: int64
ê° ê³¼ëª©ë³„ ì‹ ì²­ ì¸ì›ì´ 5 ì´í•˜ì¸ ê³¼ëª©ì˜ indexë§Œ ê³¨ë¼ì„œ ë¦¬ìŠ¤íŠ¸ë¡œ ë§Œë“¤ì–´ì¤ë‹ˆë‹¤.


closed_courses = list(course_counts[course_counts < 5].index)
print(closed_courses)

['refactoring', 'computer architecture', 'engg. & tech.', ... , 'computer science (lateral entry)', 'arts/science', 'pg.diploma', 'aqua culture']
ì´ì œ íê°• ê³¼ëª©ì— ëŒ€í•œ ë¦¬ìŠ¤íŠ¸ê°€ í™•ë³´ë˜ì—ˆìŠµë‹ˆë‹¤.

forë¬¸ì„ í†µí•´ not allowed ë¬¸êµ¬ë¥¼ ë„£ì–´ì¤ì‹œë‹¤.


for course in closed_courses:
    df.loc[df["course name"] == course, "status"] = "not allowed"
ì´ì œ ì´ ì„¸ ì½”ë“œë¥¼ ëª¨ë‘ í•©ì¹˜ë©´ ìš°ë¦¬ê°€ ì›í•˜ëŠ” ê²°ê³¼ë¥¼ ì–»ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

# ëª¨ë²” ë‹µì•ˆ
import pandas as pd

df = pd.read_csv('data/enrolment_1.csv')
df["status"] = "allowed"

# ì¡°ê±´ 1
boolean1 = df["course name"] == "information technology"
boolean2 = df["year"] == 1
df.loc[boolean1 & boolean2, "status"] = "not allowed"

# ì¡°ê±´ 2
boolean3= df["course name"] == "commerce"
boolean4= df["year"] == 4
df.loc[boolean3& boolean4, "status"] = "not allowed"

# ì¡°ê±´ 3
allowed = df["status"] == "allowed"
course_counts = df.loc[allowed, "course name"].value_counts()
closed_courses = list(course_counts[course_counts < 5].index)
for course in closed_courses:
    df.loc[df["course name"] == course, "status"] = "not allowed"

# í…ŒìŠ¤íŠ¸ ì½”ë“œ
df


## ì½”ë“œì‡ ëŒ€í•™êµ: ê°•ì˜ì‹¤ ë°°ì •í•˜ê¸° I

# ì‹¤ìŠµ ì„¤ëª…
ìˆ˜ê°• ì‹ ì²­ì´ ì™„ë£Œë˜ì—ˆìŠµë‹ˆë‹¤. ì´ì œ ê° ê³¼ëª©ì„ ìˆ˜ê°•í•˜ëŠ” í•™ìƒìˆ˜ì— ë”°ë¼ í¬ê¸°ê°€ ë‹¤ë¥¸ ê°•ì˜ì‹¤ì„ ë°°ì¹˜í•˜ë ¤ê³  í•©ë‹ˆë‹¤.

ê°•ì˜ì‹¤ì€ ê·œëª¨ì— ë”°ë¼ â€œAuditoriumâ€, â€œLarge roomâ€, â€œMedium roomâ€, â€œSmall roomâ€ ì´ 4ê°€ì§€ ì¢…ë¥˜ê°€ ìˆìŠµë‹ˆë‹¤.

ì•„ë˜ ì¡°ê±´ì— ë”°ë¼ ê°•ì˜ì‹¤ ì¢…ë¥˜ë¥¼ ì§€ì •í•´ ì£¼ì„¸ìš”.

80ëª… ì´ìƒì˜ í•™ìƒì´ ìˆ˜ê°•í•˜ëŠ” ê³¼ëª©ì€ â€œAuditoriumâ€ì—ì„œ ì§„í–‰ë©ë‹ˆë‹¤.
40ëª… ì´ìƒ, 80ëª… ë¯¸ë§Œì˜ í•™ìƒì´ ìˆ˜ê°•í•˜ëŠ” ê³¼ëª©ì€ â€œLarge roomâ€ì—ì„œ ì§„í–‰ë©ë‹ˆë‹¤.
15ëª… ì´ìƒ, 40ëª… ë¯¸ë§Œì˜ í•™ìƒì´ ìˆ˜ê°•í•˜ëŠ” ê³¼ëª©ì€ â€œMedium roomâ€ì—ì„œ ì§„í–‰ë©ë‹ˆë‹¤.
5ëª… ì´ìƒ, 15ëª… ë¯¸ë§Œì˜ í•™ìƒì´ ìˆ˜ê°•í•˜ëŠ” ê³¼ëª©ì€ â€œSmall roomâ€ì—ì„œ ì§„í–‰ë©ë‹ˆë‹¤.
íê°• ë“±ì˜ ì´ìœ ë¡œ statusê°€ â€œnot allowedâ€ì¸ ìˆ˜ê°•ìƒì€ room assignment ë˜í•œ â€œnot assignedâ€ê°€ ë˜ì–´ì•¼ í•©ë‹ˆë‹¤.
ì‹¤ìŠµ ê²°ê³¼


ì£¼ì˜ ì‚¬í•­: ìë™ ì±„ì  ê³¼ì œì…ë‹ˆë‹¤. ì •ë‹µ ì¶œë ¥ ì½”ë“œëŠ” print ì—†ì´ ì‘ì„±í•´ ì£¼ì„¸ìš”. (ì˜ˆì‹œ: df)

# í•´ì„¤
ìˆ˜ê°• ì¸ì›ì— ë”°ë¼ ì´ ë‹¤ì„¯ ê°œì˜ ì¡°ê±´ì´ ìˆìŠµë‹ˆë‹¤.

80ëª… ì´ìƒì˜ í•™ìƒì´ ìˆ˜ê°•í•˜ëŠ” ê³¼ëª©ì€ â€œAuditoriumâ€ì—ì„œ ì§„í–‰ë©ë‹ˆë‹¤.
40ëª… ì´ìƒ, 80ëª… ë¯¸ë§Œì˜ í•™ìƒì´ ìˆ˜ê°•í•˜ëŠ” ê³¼ëª©ì€ â€œLarge roomâ€ì—ì„œ ì§„í–‰ë©ë‹ˆë‹¤.
15ëª… ì´ìƒ, 40ëª… ë¯¸ë§Œì˜ í•™ìƒì´ ìˆ˜ê°•í•˜ëŠ” ê³¼ëª©ì€ â€œMedium roomâ€ì—ì„œ ì§„í–‰ë©ë‹ˆë‹¤.
5ëª… ì´ìƒ, 15ëª… ë¯¸ë§Œì˜ í•™ìƒì´ ìˆ˜ê°•í•˜ëŠ” ê³¼ëª©ì€ â€œSmall roomâ€ì—ì„œ ì§„í–‰ë©ë‹ˆë‹¤.
íê°• ë“±ì˜ ì´ìœ ë¡œ statusê°€ â€œnot allowedâ€ì¸ ìˆ˜ê°•ìƒì€ room assignment ë˜í•œ â€œnot assignedâ€ê°€ ë˜ì–´ì•¼ í•©ë‹ˆë‹¤.
ë¨¼ì € ê° ê³¼ëª©ì˜ ìˆ˜ê°• ì¸ì›ì„ ê°€ì ¸ì™€ì•¼ê² ì£ ?

statusê°€ "allowed"ì¸ courseë“¤ì— ëŒ€í•´ì„œ ìˆ˜ê°• ì¸ì›ì„ ê°€ì ¸ì™€ë´…ì‹œë‹¤.


import pandas as pd

df = pd.read_csv('data/enrolment_2.csv')

# ê³¼ëª©ë³„ ì¸ì› ê°€ì ¸ì˜¤ê¸°
allowed = df["status"] == "allowed"
course_counts = df.loc[allowed, "course name"].value_counts()
course_counts

arts                                         158
science                                      124
commerce                                     101
english                                       56
                                            ... 
mca                                            5
interior design                                5
building construction and mangement            5
nanotechnology                                 5
Name: course name, Length: 82, dtype: int64
ì´ì œ ê° ê³¼ëª©ë³„ë¡œ ìˆ˜ê°• ì¸ì›ì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
ê°•ì˜ì‹¤ ê·œëª¨ì— ë”°ë¼ ê° ê³¼ëª©ì„ ë¦¬ìŠ¤íŠ¸ë¡œ ë§Œë“¤ì–´ ì¤ì‹œë‹¤.


# ê° ê°•ì˜ì‹¤ ê·œëª¨ì— í•´ë‹¹ë˜ëŠ” ê³¼ëª© ë¦¬ìŠ¤íŠ¸ ë§Œë“¤ê¸°
auditorium_list = list(course_counts[course_counts >= 80].index)
large_room_list = list(course_counts[(80 > course_counts) & (course_counts >= 40)].index)
medium_room_list = list(course_counts[(40 > course_counts) & (course_counts >= 15)].index)
small_room_list = list(course_counts[(15 > course_counts) & (course_counts > 4)].index)
ì´ ë¦¬ìŠ¤íŠ¸ë¥¼ í™œìš©í•´ì„œ forë¬¸ìœ¼ë¡œ room assignment ê°’ì„ ì •í•´ì¤ë‹ˆë‹¤.


# not allowed ê³¼ëª©ì— ëŒ€í•´ ê°’ ì§€ì •í•´ì£¼ê¸°
not_allowed = df["status"] == "not allowed"
df.loc[not_allowed, "room assignment"] = "not assigned"

# allowed ê³¼ëª©ì— ëŒ€í•´ ê°’ ì§€ì •í•´ì£¼ê¸°
for course in auditorium_list:
    df.loc[(df["course name"] == course) & allowed, "room assignment"] = "Auditorium"

for course in large_room_list:
    df.loc[(df["course name"] == course) & allowed, "room assignment"] = "Large room"
    
for course in medium_room_list:
    df.loc[(df["course name"] == course) & allowed, "room assignment"] = "Medium room"
    
for course in small_room_list:
    df.loc[(df["course name"] == course) & allowed, "room assignment"] = "Small room"
ì´ì œ ì½”ë“œê°€ ì™„ì„±ë˜ì—ˆìŠµë‹ˆë‹¤!

# ëª¨ë²” ë‹µì•ˆ

import pandas as pd

df = pd.read_csv('data/enrolment_2.csv')

# ê³¼ëª©ë³„ ì¸ì› ê°€ì ¸ì˜¤ê¸°
allowed = df["status"] == "allowed"
course_counts = df.loc[allowed, "course name"].value_counts()

# ê° ê°•ì˜ì‹¤ ê·œëª¨ì— í•´ë‹¹ë˜ëŠ” ê³¼ëª© ë¦¬ìŠ¤íŠ¸ ë§Œë“¤ê¸°
auditorium_list = list(course_counts[course_counts >= 80].index)
large_room_list = list(course_counts[(80 > course_counts) & (course_counts >= 40)].index)
medium_room_list = list(course_counts[(40 > course_counts) & (course_counts >= 15)].index)
small_room_list = list(course_counts[(15 > course_counts) & (course_counts > 4)].index)

# not allowed ê³¼ëª©ì— ëŒ€í•´ ê°’ ì§€ì •í•´ì£¼ê¸°
not_allowed = df["status"] == "not allowed"
df.loc[not_allowed, "room assignment"] = "not assigned"

# allowed ê³¼ëª©ì— ëŒ€í•´ ê°’ ì§€ì •í•´ì£¼ê¸°
for course in auditorium_list:
    df.loc[(df["course name"] == course) & allowed, "room assignment"] = "Auditorium"

for course in large_room_list:
    df.loc[(df["course name"] == course) & allowed, "room assignment"] = "Large room"
    
for course in medium_room_list:
    df.loc[(df["course name"] == course) & allowed, "room assignment"] = "Medium room"
    
for course in small_room_list:
    df.loc[(df["course name"] == course) & allowed, "room assignment"] = "Small room"
    
# ì •ë‹µ ì¶œë ¥
df


## ì½”ë“œì‡ ëŒ€í•™êµ: ê°•ì˜ì‹¤ ë°°ì •í•˜ê¸° II

# ì‹¤ìŠµ ì„¤ëª…
ì´ì „ ê³¼ì œì—ì„œ ê°•ì˜ì‹¤ í¬ê¸°ì— ë”°ë¼ room assignment columnì„ ë§Œë“¤ì–´ ì£¼ì—ˆìŠµë‹ˆë‹¤.

ì´ì œ ì´ room assignmentì— ë”°ë¼ ê°•ì˜ì‹¤ ì´ë¦„ì„ ë¶™ì—¬ì£¼ë ¤ê³  í•©ë‹ˆë‹¤.

ì•„ë˜ ì„¸ ê°€ì§€ ì¡°ê±´ì„ ë§Œì¡±í•˜ë„ë¡ ì½”ë“œë¥¼ ì‘ì„±í•˜ì„¸ìš”.

ê°™ì€ í¬ê¸°ì˜ ê°•ì˜ì‹¤ì´ í•„ìš”í•œ ê³¼ëª©ì— ëŒ€í•´ ì•ŒíŒŒë²³ ìˆœì„œëŒ€ë¡œ ë°© ë²ˆí˜¸ë¥¼ ë°°ì •í•˜ì„¸ìš”.

ì˜ˆë¥¼ ë“¤ì–´ "Auditorium"ì´ í•„ìš”í•œ ê³¼ëª©ìœ¼ë¡œ â€œartsâ€, â€œcommerceâ€, â€œscienceâ€ ì„¸ ê³¼ëª©ì´ ìˆë‹¤ë©´, â€œartsâ€ëŠ” â€œAuditorium-1â€, â€œcommerceâ€ëŠ” â€œAuditorium-2â€, â€œscienceâ€ëŠ” â€œAuditorium-3â€ ìˆœì„œë¡œ ë°© ë°°ì •ì´ ë˜ì–´ì•¼ í•©ë‹ˆë‹¤.

ë°© ë²ˆí˜¸ì— room ì€ í¬í•¨ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤. ì•„ë˜ ìŠ¤í¬ë¦°ìƒ·ì„ ì°¸ê³ í•˜ì—¬ ì‘ì„±í•´ì£¼ì„¸ìš”.

status columnì´ â€œnot allowedâ€ì¸ ìˆ˜ê°•ìƒì€ room assignment columnì„ ê·¸ëŒ€ë¡œ â€œnot assignedâ€ë¡œ ë‚¨ê²¨ë‘¡ë‹ˆë‹¤. "not allowed" ì¸ ìˆ˜ê°•ìƒì˜ room assignment ìƒíƒœê°€ ë³€ê²½ë˜ì§€ ì•Šë„ë¡ ìœ ì˜í•´ì£¼ì„¸ìš”.

room assignment columnì˜ ì´ë¦„ì„ room numberë¡œ ë°”ê¿”ì£¼ì„¸ìš”.

# í•´ì„¤
ì•„ë˜ ì„¸ ê°€ì§€ ì¡°ê±´ì„ ë§Œì¡±í•´ì•¼ í•©ë‹ˆë‹¤.

ê°™ì€ í¬ê¸°ì˜ ê°•ì˜ì‹¤ì´ í•„ìš”í•œ ê³¼ëª©ì— ëŒ€í•´ ì•ŒíŒŒë²³ ìˆœì„œëŒ€ë¡œ ë°© ë²ˆí˜¸ë¥¼ ë°°ì •í•˜ì„¸ìš”. ì˜ˆë¥¼ ë“¤ì–´ Auditoriumì´ í•„ìš”í•œ ê³¼ëª©ìœ¼ë¡œ â€œartsâ€, â€œcommerceâ€, â€œscienceâ€ ì„¸ ê³¼ëª©ì´ ìˆë‹¤ë©´, â€œartsâ€ëŠ” â€œAuditorium-1â€, â€œcommerceâ€ëŠ” â€œAuditorium-2â€, â€œscienceâ€ëŠ” â€œAuditorium-3â€ ìˆœì„œë¡œ ë°© ë°°ì •ì´ ë˜ì–´ì•¼ í•©ë‹ˆë‹¤.

â€œstatusâ€ê°€ â€œnot allowedâ€ì¸ ìˆ˜ê°•ìƒì€ â€œroom assignmentâ€ë¥¼ ê·¸ëŒ€ë¡œ â€œnot assignedâ€ë¡œ ë‚¨ê²¨ë‘¡ë‹ˆë‹¤.

â€œroom assignmentâ€ columnì˜ ì´ë¦„ì„ â€œroom numberâ€ë¡œ ë°”ê¿”ì£¼ì„¸ìš”.

ë¨¼ì €, ì•ì„  ê³¼ì œì™€ ê°™ì´ statusê°€ allowedì¸ ìˆ˜ê°•ìƒë“¤ì˜ ê³¼ëª©ë³„ ìˆ˜ê°• ì¸ì›ì„ ë°›ì•„ì˜µë‹ˆë‹¤.


import pandas as pd

df = pd.read_csv('data/enrolment_3.csv')

# ê³¼ëª©ë³„ ì¸ì› ê°€ì ¸ì˜¤ê¸°
allowed = df["status"] == "allowed"
course_counts = df.loc[allowed, "course name"].value_counts()
ê·¸ë¦¬ê³  ì´ë¥¼ í†µí•´ ê° ê°•ì˜ì‹¤ ê·œëª¨ì— í•´ë‹¹ë˜ëŠ” ê³¼ëª© ë¦¬ìŠ¤íŠ¸ë¥¼ ë§Œë“¤ì–´ ì¤ë‹ˆë‹¤.


# ê° ê°•ì˜ì‹¤ ê·œëª¨ì— í•´ë‹¹ë˜ëŠ” ê³¼ëª© ë¦¬ìŠ¤íŠ¸ ë§Œë“¤ê¸°
auditorium_list = list(course_counts[course_counts >= 80].index)
large_room_list = list(course_counts[(80 > course_counts) & (course_counts >= 40)].index)
medium_room_list = list(course_counts[(40 > course_counts) & (course_counts >= 15)].index)
small_room_list = list(course_counts[(15 > course_counts) & (course_counts > 4)].index)
ì´ë ‡ê²Œ ë§Œë“¤ì–´ì§„ ë¦¬ìŠ¤íŠ¸ë¥¼ í™œìš©í•´ì„œ, ê° ê°•ì˜ì‹¤ì˜ ì´ë¦„ì„ ë¶™ì—¬ì¤ë‹ˆë‹¤.


# ê°•ì˜ì‹¤ ì´ë¦„ ë¶™ì´ê¸°
for i in range(len(auditorium_list)):
    df.loc[(df["course name"] == sorted(auditorium_list)[i]) & allowed, "room assignment"] = "Auditorium-" + str(i + 1)

for i in range(len(large_room_list)):
    df.loc[(df["course name"] == sorted(large_room_list)[i]) & allowed, "room assignment"] = "Large-" + str(i + 1)
    
for i in range(len(medium_room_list)):
    df.loc[(df["course name"] == sorted(medium_room_list)[i]) & allowed, "room assignment"] = "Medium-" + str(i + 1)
    
for i in range(len(small_room_list)):
    df.loc[(df["course name"] == sorted(small_room_list)[i]) & allowed, "room assignment"] = "Small-" + str(i + 1)
ë§ˆì§€ë§‰ìœ¼ë¡œ column ì´ë¦„ì„ ë°”ê¿”ì¤ë‹ˆë‹¤.


# column ì´ë¦„ ë°”ê¾¸ê¸°
df.rename(columns={"room assignment": "room number"}, inplace = True)
ì½”ë“œê°€ ì™„ì„±ë˜ì—ˆìŠµë‹ˆë‹¤!

# ëª¨ë²” ë‹µì•ˆ

import pandas as pd

df = pd.read_csv('data/enrolment_3.csv')

# ê³¼ëª©ë³„ ì¸ì› ê°€ì ¸ì˜¤ê¸°
allowed = df["status"] == "allowed"
course_counts = df.loc[allowed, "course name"].value_counts()

# ê° ê°•ì˜ì‹¤ ê·œëª¨ì— í•´ë‹¹ë˜ëŠ” ê³¼ëª© ë¦¬ìŠ¤íŠ¸ ë§Œë“¤ê¸°
auditorium_list = list(course_counts[course_counts >= 80].index)
large_room_list = list(course_counts[(80 > course_counts) & (course_counts >= 40)].index)
medium_room_list = list(course_counts[(40 > course_counts) & (course_counts >= 15)].index)
small_room_list = list(course_counts[(15 > course_counts) & (course_counts > 4)].index)

# ê°•ì˜ì‹¤ ì´ë¦„ ë¶™ì´ê¸°
for i in range(len(auditorium_list)):
    df.loc[(df["course name"] == sorted(auditorium_list)[i]) & allowed, "room assignment"] = "Auditorium-" + str(i + 1)

for i in range(len(large_room_list)):
    df.loc[(df["course name"] == sorted(large_room_list)[i]) & allowed, "room assignment"] = "Large-" + str(i + 1)
    
for i in range(len(medium_room_list)):
    df.loc[(df["course name"] == sorted(medium_room_list)[i]) & allowed, "room assignment"] = "Medium-" + str(i + 1)
    
for i in range(len(small_room_list)):
    df.loc[(df["course name"] == sorted(small_room_list)[i]) & allowed, "room assignment"] = "Small-" + str(i + 1)

# column ì´ë¦„ ë°”ê¾¸ê¸°
df.rename(columns={"room assignment": "room number"}, inplace = True)
    
# í…ŒìŠ¤íŠ¸ ì½”ë“œ
df


## DataFrame ë‹¤ë£¨ê¸° ë³µìŠµ í•´ì•¼ í•  ë¶€ë¶„

03. ì—¬í–‰ì§€ ì„ ì •í•˜ê¸° I

04. ì—¬í–‰ì§€ ì„ ì •í•˜ê¸° II

05. ì½”ë“œì‡ ëŒ€í•™êµ: ìˆ˜ê°•ì‹ ì²­ ì¤€ë¹„í•˜ê¸°

06. ì½”ë“œì‡ ëŒ€í•™êµ: ê°•ì˜ì‹¤ ë°°ì •í•˜ê¸° I

07. ì½”ë“œì‡ ëŒ€í•™êµ: ê°•ì˜ì‹¤ ë°°ì •í•˜ê¸° II



## ë°ì´í„° ì‚¬ì´ì–¸ìŠ¤

def is_palindrome(word):
    for left in range(len(word) // 2):
        right = len(word) - left -1
        if word[left] != word[right]:
            return False
    return True
# í…ŒìŠ¤íŠ¸ ì½”ë“œ
print(is_palindrome("racecar"))
print(is_palindrome("stars"))
print(is_palindrome("í† ë§ˆí† "))
print(is_palindrome("kayak"))
print(is_palindrome("hello"))


## ê°œë°œ í™˜ê²½ ì„¤ì •í•˜ê¸°

Integrated Development Environment

C:\Users\codeit> pip install numpy  
C:\Users\codeit> pip install pandas  
C:\Users\codeit> pip install matplotlib  
C:\Users\codeit> pip install seaborn  
C:\Users\codeit> pip install beautifulsoup4  
C:\Users\codeit> pip install selenium

C:\Users\codeit> pip install jupyter
C:\Users\codeit> jupyter notebook

## Jupyter Notebook ì‚¬ìš©ë²•
a : ì´ì „ cell ìƒì„±
b : ì´í›„ cell ìƒì„±
dd : cell ì‚­ì œ

# mark down // ê¸€ ì²¨ì‚­í•˜ê¸°

ë‹¨ì¶•í‚¤
# ê°€ì¥ í° ì œëª©
## ë‘ ë²ˆì§¸ í° ì œëª©
### ì„¸ ë²ˆì§¸ í° ì œëª©
ê·¸ëƒ¥ í…ìŠ¤íŠ¸ ì‘ì„±

**ë‘ê»ê²Œ**
*ê¸°ìš¸ì´ê¸°*

* ì œëª© // ì ìœ¼ë¡œ ëª©ë¡ ë§Œë“¤ê¸°


## Markdown ì •ë¦¬

ì•„ë˜ ì‚¬ì´íŠ¸ë“¤ì€ Markdownì„ ì‹¤ì‹œê°„ìœ¼ë¡œ ì‚¬ìš©í•´ë³¼ ìˆ˜ ìˆëŠ” ì˜¨ë¼ì¸ ì„œë¹„ìŠ¤ì…ë‹ˆë‹¤.

Dillinger https://dillinger.io/

Stackedit  https://stackedit.io/app

í•˜ë‚˜ì”© ë°°ìš¸ ë•Œë§ˆë‹¤ ì§ì ‘ ì—°ìŠµí•´ ë³´ì„¸ìš”.

ì œëª©

#ë¥¼ ì‚¬ìš©í•˜ì—¬ ë‹¨ê³„ë³„ë¡œ ì œëª©ì„ í‘œí˜„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

#ì„ í•˜ë‚˜ë§Œ ì“°ë©´ 1ë‹¨ê³„ ì œëª©ì´ê³ , # ì„ 4ê°œ ì‚¬ìš©í•˜ë©´ 4ë‹¨ê³„ ì œëª©ì´ ë©ë‹ˆë‹¤. ë‹¨ê³„ê°€ ë†’ì•„ì§ˆìˆ˜ë¡ ê¸€ì í¬ê¸°ê°€ ì‘ì•„ì§‘ë‹ˆë‹¤.

# ì´ê²ƒì€ 1ë‹¨ê³„ ì œëª©ì…ë‹ˆë‹¤.
## ì´ê²ƒì€ 2ë‹¨ê³„ ì œëª©ì…ë‹ˆë‹¤.
### ì´ê²ƒì€ 3ë‹¨ê³„ ì œëª©ì…ë‹ˆë‹¤.
#### ì´ê²ƒì€ 4ë‹¨ê³„ ì œëª©ì…ë‹ˆë‹¤.

ì´ê²ƒì€ ì¼ë°˜ ê¸€ì…ë‹ˆë‹¤.
ì´ê²ƒì€ 1ë‹¨ê³„ ì œëª©ì…ë‹ˆë‹¤.
ì´ê²ƒì€ 2ë‹¨ê³„ ì œëª©ì…ë‹ˆë‹¤.
ì´ê²ƒì€ 3ë‹¨ê³„ ì œëª©ì…ë‹ˆë‹¤.
ì´ê²ƒì€ 4ë‹¨ê³„ ì œëª©ì…ë‹ˆë‹¤.
ì´ê²ƒì€ ì¼ë°˜ ê¸€ì…ë‹ˆë‹¤.

# ë²ˆí˜¸ê°€ ìˆëŠ” ëª©ë¡
ì•„ë˜ì²˜ëŸ¼ ì ìœ¼ë©´ ë²ˆí˜¸ê°€ ìˆëŠ” ëª©ë¡(ë¦¬ìŠ¤íŠ¸)ì„ ë§Œë“¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

1. ì²« ë²ˆì§¸ í• ì¼ì…ë‹ˆë‹¤. 
2. ë‘ ë²ˆì§¸ í• ì¼ì…ë‹ˆë‹¤.
3. ì„¸ ë²ˆì§¸ í• ì¼ì…ë‹ˆë‹¤.

ì²« ë²ˆì§¸ í• ì¼ì…ë‹ˆë‹¤.
ë‘ ë²ˆì§¸ í• ì¼ì…ë‹ˆë‹¤.
ì„¸ ë²ˆì§¸ í• ì¼ì…ë‹ˆë‹¤.

# ë²ˆí˜¸ê°€ ì—†ëŠ” ëª©ë¡
ìˆ«ì ëŒ€ì‹  *ì„ ì‚¬ìš©í•˜ë©´, ë²ˆí˜¸ê°€ ì—†ëŠ” ëª©ë¡ì„ ë§Œë“¤ ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.


* ë²ˆí˜¸ê°€ ì—†ëŠ” ëª©ë¡ì…ë‹ˆë‹¤.
* ë²ˆí˜¸ê°€ ì—†ëŠ” ëª©ë¡ì…ë‹ˆë‹¤.
* ë²ˆí˜¸ê°€ ì—†ëŠ” ëª©ë¡ì…ë‹ˆë‹¤.

ë²ˆí˜¸ê°€ ì—†ëŠ” ëª©ë¡ì…ë‹ˆë‹¤.
ë²ˆí˜¸ê°€ ì—†ëŠ” ëª©ë¡ì…ë‹ˆë‹¤.
ë²ˆí˜¸ê°€ ì—†ëŠ” ëª©ë¡ì…ë‹ˆë‹¤.

# ì¤„ ë°”ê¿ˆ
ì•„ë˜ì™€ ê°™ì´ ì…ë ¥í•´ ë´…ì‹œë‹¤.

ê²½ì°°ì²­ ì² ì°½ì‚´ì€ ì™¸ì² ì°½ì‚´ì´ëƒ ìŒì² ì°½ì‚´ì´ëƒ?
ë‚´ê°€ ê·¸ë¦° ê¸°ë¦° ê·¸ë¦¼ì€ ì˜ ê·¸ë¦° ê¸°ë¦° ê·¸ë¦¼ì´ê³  ë„¤ê°€ ê·¸ë¦° ê¸°ë¦° ê·¸ë¦¼ì€ ì˜ ëª» ê·¸ë¦° ê¸°ë¦° ê·¸ë¦¼ì´ë‹¤.
ì‹ ì¸ ìƒ¹ì†¡ ê°€ìˆ˜ì˜ ì‹ ì¶˜ ìƒ¹ì†¡ ì‡¼.
ê²½ì°°ì²­ ì² ì°½ì‚´ì€ ì™¸ì² ì°½ì‚´ì´ëƒ ìŒì² ì°½ì‚´ì´ëƒ?ë‚´ê°€ ê·¸ë¦° ê¸°ë¦° ê·¸ë¦¼ì€ ì˜ ê·¸ë¦° ê¸°ë¦° ê·¸ë¦¼ì´ê³  ë„¤ê°€ ê·¸ë¦° ê¸°ë¦° ê·¸ë¦¼ì€ ì˜ ëª» ê·¸ë¦° ê¸°ë¦° ê·¸ë¦¼ì´ë‹¤.ì‹ ì¸ ìƒ¹ì†¡ ê°€ìˆ˜ì˜ ì‹ ì¶˜ ìƒ¹ì†¡ ì‡¼.

ê·¸ëŸ°ë° ì‹¤í–‰ëœ ê°’ì„ ë³´ë©´ ì¤„ ë°”ê¿ˆì´ ì•ˆ ë˜ì–´ ìˆì£ ? ì¤„ ë°”ê¾¸ê¸°ë¥¼ í•˜ë ¤ë©´ ë¬¸ì¥ì˜ ë§¨ ëì— Space í‚¤ë¥¼ ë‘ ë²ˆ ëˆŒëŸ¬ì•¼ í•©ë‹ˆë‹¤.

ê²½ì°°ì²­ ì² ì°½ì‚´ì€ ì™¸ì² ì°½ì‚´ì´ëƒ ìŒì² ì°½ì‚´ì´ëƒ?vv
ë‚´ê°€ ê·¸ë¦° ê¸°ë¦° ê·¸ë¦¼ì€ ì˜ ê·¸ë¦° ê¸°ë¦° ê·¸ë¦¼ì´ê³  ë„¤ê°€ ê·¸ë¦° ê¸°ë¦° ê·¸ë¦¼ì€ ì˜ ëª» ê·¸ë¦° ê¸°ë¦° ê·¸ë¦¼ì´ë‹¤.vv
ì‹ ì¸ ìƒ¹ì†¡ ê°€ìˆ˜ì˜ ì‹ ì¶˜ ìƒ¹ì†¡ ì‡¼.
ê²½ì°°ì²­ ì² ì°½ì‚´ì€ ì™¸ì² ì°½ì‚´ì´ëƒ ìŒì² ì°½ì‚´ì´ëƒ?  
ë‚´ê°€ ê·¸ë¦° ê¸°ë¦° ê·¸ë¦¼ì€ ì˜ ê·¸ë¦° ê¸°ë¦° ê·¸ë¦¼ì´ê³  ë„¤ê°€ ê·¸ë¦° ê¸°ë¦° ê·¸ë¦¼ì€ ì˜ ëª» ê·¸ë¦° ê¸°ë¦° ê·¸ë¦¼ì´ë‹¤.  
ì‹ ì¸ ìƒ¹ì†¡ ê°€ìˆ˜ì˜ ì‹ ì¶˜ ìƒ¹ì†¡ ì‡¼.

# ë¬¸ë‹¨ ë°”ê¿ˆ
ë¬¸ë‹¨ì„ ë°”ê¾¸ëŠ” íš¨ê³¼ë¥¼ ìœ„í•´ì„œëŠ” Enter í‚¤ë¥¼ ë‘ ë²ˆ ëˆŒëŸ¬ ì£¼ì„¸ìš”.

ê²½ì°°ì²­ ì² ì°½ì‚´ì€ ì™¸ì² ì°½ì‚´ì´ëƒ ìŒì² ì°½ì‚´ì´ëƒ?

ë‚´ê°€ ê·¸ë¦° ê¸°ë¦° ê·¸ë¦¼ì€ ì˜ ê·¸ë¦° ê¸°ë¦° ê·¸ë¦¼ì´ê³  ë„¤ê°€ ê·¸ë¦° ê¸°ë¦° ê·¸ë¦¼ì€ ì˜ ëª» ê·¸ë¦° ê¸°ë¦° ê·¸ë¦¼ì´ë‹¤.

ì‹ ì¸ ìƒ¹ì†¡ ê°€ìˆ˜ì˜ ì‹ ì¶˜ ìƒ¹ì†¡ ì‡¼.
ê²½ì°°ì²­ ì² ì°½ì‚´ì€ ì™¸ì² ì°½ì‚´ì´ëƒ ìŒì² ì°½ì‚´ì´ëƒ?

ë‚´ê°€ ê·¸ë¦° ê¸°ë¦° ê·¸ë¦¼ì€ ì˜ ê·¸ë¦° ê¸°ë¦° ê·¸ë¦¼ì´ê³  ë„¤ê°€ ê·¸ë¦° ê¸°ë¦° ê·¸ë¦¼ì€ ì˜ ëª» ê·¸ë¦° ê¸°ë¦° ê·¸ë¦¼ì´ë‹¤.

ì‹ ì¸ ìƒ¹ì†¡ ê°€ìˆ˜ì˜ ì‹ ì¶˜ ìƒ¹ì†¡ ì‡¼.

# ë¬¸ì ê°•ì¡°
*ì™€ _ë¥¼ ì‚¬ìš©í•˜ë©´ ê¸€ìë¥¼ ê¾¸ë°€ ìˆ˜ ìˆìŠµë‹ˆë‹¤.


ì´íƒˆë¦­ì²´ëŠ” *ë³„í‘œ*ë‚˜ _ì–¸ë”ë°”_ë¡œ.

ë³¼ë“œì²´ëŠ” **ë³„í‘œ ë‘ ê°œ**ë‚˜ __ì–¸ë”ë°” ë‘ ê°œ__ë¡œ.

**ë³„í‘œì™€ _ì–¸ë”ë°”_**ë¥¼ ì„ì–´ì„œ.

ì·¨ì†Œì„ ì€ ~~ë¬¼ê²°~~ë¡œ.
ì´íƒˆë¦­ì²´ëŠ” ë³„í‘œë‚˜ ì–¸ë”ë°”ë¡œ.

ë³¼ë“œì²´ëŠ” ë³„í‘œ ë‘ ê°œë‚˜ ì–¸ë”ë°” ë‘ ê°œë¡œ.

ë³„í‘œì™€ ì–¸ë”ë°”ë¥¼ ì„ì–´ì„œ.

ì·¨ì†Œì„ ì€ ë¬¼ê²°ë¡œ.

# ë§í¬
ì–´ë–¤ ì‚¬ì´íŠ¸ë¡œì˜ ë§í¬ë¥¼ ê±¸ ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.


ì½”ë”© ê°•ì˜ëŠ” ì—­ì‹œ [ì½”ë“œì‡](https://www.codeit.kr)ì´ì£ !
ì½”ë”© ê°•ì˜ëŠ” ì—­ì‹œ ì½”ë“œì‡ì´ì£ !

# ì´ë¯¸ì§€
ì´ë¯¸ì§€ë¥¼ ì¶”ê°€í•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.


![ì½”ë“œì‡](https://www.codeit.kr/static/images/brand/logo_original.png) 
ì½”ë“œì‡

# ì½”ë“œ ë¸”ë¡
 ` ì„¸ ê°œë¡œ â€œì½”ë“œ ë¸”ë¡â€ì„ ì¶”ê°€í•´ ë³´ì„¸ìš”. ì–¸ì–´ë„ ì§€ì •í•´ ì¤„ ìˆ˜ ìˆìŠµë‹ˆë‹¤!


```python
print('hello world!')
for i in range(10):
    print(i)
```

print('hello world!')
for i in range(10):
    print(i)


# ì¸ë¼ì¸ ì½”ë“œ
``ë¡œ ì½”ë“œë¥¼ ê°ì‹¸ë©´ â€œì¸ë¼ì¸ ì½”ë“œâ€ë¥¼ ì“¸ ìˆ˜ ìˆìŠµë‹ˆë‹¤.


ê°’ì„ ì¶œë ¥í•˜ê³  ì‹¶ìœ¼ë©´ `print` í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ë©´ ë˜ê² ì£ ?
ê°’ì„ ì¶œë ¥í•˜ê³  ì‹¶ìœ¼ë©´ print í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ë©´ ë˜ê² ì£ ?

# êµ¬ë¶„ì„ 
---ìœ¼ë¡œ êµ¬ë¶„ì„ ì„ ì¶”ê°€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

êµ¬ë¶„ ì„  ìœ„
---
êµ¬ë¶„ ì„  ì•„ë˜


## ìŠ¤í¬ë¦¼ ë¡œìŠ¤í„°
import pandas as pd
df = pd.read_csv('C:/Users/MisterHaru/AppData/Local/TslGame/Saved/observer/TeamInfo.csv')



## Numerical Python // ìˆ«ìì™€ ê´€ë ¨í•œ íŒŒì´ì¬ ë„êµ¬(Numpy)

# Numpy ë°°ì—´( Numpy array)


## numpy arrayë¥¼ ë§Œë“œëŠ” ë‹¤ì–‘í•œ ë°©ë²•
# íŒŒì´ì¬ ë¦¬ìŠ¤íŠ¸ë¥¼ í†µí•´ ìƒì„±
numpy ëª¨ë“ˆì˜ array ë©”ì†Œë“œì— íŒŒë¼ë¯¸í„°ë¡œ íŒŒì´ì¬ ë¦¬ìŠ¤íŠ¸ë¥¼ ë„˜ê²¨ì£¼ë©´ numpy arrayê°€ ë¦¬í„´ë©ë‹ˆë‹¤.


array1 = numpy.array([2, 3, 5, 7, 11, 13, 17, 19, 23, 29, 31])
    
print(array1)

[ 2  3  5  7 11 13 17 19 23 29 31]

# ê· ì¼í•œ ê°’ìœ¼ë¡œ ìƒì„±
numpy ëª¨ë“ˆì˜ full ë©”ì†Œë“œë¥¼ ì‚¬ìš©í•˜ë©´, ëª¨ë“  ê°’ì´ ê°™ì€ numpy arrayë¥¼ ìƒì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

array1 = numpy.full(6, 7)
    
print(array1)

[7 7 7 7 7 7]

# ëª¨ë“  ê°’ì´ 0ì¸ numpy array ìƒì„±
ëª¨ë“  ê°’ì´ 0ì¸ numpy arrayë¥¼ ìƒì„±í•˜ê¸° ìœ„í•´ì„œëŠ” full ë©”ì†Œë“œë¥¼ ì‚¬ìš©í•˜ë©´ ë˜ê² ì£ . í•˜ì§€ë§Œ ì‚¬ì‹¤ì€ ë” ê°„í¸í•œ ë°©ë²•ì´ ìˆìŠµë‹ˆë‹¤.


array1 = numpy.full(6, 0)
array2 = numpy.zeros(6, dtype=int)
    
print(array1)
print()
print(array2)

[0 0 0 0 0 0]

[0 0 0 0 0 0]

# ëª¨ë“  ê°’ì´ 1ì¸ numpy array ìƒì„±

ëª¨ë“  ê°’ì´ 1ì¸ numpy arrayë¥¼ ìƒì„±í•˜ëŠ” ê²ƒë„ ë¹„ìŠ·í•©ë‹ˆë‹¤. zeros ë©”ì†Œë“œ ëŒ€ì‹  onesë¥¼ ì‚¬ìš©í•˜ë©´ ë©ë‹ˆë‹¤.


array1 = numpy.full(6, 1)
array2 = numpy.ones(6, dtype=int)
    
print(array1)
print()
print(array2)

[1 1 1 1 1 1]

[1 1 1 1 1 1]

# ëœë¤í•œ ê°’ë“¤ë¡œ ìƒì„±
ì–´ì©” ë•ŒëŠ” ì„ì˜ì˜ ê°’ë“¤ë¡œ ë°°ì—´ì„ ìƒì„±ì‹œí‚¤ê³  ì‹¶ìŠµë‹ˆë‹¤. ê·¸ëŸ´ ë•ŒëŠ” numpyì˜ random ëª¨ë“ˆì˜ random í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ë©´ ë©ë‹ˆë‹¤.

numpy ëª¨ë“ˆ ì•ˆì— randomì´ë¼ëŠ” ëª¨ë“ˆì´ ìˆê³ , ê·¸ ì•ˆì— ë˜ randomì´ë¼ëŠ” í•¨ìˆ˜ê°€ ìˆëŠ” ê²ë‹ˆë‹¤!


array1 = numpy.random.random(6)
array2 = numpy.random.random(6)
    
print(array1)
print()
print(array2)

[0.42214929 0.45275673 0.57978413 0.61417065 0.39448558 0.03347601]

[0.42521953 0.65091589 0.94045742 0.18138103 0.27150749 0.8450694 ]

# ì—°ì†ëœ ê°’ë“¤ì´ ë‹´ê¸´ numpy array ìƒì„±
numpy ëª¨ë“ˆì˜ arange í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ë©´ ì—°ì†ëœ ê°’ë“¤ì´ ë‹´ê²¨ ìˆëŠ” numpy arrayë¥¼ ìƒì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

arange í•¨ìˆ˜ëŠ” íŒŒì´ì¬ì˜ ê¸°ë³¸ í•¨ìˆ˜ì¸ rangeì™€ êµ‰ì¥íˆ ë¹„ìŠ·í•œ ì›ë¦¬ë¡œ ë™ì‘í•˜ëŠ”ë°ìš”. íŒŒë¼ë¯¸í„°ê°€ 1ê°œì¸ ê²½ìš°, 2ê°œì¸ ê²½ìš°, 3ê°œì¸ ê²½ìš° ëª¨ë‘ ì‚´í´ë´…ì‹œë‹¤.

# íŒŒë¼ë¯¸í„° 1ê°œ
arange(m)ì„ í•˜ë©´ 0ë¶€í„° m-1ê¹Œì§€ì˜ ê°’ë“¤ì´ ë‹´ê¸´ numpy arrayê°€ ë¦¬í„´ë©ë‹ˆë‹¤.


array1 = numpy.arange(6)
print(array1)

[0 1 2 3 4 5]

# íŒŒë¼ë¯¸í„° 2ê°œ
arange(n, m)ì„ í•˜ë©´ në¶€í„° m-1ê¹Œì§€ì˜ ê°’ë“¤ì´ ë‹´ê¸´ numpy arrayê°€ ë¦¬í„´ë©ë‹ˆë‹¤.

array1 = numpy.arange(2, 7)
print(array1)

[2 3 4 5 6]

# íŒŒë¼ë¯¸í„° 3ê°œ
arange(n, m, s)ë¥¼ í•˜ë©´ në¶€í„° m-1ê¹Œì§€ì˜ ê°’ë“¤ ì¤‘ ê°„ê²©ì´ sì¸ ê°’ë“¤ì´ ë‹´ê¸´ numpy arrayê°€ ë¦¬í„´ë©ë‹ˆë‹¤.


array1 = numpy.arange(3, 17, 3)
print(array1)

[ 3  6  9 12 15]


## ëª¨ë“ˆ ë³„ëª… ì§€ì–´ì£¼ê¸°

import numpy as np

import matplotlib.pyplot as plt

# íŒŒì´ì¬ ì—°ì‚°ìœ¼ë¡œ í•  ë•Œ
for i in range(len(array1)):
    array1[i] = 2 * array1[i]

# Numpyë¡œ ì—°ì‚° í•  ë•Œ
# array1 = array1 * 2 // ê°’ì„ ì§€ì •í•´ ì¤˜ì•¼ ë°ì´í„°ê°€ ë³€ê²½ ëœë‹¤.
array1 * 2
array1 / 2
array1 + 2
array1 ** 2

array1 * array2
array1 + array2
array1 / array2




##  ì‹ ì£¼ì¿  í¥ë¶€ë¶€ëŒ€ ì°Œê°œ
ì‹¤ìŠµ ì„¤ëª…
ì¼ë³¸ì—ëŠ” í•œì‹ ì—´í’ì´ ë¶ˆê³  ìˆìŠµë‹ˆë‹¤. ê¸°íšŒë¥¼ ì—¿ë³¸ ì˜í›ˆì´ëŠ” ëŒ€ê¸°ì—…ì„ í‡´ì‚¬í•˜ê³  ì‹ ì£¼ì¿ ì— í”„ëœì°¨ì´ì¦ˆ â€˜í¥ë¶€ë¶€ëŒ€ì°Œê°œâ€™ ê°€ë§¹ì ì„ ëƒˆìŠµë‹ˆë‹¤.

ê·¸ëŸ¬ë‚˜ ë³´ìˆ˜ì ì¸ ì•„ë²„ì§€ê»˜ì„œëŠ” ë²ˆë“¯í•œ ì§ì¥ì„ ë°•ì°¨ê³  ë‚˜ì˜¨ ì˜í›ˆì´ê°€ ëª»ë§ˆë•…í•©ë‹ˆë‹¤. ì•„ë²„ì§€ë¥¼ ì•ˆì‹¬ì‹œì¼œ ë“œë¦¬ê¸° ìœ„í•´ ë§¤ë‹¬ ë§¤ì¶œì„ ë³´ê³ í•˜ë ¤ê³  í•˜ëŠ”ë°ìš”. ì—”í™”(Â¥)ë¡œ ì €ì¥í•œ ë§¤ì¶œ ë°ì´í„°ë¥¼ ì›í™”(â‚©)ë¡œ ë³€í™˜í•˜ëŠ” ì‘ì—…ì´ í•„ìš”í•©ë‹ˆë‹¤.

ë§ˆì¹¨ numpyë¥¼ ë°°ìš´ ìš°ë¦¬ê°€ ë„ì™€ì¤„ ìˆ˜ ìˆê² ë„¤ìš”. ì—”í™” ë§¤ì¶œì´ ë‹´ê²¨ ìˆëŠ” íŒŒì´ì¬ ë¦¬ìŠ¤íŠ¸ê°€ ì£¼ì–´ì¡ŒìŠµë‹ˆë‹¤. 1ì—”ì— 10.08ì›ì´ë¼ê³  ê°€ì •í•˜ê³ , ì›í™” ë§¤ì¶œì´ ë‹´ê¸´ numpy arrayë¥¼ ë§Œë“¤ì–´ ì¶œë ¥í•´ ì£¼ì„¸ìš”.

ë°˜ë³µë¬¸ì€ ì‚¬ìš©í•˜ë©´ ì•ˆ ë©ë‹ˆë‹¤!

ì£¼ì˜ ì‚¬í•­: ìë™ ì±„ì  ê³¼ì œì…ë‹ˆë‹¤. ì •ë‹µ ì¶œë ¥ ì½”ë“œëŠ” printê°€ ì—†ëŠ” ë°©ì‹ìœ¼ë¡œ ì‘ì„±í•´ ì£¼ì„¸ìš”. (ì˜ˆì‹œ: won_array)

í•´ì„¤ ë³´ê¸°

í•´ì„¤
revenue_in_yenì— ì—”í™”(Â¥) ë§¤ì¶œ ë°ì´í„°ê°€ ë‹´ê²¨ ìˆìŠµë‹ˆë‹¤.


import numpy as np

revenue_in_yen = [
    300000, 340000, 320000, 360000, 
    440000, 140000, 180000, 340000, 
    330000, 290000, 280000, 380000, 
    170000, 140000, 230000, 390000, 
    400000, 350000, 380000, 150000, 
    110000, 240000, 380000, 380000, 
    340000, 420000, 150000, 130000, 
    360000, 320000, 250000
]
1ì—”ì´ 10.08ì›ì´ë¼ê³  ê°€ì •í–ˆìœ¼ë‹ˆê¹Œ, ìš°ë¦¬ëŠ” ì´ ëª¨ë“  ìˆ«ìë“¤ì— 10.08ì„ ê³±í•´ì£¼ë©´ ë˜ê² ì£ .

numpy arrayë¥¼ ì‚¬ìš©í•˜ë©´, ëª¨ë“  ë°ì´í„°ì— ê°™ì€ ìˆ«ìë¥¼ í•œ ë²ˆì— ê³±í•´ì¤„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ë¨¼ì € ì£¼ì–´ì§„ ë¦¬ìŠ¤íŠ¸ë¥¼ numpy arrayë¡œ ë§Œë“­ë‹ˆë‹¤.


yen_array = np.array(revenue_in_yen)
ì´ì œ ì´ numpy arrayì—ëŠ” ê³±ì…ˆ ì—°ì‚°ì„ ì ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.


won_array = yen_array * 10.08
won_array # ì •ë‹µ ì¶œë ¥

array([ 3024000.,  3427200.,  3225600.,  3628800.,  4435200.,  1411200.,
        1814400.,  3427200.,  3326400.,  2923200.,  2822400.,  3830400.,
        1713600.,  1411200.,  2318400.,  3931200.,  4032000.,  3528000.,
        3830400.,  1512000.,  1108800.,  2419200.,  3830400.,  3830400.,
        3427200.,  4233600.,  1512000.,  1310400.,  3628800.,  3225600.,
        2520000.])
ì´ì œ ì›í™”(â‚©) ë°ì´í„°ë¥¼ ì–»ì—ˆìŠµë‹ˆë‹¤!


# í•˜ë£¨ ì •ë‹µ
import numpy as np

revenue_in_yen = [
    300000, 340000, 320000, 360000, 
    440000, 140000, 180000, 340000, 
    330000, 290000, 280000, 380000, 
    170000, 140000, 230000, 390000, 
    400000, 350000, 380000, 150000, 
    110000, 240000, 380000, 380000, 
    340000, 420000, 150000, 130000, 
    360000, 320000, 250000
]

# ì—¬ê¸°ì— ì½”ë“œë¥¼ ì‘ì„±í•˜ì„¸ìš”
won = 10.08
won_array = np.array(revenue_in_yen) * won

# í…ŒìŠ¤íŠ¸ ì½”ë“œ
won_array


## í¥ë¶€ë¶€ëŒ€ì°Œê°œ LA ì§„ì¶œ

# ì‹¤ìŠµ ì„¤ëª…
í¥ë¶€ë¶€ëŒ€ì°Œê°œ ì‹ ì£¼ì¿ ì ì˜ í¥í–‰ì— ì„±ê³µí•œ ì˜í›ˆì´ëŠ” ì—¬ì„¸ë¥¼ ëª°ì•„ LAì—ë„ ê°€ë§¹ì ì„ í•˜ë‚˜ ëƒˆìŠµë‹ˆë‹¤.

ì´ì œ ì•„ë²„ì§€ê»˜ ë§¤ì¶œì„ ë³´ê³ í•˜ê¸° ìœ„í•œ í”„ë¡œì„¸ìŠ¤ê°€ ì¡°ê¸ˆ ë³µì¡í•´ì¡ŒìŠµë‹ˆë‹¤. ê° ì§€ì ì˜ ë§¤ì¶œì„ ì›í™”ë¡œ ë³€í™˜ì‹œí‚¤ê³  ë”í•´ì•¼ í•˜ì£ . 1ì—”ì— 10.08ì›, 1ë‹¬ëŸ¬ì— 1138ì›ì´ë¼ê³  ê°€ì •í•˜ì„¸ìš”. ê·¸ë¦¬ê³  ë‘ ì§€ì ì˜ ë§¤ì¶œì˜ í•©ì´ ì›í™”ë¡œ ë‹´ê¸´ numpy arrayë¥¼ ë§Œë“¤ì–´ ì¶œë ¥í•´ì£¼ì„¸ìš”.

ë°˜ë³µë¬¸ì€ ì‚¬ìš©í•˜ë©´ ì•ˆ ë©ë‹ˆë‹¤!

ì£¼ì˜: ìë™ ì±„ì  ê³¼ì œì…ë‹ˆë‹¤. ì •ë‹µ ì¶œë ¥ ì½”ë“œëŠ” printê°€ ì—†ëŠ” ë°©ì‹ìœ¼ë¡œ ì‘ì„±í•´ ì£¼ì„¸ìš”. (ì˜ˆì‹œ: won_array)

í•´ì„¤ ë³´ê¸°

í•´ì„¤
revenue_in_yenì— ì—”í™”(Â¥) ë§¤ì¶œ ë°ì´í„°ê°€, revenue_in_dollarì— ë‹¬ëŸ¬($) ë§¤ì¶œ ë°ì´í„°ê°€ ë‹´ê²¨ ìˆìŠµë‹ˆë‹¤.


import numpy as np

revenue_in_yen = [
    300000, 340000, 320000, 360000, 
    440000, 140000, 180000, 340000, 
    330000, 290000, 280000, 380000, 
    170000, 140000, 230000, 390000, 
    400000, 350000, 380000, 150000, 
    110000, 240000, 380000, 380000, 
    340000, 420000, 150000, 130000, 
    360000, 320000, 250000
]

revenue_in_dollar = [
    1200, 1600, 1400, 1300, 
    2100, 1400, 1500, 2100, 
    1500, 1500, 2300, 2100, 
    2800, 2600, 1700, 1400, 
    2100, 2300, 1600, 1800, 
    2200, 2400, 2100, 2800, 
    1900, 2100, 1800, 2200, 
    2100, 1600, 1800
]
ì¡°ê¸ˆ ë³µì¡í•˜ì§€ë§Œ, ì•ì„  ê³¼ì œì™€ ì›ë¦¬ëŠ” ê°™ìŠµë‹ˆë‹¤.

ì›í™”ë¡œ ê³„ì‚°í•˜ê¸° ìœ„í•´ì„œëŠ” ì—”í™” ë°ì´í„°ì— 10.08ì„, ë‹¬ëŸ¬ ë°ì´í„°ì— 1138ì„ ê³±í•´ì£¼ì–´ì•¼ í•©ë‹ˆë‹¤.

ë¦¬ìŠ¤íŠ¸ì— ìˆëŠ” ëª¨ë“  ê°’ì— ê³±ì…ˆì„ ë™ì‹œì— í•´ì£¼ê¸° ìœ„í•´, ì—”í™” ë°ì´í„° revenue_in_yenì™€ ë‹¬ëŸ¬ ë°ì´í„° revenue_in_dollar ëª¨ë‘ numpy arrayë¡œ ë§Œë“¤ì–´ ì¤ì‹œë‹¤.


yen_array = np.array(revenue_in_yen)
dollar_array = np.array(revenue_in_dollar)
ì´ì œ ì´ numpy arrayì— ê° í™˜ìœ¨ì„ ê³±í•œ ë’¤, í•¨ê»˜ ë”í•´ì£¼ë©´ ì›í™”ë¥¼ êµ¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.


won_array = yen_array * 10.08 + dollar_array * 1138
won_array # í…ŒìŠ¤íŠ¸ ì½”ë“œ 

array([ 4389600.,  5248000.,  4818800.,  5108200.,  6825000.,  3004400.,
        3521400.,  5817000.,  5033400.,  4630200.,  5439800.,  6220200.,
        4900000.,  4370000.,  4253000.,  5524400.,  6421800.,  6145400.,
        5651200.,  3560400.,  3612400.,  5150400.,  6220200.,  7016800.,
        5589400.,  6623400.,  3560400.,  3814000.,  6018600.,  5046400.,
        4568400.])


# í•˜ë£¨ ì •ë‹µ
import numpy as np

revenue_in_yen = [
    300000, 340000, 320000, 360000, 
    440000, 140000, 180000, 340000, 
    330000, 290000, 280000, 380000, 
    170000, 140000, 230000, 390000, 
    400000, 350000, 380000, 150000, 
    110000, 240000, 380000, 380000, 
    340000, 420000, 150000, 130000, 
    360000, 320000, 250000
]

revenue_in_dollar = [
    1200, 1600, 1400, 1300, 
    2100, 1400, 1500, 2100, 
    1500, 1500, 2300, 2100, 
    2800, 2600, 1700, 1400, 
    2100, 2300, 1600, 1800, 
    2200, 2400, 2100, 2800, 
    1900, 2100, 1800, 2200, 
    2100, 1600, 1800
]

# ì—¬ê¸°ì— ì½”ë“œë¥¼ ì‘ì„±í•˜ì„¸ìš”
yen = np.array(revenue_in_yen)
dollar = np.array(revenue_in_dollar)

yen_won = yen * 10.08
dollar_won = dollar * 1138
won_array = yen_won + dollar_won
# í…ŒìŠ¤íŠ¸ ì½”ë“œ
won_array


b = np.array([])
np.where(b)

np.where(revenue_in_yen < 200000)


## í¥ë¶€ë¶€ëŒ€ì°Œê°œ ëª©í‘œ ì¼ ë§¤ì¶œ

# ì‹¤ìŠµ ì„¤ëª…
ì˜í›ˆì´ê°€ ì°½ì—…í•œ í¥ë¶€ë¶€ëŒ€ì°Œê°œ ì‹ ì£¼ì¿ ì ì€ ì´ì œ ì§ì¥ì¸ë“¤ì—ê²Œ ì†Œë¬¸ë‚œ ë§›ì§‘ì…ë‹ˆë‹¤. ê·¸ëŸ¬ë‚˜ ë§¤ì¼ê°™ì´ ì„±ê³µì ì¸ ê²ƒì€ ì•„ë‹™ë‹ˆë‹¤. ëª©í‘œ ì¼ ë§¤ì¶œì„ ë‹¬ì„±í•˜ì§€ ëª»í•˜ëŠ” ë‚ ë“¤ì´ ì•„ì§ ê½¤ ìˆê±°ë“ ìš”. ì˜í›ˆì´ê°€ ìƒê°í•˜ëŠ” ì„±ê³µì ì¸ í•˜ë£¨ ë§¤ì¶œì€ 20ë§Œ ì—”ì…ë‹ˆë‹¤.

ì„±ê³µì ì´ì§€ ì•Šì€ ë‚ ì˜ ë§¤ì¶œë§Œ ê³¨ë¼ì„œ ë³´ê³  ì‹¶ìŠµë‹ˆë‹¤. 20ë§Œ ì—” ì´í•˜ì˜ ë§¤ì¶œë§Œ ë‹´ê¸´ numpy arrayë¥¼ ì¶œë ¥í•´ì£¼ì„¸ìš”.
ë°˜ë³µë¬¸ì€ ì‚¬ìš©í•˜ë©´ ì•ˆ ë©ë‹ˆë‹¤!

ì£¼ì˜ ì‚¬í•­: ìë™ ì±„ì  ê³¼ì œì…ë‹ˆë‹¤. ì •ë‹µ ì¶œë ¥ ì½”ë“œëŠ” print ì—†ì´ ì‘ì„±í•´ ì£¼ì„¸ìš”. (ì˜ˆì‹œ: bad_days_revenue)

# í•´ì„¤
numpy arrayì˜ ì¢‹ì€ ì ì€ ë¦¬ìŠ¤íŠ¸ ì•ˆì˜ ë°ì´í„°ë¥¼ ë°˜ë³µë¬¸ ì—†ì´ í•œ ë²ˆì— ë¶„ì„í•  ìˆ˜ ìˆë‹¤ëŠ” ê²ƒì…ë‹ˆë‹¤.

ìš°ë¦¬ì˜ ë§¤ì¶œì´ revenue_in_yen ì´ë¼ëŠ” ë³€ìˆ˜ì— ë¦¬ìŠ¤íŠ¸ í˜•íƒœë¡œ ë“¤ì–´ ìˆìŠµë‹ˆë‹¤.


import numpy as np

revenue_in_yen = [
    300000, 340000, 320000, 360000, 
    440000, 140000, 180000, 340000, 
    330000, 290000, 280000, 380000, 
    170000, 140000, 230000, 390000, 
    400000, 350000, 380000, 150000, 
    110000, 240000, 380000, 380000, 
    340000, 420000, 150000, 130000, 
    360000, 320000, 250000
]
numpyì˜ ë„ì›€ì„ ë°›ê¸° ìœ„í•´ì„œëŠ” numpy arrayë¡œ ë§Œë“¤ì–´ ì£¼ì–´ì•¼ê² ì£ ?


yen_array = np.array(revenue_in_yen)
ê·¸ë¦¬ê³  ì£¼ì–´ì§„ ì¡°ê±´ì— í•´ë‹¹í•˜ëŠ” filterë¥¼ ë§Œë“¤ì–´ ì¤ì‹œë‹¤.


filter = np.where(yen_array <= 200000)
filter # ê²°ê³¼ í™•ì¸

(array([ 5,  6, 12, 13, 19, 20, 26, 27]),)
ìš°ë¦¬ê°€ ì›í•˜ëŠ” ë°ì´í„°ê°€ ì–´ë””ì— ìˆëŠ”ì§€ í™•ì¸í•  ìˆ˜ ìˆë„¤ìš”.

ì´ filterë¥¼ ì¸ë±ì‹±ì— í™œìš©í•´ì£¼ë©´, ìš°ë¦¬ê°€ ì›í•˜ëŠ” ê²°ê³¼ë¥¼ ì–»ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.


bad_days_revenue = yen_array[filter]
bad_days_revenue # ì •ë‹µ ì¶œë ¥

array([140000, 180000, 170000, 140000, 150000, 110000, 150000, 130000])
ì •ë¦¬í•˜ë©´ ì´ëŸ° ì½”ë“œê°€ ë˜ê² ë„¤ìš”.


import numpy as np

revenue_in_yen = [
    300000, 340000, 320000, 360000, 
    440000, 140000, 180000, 340000, 
    330000, 290000, 280000, 380000, 
    170000, 140000, 230000, 390000, 
    400000, 350000, 380000, 150000, 
    110000, 240000, 380000, 380000, 
    340000, 420000, 150000, 130000, 
    360000, 320000, 250000
]

yen_array = np.array(revenue_in_yen)

filter = np.where(yen_array <= 200000)
bad_days_revenue = yen_array[filter]

bad_days_revenue # ì •ë‹µ ì¶œë ¥
ì•„ë˜ì™€ ê°™ì´ where ë©”ì†Œë“œë¡œ filterë¥¼ ë§Œë“¤ì§€ ì•Šê³  ë°”ë¡œ ì¸ë±ì‹±í•˜ëŠ” ë°©ë²•ë„ ìˆë‹¤ëŠ” ê²ƒ! ì°¸ê³ í•˜ì„¸ìš”.


import numpy as np

revenue_in_yen = [
    300000, 340000, 320000, 360000, 
    440000, 140000, 180000, 340000, 
    330000, 290000, 280000, 380000, 
    170000, 140000, 230000, 390000, 
    400000, 350000, 380000, 150000, 
    110000, 240000, 380000, 380000, 
    340000, 420000, 150000, 130000, 
    360000, 320000, 250000
]

yen_array = np.array(revenue_in_yen)

bad_days_revenue = yen_array[yen_array <= 200000]

bad_days_revenue # ì •ë‹µ ì¶œë ¥



## numpy array vs. python list


## numpy ê¸°ë³¸ í†µê³„

numpy ë¼ì´ë¸ŒëŸ¬ë¦¬ëŠ” ê¸°ë³¸ì ì¸ í†µê³„ ê¸°ëŠ¥ë„ ì œê³µí•©ë‹ˆë‹¤.

# ìµœëŒ“ê°’, ìµœì†Ÿê°’
max ë©”ì†Œë“œì™€ min ë©”ì†Œë“œë¥¼ ì‚¬ìš©í•˜ë©´ numpy arrayì˜ ìµœëŒ“ê°’ê³¼ ìµœì†Ÿê°’ì„ êµ¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.


import numpy as np

array1 = np.array([14, 6, 13, 21, 23, 31, 9, 5])

print(array1.max()) # ìµœëŒ“ê°’
print(array1.min()) # ìµœì†Ÿê°’

31
5

# í‰ê· ê°’
mean ë©”ì†Œë“œë¥¼ ì‚¬ìš©í•˜ë©´ numpy arrayì˜ í‰ê· ê°’ì„ êµ¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.


import numpy as np

array1 = np.array([14, 6, 13, 21, 23, 31, 9, 5])

print(array1.mean()) # í‰ê· ê°’

15.25
ìœ„ ì˜ˆì‹œì—ì„œ, ì´í•©(14+6+13+21+23+31+9+5)ì„ ì´ ê°œìˆ˜(8)ë¡œ ë‚˜ëˆ„ë©´ 15.25 ì…ë‹ˆë‹¤.

# ì¤‘ì•™ê°’
median ë©”ì†Œë“œë¥¼ ì‚¬ìš©í•˜ë©´ ì¤‘ê°„ê°’ì„ êµ¬í•  ìˆ˜ ìˆëŠ”ë°ìš”. íŠ¹ì´í•˜ê²Œ medianì€ numpy arrayì˜ ë©”ì†Œë“œê°€ ì•„ë‹ˆë¼ numpyì˜ ë©”ì†Œë“œì…ë‹ˆë‹¤.


import numpy as np

array1 = np.array([8, 12, 9, 15, 16])
array2 = np.array([14, 6, 13, 21, 23, 31, 9, 5])

print(np.median(array1)) # ì¤‘ì•™ê°’
print(np.median(array2)) # ì¤‘ì•™ê°’

12.0
13.5
array1ì„ ì •ë ¬í•˜ë©´ ì¤‘ì•™ê°’ì´ 12 ì…ë‹ˆë‹¤.

array2ì—ëŠ” ì§ìˆ˜ê°œì˜ ìš”ì†Œê°€ ìˆê¸° ë•Œë¬¸ì— ì¤‘ì•™ê°’ì´ 13ê³¼ 14 ë‘ ê°œì…ë‹ˆë‹¤. ë‘˜ì˜ í‰ê· ê°’ì„ ë‚´ë©´ 13.5 ì…ë‹ˆë‹¤.

# í‘œì¤€ í¸ì°¨, ë¶„ì‚°
í‘œì¤€ í¸ì°¨ì™€ ë¶„ì‚°ì€ ê°’ë“¤ì´ í‰ê· ì—ì„œ ì–¼ë§ˆë‚˜ ë–¨ì–´ì ¸ ìˆëŠ”ì§€ ë‚˜íƒ€ë‚´ëŠ” ì§€í‘œì…ë‹ˆë‹¤. ì˜ ëª¨ë¥´ì‹ ë‹¤ë©´ ì¼ë‹¨ ë„˜ì–´ê°€ì…”ë„ ì¢‹ìŠµë‹ˆë‹¤.


import numpy as np

array1 = np.array([14, 6, 13, 21, 23, 31, 9, 5])

print(array1.std()) # í‘œì¤€ í¸ì°¨
print(array1.var()) # ë¶„ì‚°

8.496322733983215
72.1875


## Pandas
// 2ì°¨ì› í˜•íƒœì˜ ë°ì´í„°ë¥¼ ë‹¤ë£¨ê¸° ìœ„í•œ ìë£Œí˜• : Pandasì˜ DataFrame
í‘œ í˜•ì‹ : ì—´ column, í–‰ Row / Index

# DataFrameì„ ë§Œë“œëŠ” ë‹¤ì–‘í•œ ë°©ë²•

# From list of lists, array of arrays, list of series
2ì°¨ì› ë¦¬ìŠ¤íŠ¸ë‚˜ 2ì°¨ì› numpy arrayë¡œ DataFrameì„ ë§Œë“¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì‹¬ì§€ì–´ pandas Seriesë¥¼ ë‹´ê³  ìˆëŠ” ë¦¬ìŠ¤íŠ¸ë¡œë„ DataFrameì„ ë§Œë“¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ë”°ë¡œ columnê³¼ row(index)ì— ëŒ€í•œ ì„¤ì •ì´ ì—†ìœ¼ë©´ ê·¸ëƒ¥ 0, 1, 2, ... ìˆœì„œë¡œ ê°’ì´ ë§¤ê²¨ì§‘ë‹ˆë‹¤.


import numpy as np
import pandas as pd

two_dimensional_list = [['dongwook', 50, 86], ['sineui', 89, 31], ['ikjoong', 68, 91], ['yoonsoo', 88, 75]]
two_dimensional_array = np.array(two_dimensional_list)
list_of_series = [
    pd.Series(['dongwook', 50, 86]), 
    pd.Series(['sineui', 89, 31]), 
    pd.Series(['ikjoong', 68, 91]), 
    pd.Series(['yoonsoo', 88, 75])
]

# ì•„ë˜ ì…‹ì€ ëª¨ë‘ ë™ì¼í•©ë‹ˆë‹¤
df1 = pd.DataFrame(two_dimensional_list)
df2 = pd.DataFrame(two_dimensional_array)
df3 = pd.DataFrame(list_of_series)

print(df1)

          0   1   2
0  dongwook  50  86
1    sineui  89  31
2   ikjoong  68  91
3   yoonsoo  88  75

# From dict of lists, dict of arrays, dict of series
íŒŒì´ì¬ ì‚¬ì „(dictionary)ìœ¼ë¡œë„ DataFrameì„ ë§Œë“¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ì‚¬ì „ì˜ keyë¡œëŠ” column ì´ë¦„ì„ ì“°ê³ , ê·¸ columnì— í•´ë‹¹í•˜ëŠ” ë¦¬ìŠ¤íŠ¸, numpy array, í˜¹ì€ pandas Seriesë¥¼ ì‚¬ì „ì˜ valueë¡œ ë„£ì–´ì£¼ë©´ ë©ë‹ˆë‹¤.


import numpy as np
import pandas as pd

names = ['dongwook', 'sineui', 'ikjoong', 'yoonsoo']
english_scores = [50, 89, 68, 88]
math_scores = [86, 31, 91, 75]

dict1 = {
    'name': names, 
    'english_score': english_scores, 
    'math_score': math_scores
}

dict2 = {
    'name': np.array(names), 
    'english_score': np.array(english_scores), 
    'math_score': np.array(math_scores)
}

dict3 = {
    'name': pd.Series(names), 
    'english_score': pd.Series(english_scores), 
    'math_score': pd.Series(math_scores)
}


# ì•„ë˜ ì…‹ì€ ëª¨ë‘ ë™ì¼í•©ë‹ˆë‹¤
df1 = pd.DataFrame(dict1)
df2 = pd.DataFrame(dict2)
df3 = pd.DataFrame(dict3)

print(df1)

       name  english_score  math_score
0  dongwook             50          86
1    sineui             89          31
2   ikjoong             68          91
3   yoonsoo             88          75

# From list of dicts
ë¦¬ìŠ¤íŠ¸ê°€ ë‹´ê¸´ ì‚¬ì „ì´ ì•„ë‹ˆë¼, ì‚¬ì „ì´ ë‹´ê¸´ ë¦¬ìŠ¤íŠ¸ë¡œë„ DataFrameì„ ë§Œë“¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.


import numpy as np
import pandas as pd

my_list = [
    {'name': 'dongwook', 'english_score': 50, 'math_score': 86},
    {'name': 'sineui', 'english_score': 89, 'math_score': 31},
    {'name': 'ikjoong', 'english_score': 68, 'math_score': 91},
    {'name': 'yoonsoo', 'english_score': 88, 'math_score': 75}
]

df = pd.DataFrame(my_list)
print(df)

   english_score  math_score      name
0             50          86  dongwook
1             89          31    sineui
2             68          91   ikjoong
3             88          75   yoonsoo



## ìŠ¤íƒ€ë“¤ì˜ ìƒì¼ì€ ì–¸ì œ?
# ì‹¤ìŠµ ì„¤ëª…
ì •ë‹µ ì¶œë ¥ ì½”ë“œëŠ” print ì—†ì´ ì‘ì„±í•´ ì£¼ì„¸ìš”. ( ì˜ˆì‹œ: df)
ì•„ë˜ì™€ ê°™ì€ ê²°ê³¼ê°€ ë‚˜ì˜¤ë„ë¡ DataFrameì„ ë§Œë“¤ê³  ì¶œë ¥í•´ ë³´ì„¸ìš”.  
columnì€ name, birthday, occupation ì´ 3ê°œì…ë‹ˆë‹¤.

name	birthday	occupation
0	Taylor Swift	December 13, 1989	Singer-songwriter
1	Aaron Sorkin	June 9, 1961	Screenwriter
2	Harry Potter	July 31, 1980	Wizard
3	Ji-Sung Park	February 25, 1981	Footballer





íŒíŠ¸5/5

í•´ì„¤ ë³´ê¸°

í•´ì„¤
1ë‹¨ê³„
ìš°ì„  DataFrameì— ë“¤ì–´ê°ˆ ì •ë³´ê°€ ë‹´ê¸´ 2ì°¨ì› íŒŒì´ì¬ ë¦¬ìŠ¤íŠ¸ë¥¼ ë§Œë“¤ì–´ ì£¼ì„¸ìš”.

2ì°¨ì› íŒŒì´ì¬ ë¦¬ìŠ¤íŠ¸ëŠ” ì´ë ‡ê²Œ ì‘ì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.


celebrities = [
    ['Taylor Swift', 'December 13, 1989', 'Singer-songwriter'],
    ['Aaron Sorkin', 'June 9, 1961', 'Screenwriter'],
    ['Harry Potter', 'July 31, 1980', 'Wizard'],
    ['Ji-Sung Park', 'February 25, 1981', 'Footballer']
]
2ë‹¨ê³„
ì´ì œ DataFrameì„ ìƒì„±í•´ì•¼ê² ì£ ? pandas ë¼ì´ë¸ŒëŸ¬ë¦¬ì˜ DataFrame í•¨ìˆ˜(ìƒì„±ì)ë¥¼ ì‚¬ìš©í•˜ë©´ ë©ë‹ˆë‹¤.


df = pd.DataFrame(celebrities)
ì´ë ‡ê²Œ DataFrameì„ ìƒì„±í•  ìˆ˜ ìˆëŠ”ë°ìš”. Column ì´ë¦„ì€ ì–´ë–»ê²Œ ë¶™ì—¬ ì¤„ ìˆ˜ ìˆì„ê¹Œìš”?

3ë‹¨ê³„
DataFrame í•¨ìˆ˜ì˜ columnsë¼ëŠ” íŒŒë¼ë¯¸í„°ë¡œ ë¦¬ìŠ¤íŠ¸ë¥¼ ë„˜ê²¨ì£¼ë©´ ë©ë‹ˆë‹¤.


import pandas as pd

celebrities = [
    ['Taylor Swift', 'December 13, 1989', 'Singer-songwriter'],
    ['Aaron Sorkin', 'June 9, 1961', 'Screenwriter'],
    ['Harry Potter', 'July 31, 1980', 'Wizard'],
    ['Ji-Sung Park', 'February 25, 1981', 'Footballer']
]

df = pd.DataFrame(celebrities, columns=['name', 'birthday', 'occupation'])
df # í…ŒìŠ¤íŠ¸ ì½”ë“œ



## pandasì˜ ë°ì´í„° íƒ€ì…

# 
pandas DataFrameì—ëŠ” ë‹¤ì–‘í•œ ì¢…ë¥˜ì˜ ë°ì´í„°ë¥¼ ë‹´ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. dtypesë¥¼ ì‚¬ìš©í•´ì„œ ê° columnì´ ì–´ë–¤ ë°ì´í„° íƒ€ì…ì„ ë³´ê´€í•˜ëŠ”ì§€ í™•ì¸í•  ìˆ˜ ìˆëŠ”ë°ìš”.


import pandas as pd

two_dimensional_list = [['dongwook', 50, 86], ['sineui', 89, 31], ['ikjoong', 68, 91], ['yoonsoo', 88, 75]]

my_df = pd.DataFrame(two_dimensional_list, columns=['name', 'english_score', 'math_score'], index=['a', 'b', 'c', 'd'])

print(my_df.dtypes)

name             object
english_score     int64
math_score        int64
dtype: object
ìœ„ ê²½ìš° 'name' columnì€ objectë¼ëŠ” ë°ì´í„° íƒ€ì…ì„ ë³´ê´€í•˜ê³ , 'english_score'ì™€ 'math_score' columnì€ int64ë¼ëŠ” ë°ì´í„° íƒ€ì…ì„ ë³´ê´€í•˜ëŠ” ê±°ì£ .

ë³´ì‹œë‹¤ì‹œí”¼ í•œ column ë‚´ì—ì„œëŠ” ëª¨ë“  ê°’ì´ ë™ì¼í•œ ë°ì´í„° íƒ€ì…ì…ë‹ˆë‹¤.

# pandasì˜ dtypeë“¤
pandasì— ë‹´ì„ ìˆ˜ ìˆëŠ” dtype(ë°ì´í„° íƒ€ì…) ëª‡ ê°€ì§€ë¥¼ ì‚´í´ë´…ì‹œë‹¤.

dtype	ì„¤ëª…
int64	ì •ìˆ˜
float64	ì†Œìˆ˜
object	í…ìŠ¤íŠ¸
bool	ë¶ˆë¦°(ì°¸ê³¼ ê±°ì§“)
datetime64	ë‚ ì§œì™€ ì‹œê°„
category	ì¹´í…Œê³ ë¦¬


## CSV : Comma-Separated Values

## 

import pandasf as pd
pd.read_csv(íŒŒì¼ê²½ë¡œ) // ë³€ìˆ˜ = pd.read_csv('íŒŒì¼ê²½ë¡œ')

ë³€ìˆ˜ = pd.read_csv('íŒŒì¼ê²½ë¡œ', header=None)  // csv íŒŒì¼ì— í—¤ë”ê°€ ì—†ëŠ” ê²½ìš° 

ë³€ìˆ˜ = pd.read_csv('íŒŒì¼ê²½ë¡œ', index_col=0)  // íŠ¹ì • ì»¬ëŸ¼ì„ ì¸ë±ìŠ¤ ê°’ìœ¼ë¡œ ì„¤ì • ê°€ëŠ¥í•˜ë‹¤.


## ê°€ì¥ ì¸ê¸° ìˆëŠ” ì•„ê¸° ì´ë¦„ì€?
ì‹¤ìŠµ ì„¤ëª…
ì•„ê¸°ì˜ ì„±ë³„ê³¼ ì–´ë¨¸ë‹ˆì˜ ì¸ì¢…ì— ë”°ë¥¸, ë‰´ìš•ì—ì„œ ê°€ì¥ ì¸ê¸° ìˆëŠ” ì•„ê¸° ì´ë¦„ì´ ë¬´ì—‡ì¸ì§€ ì¡°ì‚¬ë¥¼ í•´ ë´¤ìŠµë‹ˆë‹¤.

ì¡°ì‚¬ ê²°ê³¼ê°€ data í´ë”ì˜ popular_baby_names.csvë¼ëŠ” íŒŒì¼ì— ë‹´ê²¨ ìˆëŠ”ë°ìš”. ì•ˆì— ìˆëŠ” ì •ë³´ë¥¼ DataFrameìœ¼ë¡œ ì½ì–´ ë“¤ì´ê³ , DataFrameì„ ì¶œë ¥í•´ ì£¼ì„¸ìš”.



ì£¼ì˜ ì‚¬í•­: ìë™ ì±„ì  ê³¼ì œì…ë‹ˆë‹¤. ì •ë‹µ ì¶œë ¥ ì½”ë“œëŠ” print ì—†ì´ ì‘ì„±í•´ ì£¼ì„¸ìš”. (ì˜ˆì‹œ: df)


íŒíŠ¸3/3

í•´ì„¤ ë³´ê¸°

í•´ì„¤
CSV íŒŒì¼ì„ DataFrameìœ¼ë¡œ ì½ì–´ ë“¤ì´ê¸° ìœ„í•´ì„œëŠ” pandas ë¼ì´ë¸ŒëŸ¬ë¦¬ì˜ read_csv í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ë©´ ë©ë‹ˆë‹¤.

read_csvì— íŒŒì¼ ê²½ë¡œë¥¼ ë„˜ê²¨ ì¤˜ì•¼ í•˜ëŠ”ë°ìš”. íŒŒì¼ ê²½ë¡œëŠ” ì–´ë–»ê²Œ ì¨ ì¤„ ìˆ˜ ìˆì„ê¹Œìš”?

í˜„ì¬ í´ë”ì— dataë¼ëŠ” í´ë”ê°€ ìˆê³ , ê·¸ ì•ˆì— popular_baby_names.csvë¼ëŠ” íŒŒì¼ì´ ìˆìŠµë‹ˆë‹¤. ê·¸ëŸ¼ ê²½ë¡œë¥¼ 'data/popular_baby_names.csv'ë¼ê³  ì‘ì„±í•  ìˆ˜ ìˆê² ë„¤ìš”.

ì½”ë“œë¡œ í‘œí˜„í•˜ë©´ ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.


import pandas as pd

df = pd.read_csv('data/popular_baby_names.csv')
df # í…ŒìŠ¤íŠ¸ ì½”ë“œ


ì½”ë“œì‡ ì‚¬ì´íŠ¸ê°€ ì•„ë‹ˆë¼ ë³¸ì¸ì˜ ì»´í“¨í„°ì—ì„œ ì§ì ‘ ì‹¤í–‰í•˜ëŠ” ê²½ìš°, CSV íŒŒì¼ì„ ì €ì¥í•œ ê²½ë¡œë¥¼ ë™ì¼í•˜ê²Œ ë„£ì–´ì£¼ë©´ ë©ë‹ˆë‹¤.


import pandas as pd

df = pd.read_csv('ì»´í“¨í„°ì— ì €ì¥í•œ CSV íŒŒì¼ ê²½ë¡œ')
df # í…ŒìŠ¤íŠ¸ ì½”ë“œ


##  ë©”ê°€ë°€ë¦¬ì–¸ ë¡œë˜ ë‹¹ì²¨ ë²ˆí˜¸
# ì‹¤ìŠµ ì„¤ëª…
â€˜ë©”ê°€ë°€ë¦¬ì–¸â€™ì€ â€˜íŒŒì›Œë³¼â€™ê³¼ ë”ë¶ˆì–´ ë¯¸êµ­ì—ì„œ ì–‘ëŒ€ì‚°ë§¥ì„ ì´ë£¨ëŠ” ë³µê¶Œì…ë‹ˆë‹¤. ë‹¹ì²¨ë  í™•ë¥ ì´ ì•½ 3ì–µë¶„ì˜ 1 ì •ë„ë¡œ êµ‰ì¥íˆ ë‚®ì€ ëŒ€ì‹ , ë‹¹ì²¨ì‹œ ê¸ˆì•¡ì´ ì–´ë§ˆì–´ë§ˆí•˜ì£ . 2018ë…„ì—ëŠ” í•œ ëª…ì´ ë¬´ë ¤ 1.8ì¡°ì›ì„ ê°€ì ¸ê°€ê¸°ë„ í–ˆìŠµë‹ˆë‹¤.

ë©”ê°€ë°€ë¦¬ì–¸ ì¸¡ì—ì„œ 2002ë…„ë¶€í„° í˜„ì¬(2/15/19)ê¹Œì§€ì˜ ë‹¹ì²¨ ë²ˆí˜¸ê°€ ë‹´ê¸´ mega_millions.csv íŒŒì¼ì„ ê³µê°œí–ˆëŠ”ë°ìš”. ì´ ë°ì´í„°ë¥¼ DataFrameì— ë„£ì–´ ë´…ì‹œë‹¤.

ë‚ ì§œ(Draw Date)ê°€ ì´ DataFrameì˜ ì¸ë±ìŠ¤ê°€ ë˜ë„ë¡ í•´ ì£¼ì„¸ìš”!

56c6gw2p7-4-9-1.png

ì£¼ì˜ ì‚¬í•­: ìë™ ì±„ì  ê³¼ì œì…ë‹ˆë‹¤. ì •ë‹µ ì¶œë ¥ ì½”ë“œëŠ” print ì—†ì´ ì‘ì„±í•´ ì£¼ì„¸ìš”. (ì˜ˆì‹œ: df)


# í•´ì„¤
ë©”ê°€ë°€ë¦¬ì–¸ ë¡œë˜ ë‹¹ì²¨ ë²ˆí˜¸ê°€ ì €ì¥ëœ CSV íŒŒì¼ì„ ì½ì–´ë“¤ì´ê³  ì‹¶ìŠµë‹ˆë‹¤.

CSV íŒŒì¼ì„ DataFrameìœ¼ë¡œ ì½ì–´ë“¤ì´ê¸° ìœ„í•´ì„œëŠ” pandas ë¼ì´ë¸ŒëŸ¬ë¦¬ì˜ read_csv í•¨ìˆ˜ë¥¼ ì‚¬ìš©í•˜ë©´ ë©ë‹ˆë‹¤.

read_csvì— íŒŒì¼ ê²½ë¡œë¥¼ ë„˜ê²¨ ì¤˜ì•¼ í•˜ëŠ”ë°ìš”. íŒŒì¼ ê²½ë¡œëŠ” ì–´ë–»ê²Œ ì¨ ì¤„ ìˆ˜ ìˆì„ê¹Œìš”?

í˜„ì¬ í´ë”ì—  dataë¼ëŠ” í´ë”ê°€ ìˆê³ , ê·¸ ì•ˆì— mega_millions.csv íŒŒì¼ì´ ìˆìŠµë‹ˆë‹¤. ê·¸ëŸ¼ ê²½ë¡œë¥¼ 'data/mega_millions.csv'ë¼ê³  ì‘ì„±í•  ìˆ˜ ìˆê² ë„¤ìš”. ì§ì ‘ ì½ì–´ë´…ì‹œë‹¤.


import pandas as pd

df = pd.read_csv('data/mega_millions.csv')
df # í…ŒìŠ¤íŠ¸ ì½”ë“œ


í•˜ì§€ë§Œ ìš°ë¦¬ê°€ ì˜ë„í•œ ëª¨ì–‘ê³¼ëŠ” ì¡°ê¸ˆ ë‹¤ë¥´ì£ .

Draw Dateë¥¼ ì¸ë±ìŠ¤ë¡œ ì§€ì •í•˜ê³  ì‹¶ìŠµë‹ˆë‹¤.

íŒŒì¼ì„ ì½ì–´ ë“¤ì¼ ë•Œ íŠ¹ì • columnì„ ì¸ë±ìŠ¤ë¡œ ì§€ì •í•˜ê³  ì‹¶ìœ¼ë©´, index_col íŒŒë¼ë¯¸í„°ë¥¼ ì¨ ì£¼ë©´ ë©ë‹ˆë‹¤.

Draw Dateê°€ 0ë²ˆ columnì— ìˆìœ¼ë‹ˆ, index_col=0 ì´ë¼ê³  ì ì–´ì£¼ë©´ ë©ë‹ˆë‹¤.


import pandas as pd

df = pd.read_csv('data/mega_millions.csv', index_col=0)
df # í…ŒìŠ¤íŠ¸ ì½”ë“œ


ì´ì œ ìš°ë¦¬ê°€ ì›í•˜ëŠ” í˜•íƒœë¡œ ì¶œë ¥ì´ ë˜ì—ˆìŠµë‹ˆë‹¤.

ëª‡ ë²ˆì§¸ Columnì¸ì§€ ëª…í™•í•˜ì§€ ì•Šì„ ë•ŒëŠ” ìˆ«ì 0 ëŒ€ì‹  index_col='Draw Date' ë¼ê³  ì´ë¦„ì„ ì§ì ‘ ì ìš©í•´ë„ ë©ë‹ˆë‹¤.


import pandas as pd

df = pd.read_csv('data/mega_millions.csv', index_col='Draw Date')
df # í…ŒìŠ¤íŠ¸ ì½”ë“œ


ê²°ê³¼ê°€ ë™ì¼í•˜ê²Œ ì¶œë ¥ë©ë‹ˆë‹¤.


############# ë°ì´í„° ë¶„ì„ê³¼ ì‹œê°í™”  #######################

## ì‹œê°í™”ì˜ ë‘ ê°€ì§€ ëª©ì 

# ì´ìƒì (Outlier)

## ì„  ê·¸ë˜í”„
matplotlib inline

import pandas as pd

df = pd.read_csv('data/broadcast.csv', index_col=0)
df

df.plot()    // ê·¸ë˜í”„ë¥¼ í‘œì‹œí•œë‹¤.

df.plot(kind='line')    // kind ì˜µì…˜ì€ ê¸°ë³¸ì´ë‹¤. ì‘ì„±í•˜ì§€ ì•Šì•„ë„ ê¸°ë³¸ ì ìš©

df.plot(y='KBS')
df.plot(y='KBS', 'JTBC')

df[['KBS', 'JTBC']]
df[['KBS', 'JTBC']].plot()

df['KBS']  // 1ì°¨ì›ì´ì§€ë§Œ plotë¥¼ ì´ìš©í•´ì„œ ê·¸ë˜í”„ í‘œì‹œ
df['KBS'].plot()

# ìˆ«ì ë°ì´í„° ì¼ ê²½ìš° ê·¸ë˜í‘œ í‘œì‹œê°€ ê°€ëŠ¥í•˜ì§€ë§Œ ë¬¸ìì—´ì¸ ê²½ìš° ê·¸ë˜í‘œ í‘œì‹œì— ì—ëŸ¬ ë°œìƒ


## êµ­ê°€ë³„ ê²½ì œ ì„±ì¥
#ì‹¤ìŠµ ì„¤ëª…
ì£¼ì–´ì§„ ë°ì´í„°ë¥¼ ì´ìš©í•´ì„œ í•œêµ­(Korea_Rep), ë¯¸êµ­(United_States), ì˜êµ­(United_Kingdom), ë…ì¼(Germany), ì¤‘êµ­(China), ì¼ë³¸(Japan)ì˜ GDP ê·¸ë˜í”„ë¥¼ ê·¸ë ¤ ë³´ì„¸ìš”.

# í•´ì„¤
ì›í•˜ëŠ” ë‚˜ë¼ì— ëŒ€í•´ì„œë§Œ ê·¸ë˜í”„ë¥¼ ê·¸ë¦¬ë ¤ë©´, yê°’ìœ¼ë¡œ ë¦¬ìŠ¤íŠ¸ë¥¼ ë„˜ê²¨ì£¼ë©´ ë©ë‹ˆë‹¤.


df.plot(y=["Korea_Rep", "United_States", "United_Kingdom", "Germany", "China", "Japan"])
ëª¨ë²” ë‹µì•ˆ

%matplotlib inline
import pandas as pd

df = pd.read_csv('data/gdp.csv', index_col=0)

df.plot(y=["Korea_Rep", "United_States", "United_Kingdom", "Germany", "China", "Japan"])

# í•˜ë£¨ ì •ë‹µ
df[['Korea_Rep', 'United_States', 'United_Kingdom', 'Germany', 'China', 'Japan']].plot()


## ê·¸ë˜í”„ ì„  ìƒ‰ìƒ ë³€ê²½í•˜ê¸°
%matplotlib inline
import pandas as pd

df = pd.read_csv('data/gdp.csv',index_col=0)
countries = ["Korea_Rep", "United_States", "United_Kingdom", "Germany", "China", "Japan"]

# ê° ì—´ì— ëŒ€í•œ ìƒ‰ìƒ ì§€ì •í•˜ì—¬ ê·¸ë˜í”„ ê·¸ë¦¬ê¸°
df.plot(y=countries, color=["blue", "green", "orange", "red", "purple", "pink"])


## ë§‰ëŒ€ ê·¸ë˜í”„
df.plot(kind='barh')

df.plot(kind='bar', stacked=True)

df['Female'].plot(kind='bar')



## ì‹¤ë¦¬ì½˜ ë°¸ë¦¬ì—ëŠ” ëˆ„ê°€ ì¼í• ê¹Œ? I

data = df[(df['job_category'] == 'Managers') & (df['gender'] == 'Male') & (df['race_ethnicity'] != 'All')]
data.plot(kind='bar', x='race_ethnicity', y='count')


## ì‹¤ìŠµ ì„¤ëª…
ì‹¤ë¦¬ì½˜ ë°¸ë¦¬ì—ì„œ ì¼í•˜ëŠ” ì‚¬ëŒë“¤ì˜ ì •ë³´ê°€ ìˆìŠµë‹ˆë‹¤.

ì§ì—… ì¢…ë¥˜, ì¸ì¢…, ì„±ë³„ ë“±ì´ í¬í•¨ë˜ì–´ ìˆëŠ”ë°ìš”.

ì‹¤ë¦¬ì½˜ ë°¸ë¦¬ì—ì„œ ì¼í•˜ëŠ” ë‚¨ì ê´€ë¦¬ì (Managers)ì— ëŒ€í•œ ì¸ì¢… ë¶„í¬ë¥¼ ë§‰ëŒ€ ê·¸ë˜í”„ë¡œ ë‹¤ìŒê³¼ ê°™ì´ ê·¸ë ¤ë³´ì„¸ìš”.

# í•´ì„¤
ìš°ì„  ë°ì´í„° ë‚´ìš©ì„ í™•ì¸í•´ ë´…ì‹œë‹¤.


%matplotlib inline
import pandas as pd

df = pd.read_csv('data/silicon_valley_summary.csv')
df


ìš°ë¦¬ëŠ” ê´€ë¦¬ì (Manager) ì§êµ°ì˜ ë‚¨ìì— ëŒ€í•œ ê·¸ë˜í”„ë¥¼ ê·¸ë¦¬ë ¤ê³  í•©ë‹ˆë‹¤.

ë”°ë¼ì„œ 'job_category'ëŠ” 'Manager'ì´ê³ , 'gender'ëŠ” 'Male'ì¸ ë°ì´í„°ë§Œ ë½‘ì•„ë´…ì‹œë‹¤.


boolean_male = df['gender']=='Male'
boolean_manager = df['job_category'] == 'Managers'

df[boolean_male & boolean_manager]


ê° ì¸ì¢…ì— ëŒ€í•œ ë°ì´í„°ë§Œ ê·¸ë˜í”„ë¡œ ê·¸ë¦¬ê³  ì‹¶ìœ¼ë‹ˆ, 'race_ethnicity'ê°€ 'All'ì¸ ê²½ìš°ëŠ” ì œì™¸í•´ì•¼ê² ì£ ?


boolean_male = df['gender']=='Male'
boolean_manager = df['job_category'] == 'Managers'
boolean_not_all = df['race_ethnicity'] != 'All'

df[boolean_male & boolean_manager & boolean_not_all]


ì´ì œ ì´ ë°ì´í„°ë¥¼ plot ë©”ì†Œë“œë¥¼ ì´ìš©í•´ì„œ ê·¸ë˜í”„ë¡œ ê·¸ë ¤ì£¼ë©´ ë©ë‹ˆë‹¤.


df[boolean_male & boolean_manager & boolean_not_all].plot(kind='bar', x='race_ethnicity',  y='count')


# ëª¨ë²” ë‹µì•ˆ

%matplotlib inline
import pandas as pd

df = pd.read_csv('data/silicon_valley_summary.csv')
boolean_male = df['gender']=='Male'
boolean_manager = df['job_category'] == 'Managers'
boolean_not_all = df['race_ethnicity'] != 'All'

df[boolean_male & boolean_manager & boolean_not_all].plot(kind='bar', x='race_ethnicity',  y='count')

## í•˜ë£¨ ì •ë‹µ
%matplotlib inline
import pandas as pd

df = pd.read_csv('data/silicon_valley_summary.csv')

# ì—¬ê¸°ì— ì½”ë“œë¥¼ ì‘ì„±í•˜ì„¸ìš”
data = df[(df['job_category'] == 'Managers') & (df['gender'] == 'Male') & (df['race_ethnicity'] != 'All')]
data.plot(kind='bar', x='race_ethnicity', y='count')



## íŒŒì´ ê·¸ë˜í”„
// ì›í˜•ì˜ ë¹„ìœ¨ ê·¸ë˜í”„

df.loc[2017].plot(kind='pie')



## ì‹¤ë¦¬ì½˜ ë°¸ë¦¬ì—ëŠ” ëˆ„ê°€ ì¼í• ê¹Œ?
# ì‹¤ìŠµ ì„¤ëª…
ì´ë²ˆì—ëŠ” ì–´ë„ë¹„ (Adobe)ì˜ ì§ì› ë¶„í¬ë¥¼ í•œë²ˆ ì‚´í´ë´…ì‹œë‹¤.

ì–´ë„ë¹„ ì „ì²´ ì§ì›ë“¤ì˜ ì§êµ° ë¶„í¬ë¥¼ íŒŒì´ ê·¸ë˜í”„ë¡œ ê·¸ë ¤ë³´ì„¸ìš”.

(ì¸ì›ì´ 0ì¸ ì§êµ°ì€ ê·¸ë˜í”„ì— í‘œì‹œë˜ì§€ ì•Šì•„ì•¼ í•©ë‹ˆë‹¤.)


# í•´ì„¤
ë¨¼ì € ì£¼ì–´ì§„ ë°ì´í„°ë¥¼ ì‚´í´ë´…ì‹œë‹¤.


%matplotlib inline
import pandas as pd

df = pd.read_csv("data/silicon_valley_details.csv")
df


ì´ì œ ì—¬ê¸°ì—ì„œ íšŒì‚¬ 'company'ëŠ” 'Adobe', ì¸ì¢… 'race' ëŠ” 'Overall_totals'ì¸ ë°ì´í„°ë§Œ ê³¨ë¼ë‚´ ë´…ì‹œë‹¤.


boolean_adobe = df['company'] == 'Adobe'
boolean_all_races = df['race'] == 'Overall_totals'
df[boolean_adobe & boolean_all_races]


ì¢€ ë” ê¹”ë”í•˜ê²Œ ì •ë¦¬í•˜ê¸° ìœ„í•´ì„œ, 'count'ê°€ 0ì¸ ë°ì´í„°ëŠ” ì œê±°í•˜ê³ , 'job_category'ê°€ 'Totals' í˜¹ì€ 'Previous_totals' ì¸ ë°ì´í„°ë„ ì œê±°í•©ì‹œë‹¤.


boolean_adobe = df['company'] == 'Adobe'
boolean_all_races = df['race'] == 'Overall_totals'
boolean_count = df['count'] != 0
boolean_job_category = (df['job_category'] != 'Totals') & (df['job_category'] != 'Previous_totals')

df_adobe = df[boolean_adobe & boolean_all_races & boolean_count & boolean_job_category]
df_adobe


ì´ì œ ê·¸ë˜í”„ë¥¼ ê·¸ë ¤ë´…ì‹œë‹¤.


df_adobe.plot(kind='pie', y= 'count')


ê·¸ëŸ°ë° ê·¸ë˜í”„ê°€ ì¡°ê¸ˆ ì´ìƒí•˜ì£ ?

íŒŒì´ ê·¸ë˜í”„ëŠ” indexë¥¼ ê¸°ì¤€ìœ¼ë¡œ ì´ë¦„í‘œë¥¼ ë¶™ì—¬ì£¼ê²Œ ë©ë‹ˆë‹¤.

ìš°ë¦¬ê°€ ì›í•˜ëŠ” ì´ë¦„í‘œëŠ” ì§ì—… ì¹´í…Œê³ ë¦¬ì´ë‹ˆê¹Œ, set_indexë¥¼ í™œìš©í•´ì„œ indexë¥¼ ë°”ê¿”ì¤ì‹œë‹¤.


df_adobe.set_index('job_category', inplace=True)


ì´ì œ plot ë©”ì†Œë“œë¡œ ê·¸ë˜í”„ë¥¼ ê·¸ë ¤ì£¼ë©´ ë©ë‹ˆë‹¤.


df_adobe.plot(kind='pie', y= 'count')


# ëª¨ë²” ë‹µì•ˆ

%matplotlib inline
import pandas as pd

df = pd.read_csv("data/silicon_valley_details.csv")

boolean_adobe = df['company'] == 'Adobe'
boolean_all_races = df['race'] == 'Overall_totals'
boolean_count = df['count'] != 0
boolean_job_category = (df['job_category'] != 'Totals') & (df['job_category'] != 'Previous_totals')

df_adobe = df[boolean_adobe & boolean_all_races & boolean_count & boolean_job_category]
df_adobe.set_index('job_category', inplace=True)
df_adobe.plot(kind='pie', y= 'count')



## íˆìŠ¤í† ê·¸ë¨
êµ¬ê°„ìœ¼ë¡œ ë²”ìœ„ë¥¼ ì •í•´ì„œ ê·¸ë˜í”„ë¥¼ í‘œì‹œ

df.plot(kind='hist', y='Height')

df.plot(kind='hist', y='Height', bins=15)


## ìŠ¤íƒ€ë²…ìŠ¤ ìŒë£Œì˜ ì¹¼ë¡œë¦¬ëŠ”?
# ì‹¤ìŠµ ì„¤ëª…
ìŠ¤íƒ€ë²…ìŠ¤ ìŒë£Œì˜ ì¹¼ë¡œë¦¬ ë° ì˜ì–‘ì†Œ ì •ë³´ê°€ ìˆìŠµë‹ˆë‹¤.

ìŠ¤íƒ€ë²…ìŠ¤ ìŒë£Œì˜ ì¹¼ë¡œë¦¬ ë¶„í¬ëŠ” ì–´ë–»ê²Œ ë˜ëŠ”ì§€, íˆìŠ¤í† ê·¸ë¨ì„ ê·¸ë ¤ì„œ í™•ì¸í•´ ë´…ì‹œë‹¤.

ì›í•˜ëŠ” ê²°ê³¼ê°€ ë‚˜ì˜¤ë„ë¡ df.plot() ë©”ì†Œë“œì˜ ê´„í˜¸ë¥¼ ì±„ì›Œ ë³´ì„¸ìš”!


df.plot() # ê´„í˜¸ë¥¼ ì±„ì›Œ ì£¼ì„¸ìš”.
ì¹¼ë¡œë¦¬ì˜ êµ¬ê°„ì€ ì´ 20ê°œë¡œ ë‚˜ëˆ„ì–´ ì£¼ì„¸ìš”.

# í•´ì„¤
ì£¼ì–´ì§„ ë°ì´í„°ì˜ 'Calories' columnì—ëŠ” ì¹¼ë¡œë¦¬ ì •ë³´ê°€ ì €ì¥ë˜ì–´ ìˆìŠµë‹ˆë‹¤.
í™•ì¸í•´ ë´…ì‹œë‹¤.


%matplotlib inline
import pandas as pd

df = pd.read_csv("data/starbucks_drinks.csv")
df['Calories']

0        3
1        4
2        5
3        5
4       70
      ... 
237    320
238    170
239    200
240    180
241    240
Name: Calories, Length: 242, dtype: int64
DataFrameì˜ .plot() ë©”ì†Œë“œë¥¼ ì‚¬ìš©í•´ì„œ íˆìŠ¤í† ê·¸ë¨ì„ ê·¸ë¦¬ë©´ ë©ë‹ˆë‹¤.

íˆìŠ¤í† ê·¸ë¨ì„ ê·¸ë¦¬ê¸° ìœ„í•´ì„œ kindë¥¼ histë¡œ,  
ì¹¼ë¡œë¦¬ì— ëŒ€í•œ ë°ì´í„°ë¥¼ ê·¸ë¦¬ê¸° ìœ„í•´ì„œ yë¥¼ Caloriesë¡œ,  
ì´ 20ê°œì˜ êµ¬ê°„ìœ¼ë¡œ ë‚˜ëˆ„ê¸° ìœ„í•´ binsë¥¼ 20ìœ¼ë¡œ ì„¤ì •í•´ ì¤ë‹ˆë‹¤.

# ëª¨ë²” ë‹µì•ˆ

%matplotlib inline
import pandas as pd

df = pd.read_csv("data/starbucks_drinks.csv")
df.plot(kind='hist', y='Calories', bins=20)


## ë°•ìŠ¤ í”Œë¡¯

ìµœëŒ“ê°’
75% ì§€ì (Q3)
ì¤‘ê°„ ê°’: 50% ì§€ì (Q2)
25% ì§€ì (Q1)
ìµœì†Ÿê°’

ì´ìƒì (outliers)

# ë°•ìŠ¤ í”Œë¡¯ ì¸ì‚¬ì´íŠ¸

df['math score'].describe()  //í†µê³„ ìš”ì•½

df.plot(kind='box', y='math score')

df.plot(kind='box', y=['math score', 'reading score', 'writing score'])



## ìŠ¤íƒ€ë²…ìŠ¤ ìŒë£Œì˜ ì¹¼ë¡œë¦¬ëŠ”? II
# í•´ì„¤
ë°•ìŠ¤ í”Œë¡¯ë„ íˆìŠ¤í† ê·¸ë¨ê³¼ ìœ ì‚¬í•˜ê²Œ ê·¸ë¦´ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

'Calories' columnì˜ ì¹¼ë¡œë¦¬ ì •ë³´ë¥¼ í™•ì¸í•´ ë´…ì‹œë‹¤.


%matplotlib inline
import pandas as pd

df = pd.read_csv("data/starbucks_drinks.csv")
df['Calories']

0        3
1        4
2        5
3        5
4       70
      ... 
237    320
238    170
239    200
240    180
241    240
Name: Calories, Length: 242, dtype: int64
ì—¬ê¸°ì—ì„œ plot ë©”ì†Œë“œë¥¼ ì‚¬ìš©í•´ì„œ ë°•ìŠ¤ í”Œë¡¯ì„ ê·¸ë¦¬ë©´ ë©ë‹ˆë‹¤.

# ëª¨ë²” ë‹µì•ˆ

%matplotlib inline
import pandas as pd

df = pd.read_csv("data/starbucks_drinks.csv")
df['Calories'].plot(kind='box')


## ì‚°ì ë„ scatter plot
ì—°ê´€ì„±ì„ ë¶„ì„ í•  ìˆ˜ ìˆë‹¤.(ëª¸ë¬´ê²Œ&í‚¤, í–‰ë³µ&ë“±ìˆ˜, ëª¸ë¬´ê²Œ&í–‰ë³µ)

df.plot(kind='scatter', x='math score', y='reading score')




## 
%matplotlib inline
import pandas as pd

df = pd.read_csv("data/world_indexes.csv")
Life = df['Life expectancy at birth- years']
users = df['Internet users percentage of population 2014']
Forest = df['Forest area percentage of total land area 2012']
Carbon = df['Carbon dioxide emissionsAverage annual growth']

df.plot(kind='scatter', x='Life', y='users')



df.plot(kind='scatter',x='math score',y = 'writing score')

df[['math score','writing score']].corr()



## Seaborn ì†Œê°œ


## KDE Plot (Kernel Density Estimation)

!pip install seaborn==0.9.0

import pandas as pd
import seaborn as sns

body_df = pd.read_csv('data/body.csv', index_col=0)
body_df.head()

body_df['Height']  // í‚¤ì˜ ì •ë³´ë¥¼ ê°€ì ¸ì˜¨ë‹¤.

body_df['Height'].value_counts()  //í‚¤ê°€ í•­ëª©ë³„ ëª‡ë²ˆì”© ë‚˜ì˜¤ëŠ”ì§€ í™•ì¸.

body_df['Height'].value_counts().sort_index()  //indexìˆœìœ¼ë¡œ ì •ë ¬ì´ ëœë‹¤.


# ê·¸ë˜í”„ ê·¸ë¦¬ê¸°
body_df['Height'].value_counts().sort_index().plot()

# ê·¸ë˜í”„ë¥¼ ê³¡ì„ ìœ¼ë¡œ ë§Œë“¤ê¸°
sns.kdeplot(body_df['Height'])

# ê³¡ì„ ì˜ ì •ë„ ë³€ê²½í•˜ê¸°
//bw ì˜µì…˜ìœ¼ë¡œ ë³€ê²½ (0.05, 0.5 ë“± ìˆ˜ì¹˜ ì…ë ¥, ë†’ì€ ìˆ˜ì¹˜ë¡œ ì…ë ¥ì‹œ ë¶€ì •í™•í•œ ê·¸ë˜í”„ í‘œì‹œ)
sns.kdeplot(body_df['Height'], bw=0.5)


## ì„œìš¸ ì§€í•˜ì²  ìŠ¹ì°¨ ì¸ì›
# í•´ì„¤

%matplotlib inline
import pandas as pd
import seaborn as sns

df = pd.read_csv('data/subway.csv')
ì£¼ì–´ì§„ DataFrameì„ ì‚´í´ë³´ë©´, í˜¸ì„  ì´ë¦„ ('line'), ì—­ ì´ë¦„ ('station'), ìŠ¹ì°¨ì¸ì› ('in'), í•˜ì°¨ì¸ì›('out') ë“±ì˜ ì •ë³´ê°€ ìˆìŠµë‹ˆë‹¤.

ì´ ì¤‘ ìš°ë¦¬ê°€ ì›í•˜ëŠ” ë°ì´í„°ì¸ ìŠ¹ì°¨ì¸ì›ì€ ë‹¤ìŒê³¼ ê°™ì´ ì¸ë±ì‹±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.


df['in']

0         37
1       2064
2        375
3       4338
4        321
...  
586    31245
587    38099
588    52310
589    29150
590    58391
Name: in, Length: 591, dtype: int64
ì´ ê°’ì„ ë‹¤ìŒê³¼ ê°™ì´ sns.kdeplot() ì•ˆì— ë„£ì–´ì£¼ë©´ ë©ë‹ˆë‹¤.


%matplotlib inline
import pandas as pd
import seaborn as sns

df = pd.read_csv('data/subway.csv')

sns.kdeplot(df['in'])


## KDE í™œìš© ì˜ˆì‹œ

body_df.plot(kind='hist', y='Height', bins=15)

sns.kdeplot(body_df['Height'], bins=15)

# box
body_df.plot(kind='box', y='Height')

# violinplot
sns.violinplot(y=body_df['Height'])

# scatter
body_df.plot(kind='scatter', x='Height', y='Weight')

# ë“±ê³ ì„ 
sns.kdeplot(body_df['Height'], body_df['Weight'])



## êµìˆ˜ë‹˜ì˜ ì—°ë´‰ì€?

# í•´ì„¤
%matplotlib inline
import pandas as pd
import seaborn as sns

df = pd.read_csv('data/salaries.csv')
ì£¼ì–´ì§„ DataFrameì„ ì‚´í´ë³´ë©´, ê¸‰ì—¬ì— ëŒ€í•œ ì •ë³´ê°€ 'salary' columnì— ìˆìŠµë‹ˆë‹¤.

ì´ ê°’ì„ ì‚´í´ë´…ì‹œë‹¤.


df['salary']

0     186960
1      93000
2     110515
3     131205
4     104800
...  
73    105450
74    104542
75    124312
76    109954
77    109646
Name: salary, Length: 78, dtype: int64
ì´ ê°’ìœ¼ë¡œ violin plotì„ ê·¸ë¦¬ê¸° ìœ„í•´ì„œëŠ” ë‹¤ìŒê³¼ ê°™ì´ sns.violinplot()ì„ ì‚¬ìš©í•˜ë©´ ë©ë‹ˆë‹¤.

# ëª¨ë²” ë‹µì•ˆ

%matplotlib inline
import pandas as pd
import seaborn as sns

df = pd.read_csv('data/salaries.csv')

sns.violinplot(df['salary'])



## LM Plot
body_df.plot(kind='scatter', x='Height', y='Weight')


#íšŒê·€ì„  
sns.lmplot(data=body_df, x='Height', y='Weight')

//í‚¤ë‚˜ ëª¸ë¬´ê²Œ ê°’ìœ¼ë¡œ ì˜ˆì¸¡í•´ ë³¼ ìˆ˜ ìˆë‹¤. í•˜ì§€ë§Œ ì •í™•í•œ ìˆ˜ì¹˜ ì˜ˆì¸¡ì€ ë¶ˆê°€í•˜ë‹¤.


## ì¹´í…Œê³ ë¦¬ë³„ ì‹œê°í™”
laptops_df['os'].unique()
// ì–´ë–¤ ê°’ë“¤ì´ ìˆëŠ”ì§€ ì¶”ë ¤ì„œ ë³´ì—¬ì¤€ë‹¤.

sns.catplot(data=laptops_df, x='os', y='price', kind='box')
sns.catplot(data=laptops_df, x='os', y='price', kind='violin')
a
sns.catplot(data=laptops_df, x='os', y='price', kind='strip')
// ìˆ˜ì¹˜ë³„ë¡œ í‘œaì‹œê°€ ë˜ì–´ ì¸ì‹ í•˜ê¸°ê°€ ì¢‹ë‹¤.
a
# í”„ë¡œì„¸ì„œ í•­ëª©aì— ë”°ë¼ ë‹¤ë¥´ê²Œ í‘œì‹œ
laptops_df['proacessor_brand'].unique()
a
sns.catplot(data=laptops_df, x='os', y='price', kind='strip', hue='processor_brand')
a
# swarm (ì ë“¤ì„a ê²¹ì¹˜ì§€ì§€ ì•Šê³  í¼ì³ì„œ ë³´ì—¬ì¤€ë‹¤)
sns.catplot(data=laptops_df, x='os', y='price', kind='swarm', hue='processor_brand')


## ë³´í—˜ê¸ˆ ë¶„ì„í•˜ê¸°
# í•´ì„¤
ë¨¼ì € ì£¼ì–´ì§„ ë°ì´í„°ë¥¼ ì‚´í´ë´…ì‹œë‹¤.

%matplotlib inline
import pandas as pd
import seaborn as sns

df = pd.read_csv('data/insurance.csv')
ì£¼ì–´ì§„ DataFrameì„ ì‚´í´ë³´ë©´, í¡ì—° ì—¬ë¶€ì— ëŒ€í•œ ì •ë³´ê°€ 'smoker', ë³´í—˜ê¸ˆì— ëŒ€í•œ ì •ë³´ê°€ 'charges' columnì— ìˆìŠµë‹ˆë‹¤.

ì´ ë‘ columnì„ í™œìš©í•˜ì—¬  seabornì˜ ì¹´í…Œê³ ë¦¬ë³„ ì‹œê°í™”ë¥¼ í•´ ë´…ì‹œë‹¤.

ì¹´í…Œê³ ë¦¬ë³„ ì‹œê°í™”ëŠ” seabornì˜ catplotì„ ì‚¬ìš©í•˜ë©´ ë©ë‹ˆë‹¤.

ì£¼ì–´ì§„ ê·¸ë˜í”„ëŠ” violin í˜•íƒœì´ê¸° ë•Œë¬¸ì— ë‹¤ìŒê³¼ ê°™ì´ ì½”ë“œë¥¼ ì‘ì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

# ëª¨ë²” ë‹µì•ˆ
sns.catplot(data=df, x='smoker', y='charges', kind='violin')


## í‰ê· (Mean) = ë°ì´í„°ë“¤ì˜ í•© / ë°ì´í„° ê°œìˆ˜

## ì¤‘ê°„ê°’(Median) : ë°ì´í„°ì…‹ì—ì„œ ë”± ì¤‘ê°„ì— ìˆëŠ” ê°’
// ì˜ëª»ëœ ê°’ì„ ì…ë ¥í•˜ë”ë¼ë„ ì¤‘ê°„ê°’ì„ êµ¬í•˜ëŠ”ë° ë¬¸ì œê°€ ì—†ë‹¤.


##  ì¤‘ê°„ê°’ ê³„ì‚°í•˜ê¸°

# 1ë²ˆ ë¬¸ì œ
list_1 = [44, 42, 43, 28, 46, 33, 42, 37, 29]
list_1.sort()
print(list_1)
length = len(list_1)
print(f"ë¦¬ìŠ¤íŠ¸ì˜ ê¸¸ì´ëŠ” {length}")
if length % 2 == 0:
    print(f"list_1ì˜ ì¤‘ê°„ê°’ì€ {(list_1[length // 2] + list_1[length // 2 - 1]) /2}, ì¤‘ê°„ê°’ì€ {length // 2 - 1}ê³¼ {length // 2} ì‚¬ì´ ")
else:
    print(f"list_1ì˜ ì¤‘ê°„ê°’ì€ {list_1[length // 2]}, ì¤‘ê°„ê°’ ì¸ë±ìŠ¤ëŠ” {length // 2}")
    


# 2ë²ˆ ë¬¸ì œ
list_1 = [33, 45, 98, 38, 21, 49, 51, 58, 82, 75]
list_1.sort()
print(list_1)
length = len(list_1)
print(f"ë¦¬ìŠ¤íŠ¸ì˜ ê¸¸ì´ëŠ” {length}")
if length % 2 == 0:
    print(f"list_1ì˜ ì¤‘ê°„ê°’ì€ {(list_1[length // 2] + list_1[length // 2 - 1]) /2}, ì¤‘ê°„ê°’ì€ {length // 2 - 1}ê³¼ {length // 2} ì‚¬ì´ ")
else:
    print(f"list_1ì˜ ì¤‘ê°„ê°’ì€ {list_1[length // 2]}, ì¤‘ê°„ê°’ ì¸ë±ìŠ¤ëŠ” {length // 2}")
    


## Q1, Q3ì™€ ì´ìƒê°’

# Q1, Q3 êµ¬í•˜ê¸°
ì§€ê¸ˆê¹Œì§€ í‰ê· ê³¼ ì¤‘ê°„ê°’ì— ëŒ€í•´ ì•Œì•„ë´¤ìŠµë‹ˆë‹¤. ë°ì´í„°ì˜ 50% ì§€ì ì„ ì˜ë¯¸í•˜ëŠ” ì¤‘ê°„ê°’ì„ êµ¬í•  ì¤„ ì•ˆë‹¤ë©´ Q1(ë°ì´í„°ì˜ 25% ì§€ì )ê³¼ Q3(ë°ì´í„°ì˜ 75% ì§€ì )ë„ ì‰½ê²Œ êµ¬í•  ìˆ˜ ìˆëŠ”ë°ìš”.

ì¼ë‹¨ ì•„ë˜ì™€ ê°™ì€ ë°ì´í„°ì…‹ì´ ìˆë‹¤ê³  í•©ì‹œë‹¤. ì—¬ê¸°ì„œ ì¤‘ê°„ê°’ì€ ë”± ê°€ìš´ë°ì— ìˆëŠ” 86ì´ê² ì£ ?

ê·¸ë¦¬ê³  ì´ ë°ì´í„°ë¥¼ ì¤‘ê°„ê°’ì„ ê¸°ì¤€ìœ¼ë¡œ ë‘˜ë¡œ ë‚˜ëˆ  ë³¼ê²Œìš”. ì•„ë˜ ì´ë¯¸ì§€ì²˜ëŸ¼ ì²« ë²ˆì§¸ ê°’ë¶€í„° ì¤‘ê°„ê°’ê¹Œì§€, ì¤‘ê°„ê°’ë¶€í„° ê°€ì¥ ë§ˆì§€ë§‰ ê°’ê¹Œì§€ ì´ë ‡ê²Œ ë‘˜ë¡œ ë‚˜ëˆ ì§„ë‹¤ê³  ë³´ì‹œë©´ ë©ë‹ˆë‹¤. ì—¬ê¸° ì™¼ìª½ ë¬¶ìŒì—ì„œ ì¤‘ê°„ê°’ì€ 56ì¸ë°ìš”. ì´ê±´ 50%ì˜ ì¤‘ê°„, ì¦‰ 25% ì§€ì ì— í•´ë‹¹í•˜ëŠ” Q1 ê°’ì´ë¼ê³  ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë°˜ëŒ€ë¡œ ì˜¤ë¥¸ìª½ ë¬¶ìŒì— ìˆëŠ” ì¤‘ê°„ê°’ 100ì€ 75% ì§€ì , ì¦‰ Q3ì´ ë˜ê² ì£ .

ê·¸ëŸ°ë°, ì•„ë˜ì™€ ê°™ì´ Q1, Q2, Q3ì˜ ìœ„ì¹˜ë¥¼ ë”± ì •í•  ìˆ˜ ì—†ëŠ” ê²½ìš°ë„ ìˆìŠµë‹ˆë‹¤. ì§€ê¸ˆì²˜ëŸ¼ ë°ì´í„°ì˜ ê°œìˆ˜ê°€ ì§ìˆ˜ì¼ ë•Œ ì¤‘ê°„ê°’(Q2)ì„ êµ¬í•˜ë ¤ë©´ ê°€ìš´ë°ì— ìˆëŠ” ë‘ ê°’ì˜ í•©ì„ 2ë¡œ ë‚˜ëˆ  ì£¼ë©´ ëœë‹¤ê³  ë°°ì› ì—ˆì£ ? ì¦‰, ì—¬ê¸°ì„œ ì¤‘ê°„ê°’ì€ 24ì™€ 35, ë‘ ê°’ì˜ ì¤‘ê°„ ì§€ì ì— ìˆë‹¤ê³  ë³¼ ìˆ˜ ìˆê¸° ë•Œë¬¸ì— 24 ë”í•˜ê¸° 35ë¥¼ 2ë¡œ ë‚˜ëˆˆ 29.5ê°€ ë©ë‹ˆë‹¤.

ì´ë²ˆì—” Q1ì„ êµ¬í•´ ë³¼ê²Œìš”. ì‚¬ì‹¤ ë°ì´í„°ì—ì„œ íŠ¹ì • í¼ì„¼íŠ¸ ì§€ì ì— ìˆëŠ” ê°’ì„ êµ¬í•˜ëŠ” ë°©ë²•ì€ ì—¬ëŸ¬ ê°€ì§€ê°€ ìˆì§€ë§Œ, numpyì™€ pandasì—ì„œ ê¸°ë³¸ìœ¼ë¡œ ì‚¬ìš©ë˜ëŠ” ë°©ì‹ì„ ëŒ€í‘œë¡œ ì„¤ëª…ë“œë¦¬ê² ìŠµë‹ˆë‹¤.

ë¨¼ì € Q1ì´ ëª‡ ë²ˆ ì¸ë±ìŠ¤ì— ìˆëŠ” ê°’ì¸ì§€ êµ¬í•´ì•¼ í•˜ëŠ”ë°ìš”. ë°ì´í„°ì—ì„œ íŠ¹ì • í¼ì„¼íŠ¸ ì§€ì ì˜ ì¸ë±ìŠ¤ë¥¼ êµ¬í•˜ë ¤ë©´ ë°ì´í„°ì˜ ê°œìˆ˜ì—ì„œ 1ì„ ëº€ ë’¤, ì—¬ê¸°ì— ì›í•˜ëŠ” ìˆ«ìë¥¼ ê³±í•´ì£¼ë©´ ë©ë‹ˆë‹¤. ì§€ê¸ˆì€ ë°ì´í„°ì˜ ê°œìˆ˜ê°€ ì´ 8ê°œë‹ˆê¹Œ, 
(8âˆ’1)âˆ—0.25
ë¥¼ í•´ì„œ 1.75ë¼ëŠ” ê²°ê³¼ë¬¼ì„ ì–»ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. (ì°¸ê³ ë¡œ ë°ì´í„° ê°œìˆ˜ì—ì„œ 1ì„ ë¹¼ëŠ” ê±´, íŒŒì´ì¬ì—ì„œ ì¸ë±ìŠ¤ê°€ 0ë¶€í„° ì‹œì‘í•˜ë‹ˆê¹Œ ì´ë¥¼ ë³´ì •í•´ ì£¼ê¸° ìœ„í•œ ê±°ë¼ê³  ë³´ì‹œë©´ ë©ë‹ˆë‹¤!)

ê·¸ëŸ°ë° 0ë²ˆ, 2ë²ˆ, 4ë²ˆâ€¦ ì´ëŸ° ì •ìˆ˜ ê°’ì´ ì•„ë‹ˆë¼ 1.75ë²ˆ ì¸ë±ìŠ¤ì— ìˆëŠ” ìˆ«ìë¥¼ ì–´ë–»ê²Œ êµ¬í•´ì•¼ í• ê¹Œìš”? ì¼ë‹¨ 1.75ë²ˆ ì¸ë±ìŠ¤ëŠ” 1ë²ˆ ì¸ë±ìŠ¤ì— ìˆëŠ” 15ì™€ 2ë²ˆ ì¸ë±ìŠ¤ì— ìˆëŠ” 20 ì‚¬ì´ì— ìˆë‹¤ê³  ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ì œ 1.75ì—ì„œ ì •ìˆ˜ ë¶€ë¶„ 1ì´ ë¬´ì—‡ì„ ì˜ë¯¸í•˜ëŠ”ì§€ ì•Œì•˜ìœ¼ë‹ˆê¹Œ, 0.75ë¼ëŠ” ì†Œìˆ˜ ë¶€ë¶„ì„ ê³ ë ¤í•  ì°¨ë¡€ë„¤ìš”.

ì‰½ê²Œ ë§í•˜ìë©´, ì†Œìˆ˜ ë¶€ë¶„ì€ ë‘ ê°’ ì‚¬ì´ì—ì„œ ì •í™•íˆ ì–´ëŠ ì •ë„ ìœ„ì¹˜ì— ìˆëŠ”ì§€ë¥¼ ì˜ë¯¸í•œë‹¤ê³  ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤. 0.75ë¥¼ ë¶„ìˆ˜ë¡œ í‘œí˜„í•˜ë©´ 4ë¶„ì˜ 3ì¸ë°ìš”. ì¦‰, Q1ì€ ì•„ë˜ ê·¸ë¦¼ê³¼ ê°™ì´ 15ì™€ 20 ì‚¬ì´ì—ì„œ 4ë¶„ì˜ 3 ì§€ì ì— ìœ„ì¹˜í•˜ê³  ìˆìŠµë‹ˆë‹¤. ì´ ê°’ì„ êµ¬í•˜ë ¤ë©´ 
15âˆ—(1âˆ’0.75)+20âˆ—0.75
ë¥¼ ê³„ì‚°í•˜ë©´ ë©ë‹ˆë‹¤. ì¦‰, Q1ì€ 18.75ê°€ ë©ë‹ˆë‹¤.

ê·¸ëŸ¬ë©´ Q3ë„ ê³„ì‚°í•´ ë³¼ê²Œìš”. Q3ì˜ ì¸ë±ìŠ¤ëŠ” 
(8âˆ’1)âˆ—0.75ë¥¼ í•´ì„œ 5.25ê°€ ë˜ê³ ìš”. ì¦‰, 57(5ë²ˆ ì¸ë±ìŠ¤)ê³¼ 63(6ë²ˆ ì¸ë±ìŠ¤) ì‚¬ì´ì—ì„œ 4ë¶„ì˜ 1 ì§€ì ì— ìœ„ì¹˜í•œ ê°’ì´ë¼ê³  í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ë²ˆì—ëŠ” 
57âˆ—(1âˆ’0.25)+63âˆ—0.25ë¥¼ ê³„ì‚°í•´ ì£¼ë©´, Q3ì€ 58.5ê°€ ë˜ì£ .

# ì´ìƒê°’ êµ¬í•˜ê¸°
ë°•ìŠ¤ í”Œë¡¯ì—ì„œ ë°•ìŠ¤ì™€ ìœ„ìŠ¤ì»¤ ë°”ê¹¥ì— ìˆëŠ” ì ë“¤ì„ ì´ìƒì (outlier)ë¼ê³  ë¶€ë¥¸ë‹¤ê³  ë°°ì› ëŠ”ë°ìš”. ë”± ë´¤ì„ ë•Œ ë‹¤ë¥¸ ê°’ë“¤ì— ë¹„í•´ ìœ ë… í¬ê±°ë‚˜ ì‘ì€ ê°’ë“¤ì„ ì´ìƒì ì´ë¼ê³  íŒë‹¨í•  ìˆ˜ë„ ìˆê² ì§€ë§Œ, ì´ê²Œ ì´ìƒì ì¸ì§€ ì•„ë‹Œì§€ ì• ë§¤í•œ ê²½ìš°ë„ ìˆê² ì£ ?

ì´ìƒì ì„ êµ¬ë¶„í•˜ê¸° ìœ„í•œ ëª…í™•í•œ ê¸°ì¤€ì´ ëª‡ ê°€ì§€ ìˆëŠ”ë°, ê°€ì¥ ëŒ€í‘œì ì¸ ê²ƒ ì¤‘ í•˜ë‚˜ë¡œ ìœ„ì—ì„œ êµ¬í•œ Q1ê³¼ Q3 ê°’ì„ í™œìš©í•˜ëŠ” ë°©ì‹ì´ ìˆìŠµë‹ˆë‹¤. ì´ ë°©ì‹ì„ ì‚¬ìš©í•˜ë ¤ë©´ ì¼ë‹¨, Q3ê³¼ Q1 ì‚¬ì´ì˜ ê±°ë¦¬ë¥¼ ì•Œì•„ì•¼ í•˜ëŠ”ë°ìš”. ê·¸ëƒ¥ Q3ì—ì„œ Q1ì„ ë¹¼ì£¼ë©´ ë˜ê³ , ì´ ê°’ì„ ë°”ë¡œ IQR(Interquartile Range)ë¼ê³  ë¶€ë¦…ë‹ˆë‹¤. ë°©ê¸ˆ ì „ì— ì‚¬ìš©í•œ ë°ì´í„°ë¥¼ ë‹¤ì‹œ ì˜ˆë¡œ ë“¤ë©´, IQRì€ Q3(58.5)ì—ì„œ Q1(18.75)ë¥¼ ëº€ 39.75ê°€ ë©ë‹ˆë‹¤.

ê·¸ë¦¬ê³  ë³´í†µ Q1 ì§€ì ì—ì„œ ì•„ë˜ë¡œ 1.5 IQR ë” ë–¨ì–´ì ¸ ìˆê±°ë‚˜, Q3 ì§€ì ì—ì„œ ìœ„ë¡œ 1.5 IQR ë” ë–¨ì–´ì ¸ ìˆëŠ” ê°’ì€ ì´ìƒì ì´ë¼ê³  íŒë‹¨í•©ë‹ˆë‹¤. ì•„ê¹Œ Q1ê³¼ Q3ì„ êµ¬í•œ ë°ì´í„°ë¥¼ ì˜ˆë¡œ ë“¤ë©´, ì´ìƒê°’ìœ¼ë¡œ íŒë‹¨í•˜ëŠ” ê¸°ì¤€ì ì€ -40.875ì™€ 118.125ê°€ ë©ë‹ˆë‹¤. ë‹¤ 0ë³´ë‹¤ í° ìˆ«ìë“¤ì´ë‹ˆê¹Œ, -40.875ë³´ë‹¤ ì‘ì€ ê°’ì€ ì—†ëŠ” ê²ƒ ê°™ê³  125ëŠ” 118.125ë³´ë‹¤ í¬ë‹ˆê¹Œ ì´ìƒì ì´ë¼ê³  ë³¼ ìˆ˜ ìˆê² ë„¤ìš”.


## ìƒê´€ ê³„ìˆ˜
í”¼ì–´ìŠ¨ Pearson
ìƒê´€ ê³„ìˆ˜ Correlation Coefficient


## ìƒê´€ ê³„ìˆ˜ ì‹œê°í™”

í•™ìƒë“¤ì˜ ì‹œí—˜ ì ìˆ˜ ë°ì´í„°ê°€ ìˆìŠµë‹ˆë‹¤. ë°ì´í„° ì‚¬ì´ì˜ ìƒê´€ ê³„ìˆ˜ë¥¼ ì‚´í´ë´…ì‹œë‹¤.

DataFrameì˜ corr() ë©”ì†Œë“œë¥¼ ì‚¬ìš©í•˜ë©´, ìˆ«ì ë°ì´í„° ì‚¬ì´ì˜ ìƒê´€ ê³„ìˆ˜ë¥¼ ë³´ì—¬ ì¤ë‹ˆë‹¤.


%matplotlib inline
import pandas as pd

df = pd.read_csv('data/exam.csv')

df.corr()


ìƒê´€ ê³„ìˆ˜ë„ DataFrame í˜•íƒœë¡œ ì¶œë ¥ë©ë‹ˆë‹¤.  
í•˜ì§€ë§Œ ìˆ«ìê°€ ë§ë‹¤ë³´ë‹ˆ í•œëˆˆì— ì˜ ë“¤ì–´ì˜¤ì§€ ì•Šì„ ìˆ˜ ìˆëŠ”ë°ìš”. ì´ëŸ´ ë•Œ íˆíŠ¸ë§µì„ ì‚¬ìš©í•©ë‹ˆë‹¤.

íˆíŠ¸ë§µì€ ìƒê´€ ê³„ìˆ˜ë¥¼ ì‹œê°í™”í•˜ëŠ” ëŒ€í‘œì ì¸ ë°©ë²•ì…ë‹ˆë‹¤. ìƒê´€ ê³„ìˆ˜ëŠ” ì‹œê°í™”í•´ì„œ ë³´ëŠ” ê²½ìš°ê°€ ë§ìŠµë‹ˆë‹¤.  
Seabornì„ ì´ìš©í•˜ë©´ íˆíŠ¸ë§µì„ ê·¸ë¦´ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ìƒê´€ ê³„ìˆ˜ì˜ ê²°ê³¼ë¥¼ Seabornì˜ heatmap ë©”ì†Œë“œì— ë„˜ê²¨ì£¼ë©´ ë©ë‹ˆë‹¤.


%matplotlib inline
import pandas as pd
import seaborn as sns

df = pd.read_csv('data/exam.csv')

sns.heatmap(df.corr())


ìƒ‰ì´ ë°ì„ìˆ˜ë¡ ìƒê´€ ê³„ìˆ˜ê°€ ë” ë†’ë‹¤ëŠ” ì˜ë¯¸ì…ë‹ˆë‹¤.  
ì½ê¸° ì ìˆ˜(reading score)ì™€ ì“°ê¸° ì ìˆ˜(writing score) ì‚¬ì´ì˜ ìƒê´€ ê´€ê³„ê°€ ê°€ì¥ ê°•í•˜ë‹¤ëŠ” ê²ƒì„ í•œ ëˆˆì— ì•Œ ìˆ˜ ìˆë„¤ìš”.

annot=True ì˜µì…˜ì„ ì¶”ê°€í•´ì£¼ë©´, ìƒ‰ìƒ ë¿ ì•„ë‹ˆë¼ ìˆ«ìë„ í•¨ê»˜ ë³´ì—¬ì¤ë‹ˆë‹¤.


%matplotlib inline
import pandas as pd
import seaborn as sns

df = pd.read_csv('data/exam.csv')

sns.heatmap(df.corr(), annot=True)


## EDA (Exploratory Data Analysis) - íƒìƒ‰ì  ë°ì´í„° ë¶„ì„
ë°ì´í„°ì…‹ì„ ë‹¤ì–‘í•œ ê´€ì ì—ì„œ ì‚´í´ë³´ê³  íƒìƒ‰í•˜ë©´ì„œ ì¸ì‚¬ì´íŠ¸ë¥¼ ì°¾ëŠ” ê²ƒ!

- ê° rowëŠ” ë¬´ì—‡ì„ ì˜ë¯¸í•˜ëŠ”ê°€?

- ê° columnì€ ë¬´ì—‡ì„ ì˜ë¯¸í•˜ëŠ”ê°€?

- ê° columnì€ ì–´ë–¤ ë¶„í¬ë¥¼ ë³´ì´ëŠ”ê°€?

- ë‘ columnì€ ì–´ë–¤ ì—°ê´€ì„±ì´ ìˆëŠ”ê°€?


# ê¸°ë³¸ ì •ë³´ íŒŒì•…í•˜ê¸°
basic_info = df.iloc[:, 140:]
basic_info.head()

basic_info.describe() //í†µê³„ì ìœ¼ë¡œ íŒŒì•… ê°€ëŠ¥(ìˆ«ì columnsë“¤ë§Œ í‘œì‹œ)

basic_info['Gender'].value_counts()
basic_info['Handedness'].value_counts()
basic_info['Education'].value_counts()

sns.violinplot(data=basic_info, y='Age')

sns.violinplot(data=basic_info, x='Gender', y='Age')

# jointplot
sns.jointplot(data=basic_info, x='Height', y='Weight')


## ìš”ì¦˜ ì¸ê¸° ì§ì—…ì€?

# ì§ˆë¬¸ 1
occupations.csv íŒŒì¼(ë‹¤ìš´ë¡œë“œ)ì„ ë³´ê³ , ì—¬ì„±ë¶„ë“¤ì´ ê°€ì¥ ë§ì´ ì¢…ì‚¬í•˜ê³  ìˆëŠ” ì§ì¢…ì´ ë¬´ì—‡ì¸ì§€ íŒŒì•…í•´ ë³´ì„¸ìš”.

ìƒìœ„ ì§ì¢… 3ê°œë¥¼ ê³¨ë¼ ë³´ì„¸ìš”.

1 student, programmer, scientist
2 student, librarian, educator
3 student, administrator, other
4 student, administrator, librarian
5 student, homemaker, marketing

ğŸ‘ğŸ» ì •ë‹µì…ë‹ˆë‹¤.

# í€´ì¦ˆ í•´ì„¤
import pandas as pd

df = pd.read_csv('data/occupations.csv', index_col=0)
df.head(5)
ì„±ë³„ì´ 'gender'ë¼ëŠ” columnì— 'M' í˜¹ì€ 'F'ë¡œ ë“¤ì–´ ìˆë„¤ìš”.
ì„±ë³„ì´ ì—¬ì„±ì¸ ë°ì´í„°ë§Œ ë°›ì•„ì™€ ë´…ì‹œë‹¤.


women = df[df['gender'] == 'F']
ì´ì œ ì—¬ì„± ë¶„ë“¤ì˜ ì§ì—…ë§Œ ì¸ë±ì‹±í•´ì„œ ë°›ì•„ì˜¬ ìˆ˜ ìˆê² ì£ ?


women['occupation']
ê° ì§ì—…ì´ ì–¼ë§ˆë‚˜ ë§ì´ ìˆëŠ”ì§€ í™•ì¸í•´ë´…ì‹œë‹¤.


women['occupation'].value_counts().sort_values(ascending=False)
student, administrator, other, librarian ìˆœìœ¼ë¡œ ë§ë‹¤ëŠ” ê²ƒì„ ì•Œ ìˆ˜ ìˆë„¤ìš”.

# ì •ë‹µ
import pandas as pd

df = pd.read_csv('data/occupations.csv', index_col=0)
df.head(5)
women = df[df['gender'] == 'F']
women['occupation'].value_counts().sort_values(ascending=False)


# ë‚¨ì ì¼ ê²½ìš°
man = df[df['gender'] == 'M']
man['occupation'].value_counts().sort_values(ascending=False)


## ìƒê´€ ê´€ê³„ ë¶„ì„ (Correlation Analysis)

music = df.iloc[:, :19]
music.head()

sns.heatmap(music.corr())

df.corr()
df.corr()['Age']
df.corr()['Age'].sort_values(ascending=False)



# ë¸ŒëŸ°ì¹˜ ì¹´í˜ ìŒì•… ì…€ë ‰ì…˜

ëŒ€ìœ„ëŠ” ì‹ ì´Œì—ì„œ ëŒ€í•™ìƒë“¤ì„ ëŒ€ìƒìœ¼ë¡œ ë¸ŒëŸ°ì¹˜ ì¹´í˜ë¥¼ ìš´ì˜í•©ë‹ˆë‹¤.

ì†ë‹˜ë“¤ì˜ ì·¨í–¥ì— ë”± ë§ëŠ” ìŒì•…ì„ í‹€ê³  ì‹¶ì€ë°ìš”. ë¸ŒëŸ°ì¹˜ ì¹´í˜ì´ê¸° ë•Œë¬¸ì—, ì¼ì° ì¼ì–´ë‚˜ëŠ” ì‚¬ëŒë“¤ì´ ì¢‹ì•„í•  ë§Œí•œ ìŒì•…ì´ ë¬´ì—‡ì¸ì§€ ë¶„ì„í•´ ë³´ë ¤ê³  í•©ë‹ˆë‹¤.

ì£¼ì–´ì§„ ë°ì´í„°(ë‹¤ìš´ë¡œë“œ)ì˜ â€œGetting upâ€ì´ë¼ëŠ” columnì„ ë³´ë©´ ì‚¬ëŒë“¤ì´ ì•„ì¹¨ì— ì¼ì–´ë‚˜ëŠ” ê±¸ ì–¼ë§ˆë‚˜ ì–´ë ¤ì›Œí•˜ëŠ”ì§€ ì•Œ ìˆ˜ ìˆìŠµë‹ˆë‹¤. 5ë¼ê³  ëŒ€ë‹µí•œ ì‚¬ëŒë“¤ì€ ì•„ì¹¨ì— ì¼ì–´ë‚˜ëŠ” ê±¸ ì•„ì£¼ ì–´ë ¤ì›Œ í•˜ëŠ” ì‚¬ëŒë“¤ì´ê³ , 1ì´ë¼ê³  ëŒ€ë‹µí•œ ì‚¬ëŒë“¤ì€ ì•„ì¹¨ì— ì‰½ê²Œ ì¼ì–´ë‚œë‹¤ëŠ” ê±°ì£ .

ì´ ë°ì´í„°ë¡œ ë´¤ì„ ë•Œ, ì•„ì¹¨ì— ì¼ì° ì¼ì–´ë‚˜ëŠ” ì‚¬ëŒë“¤ì´ ê°€ì¥ ì¢‹ì•„í•  ë§Œí•œ ìŒì•… ì¥ë¥´ëŠ” ë¬´ì—‡ì¸ê°€ìš”?

1 Rock n roll
2 Dance
3 Classical music
4 Opera
5 Swing, Jazz

# ì •ë‹µ

%matplotlib inline
import pandas as pd
import seaborn as sns

df = pd.read_csv('data/young_survey.csv')

brunch_df = df.corr()['Getting up']
brunch_df[1:19].sort_values(ascending=True)



# 06. ìŠ¤íƒ€íŠ¸ì—… ì•„ì´í…œ íƒìƒ‰í•˜ê¸°

# í•˜ë£¨ ì •ë‹µ
%matplotlib inline
import pandas as pd
import seaborn as sns

df = pd.read_csv('data/young_survey.csv')

A_1 = df.corr().loc['Musical instruments', 'Writing']
A_2 = df.corr().loc['Spending on looks', 'Branded clothing']
A_3 = df.corr().loc['Writing notes', 'New environment']
A_4 = df.corr().loc['Workaholism', 'Healthy eating']
A_5 = df.corr().loc['Prioritising workload', 'Healthy eating']

ans = [A_1, A_2, A_3, A_4, A_5]
ans.sort()
print(ans)

# í€´ì¦ˆ í•´ì„¤

ì£¼ì–´ì§„ columnë“¤ì˜ ìƒê´€ ê´€ê³„ ê°’ì„ í†µí•´, ê° ê°€ì„¤ì— ëŒ€í•´ íŒë‹¨í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ë‹¤ìŒê³¼ ê°™ì´ ìƒê´€ ê³„ìˆ˜ë¥¼ êµ¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.


import pandas as pd

df = pd.read_csv('young_survey.csv')

df.corr()
ì´ ê²°ê³¼ë¥¼ í†µí•´ ê° column ì‚¬ì´ì˜ ìƒê´€ ê³„ìˆ˜ë¥¼ ì•Œ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ë¨¼ì € 1ë²ˆ ê°€ì„¤ì— ëŒ€í•´ ì•Œì•„ë´…ì‹œë‹¤.

"ì•…ê¸°ë¥¼ ë‹¤ë£¨ëŠ” ì‚¬ëŒë“¤ì€ ì‹œ ì“°ê¸°ë¥¼ ì¢‹ì•„í•˜ëŠ” ê²½í–¥ì´ ìˆì„ ê²ƒì´ë‹¤."


df.corr().loc['Musical instruments', 'Writing']

0.3441930532038243
2ë²ˆ ê°€ì„¤ì— ëŒ€í•´ ì•Œì•„ë´…ì‹œë‹¤.

"ì™¸ëª¨ì— ëˆì„ ë§ì´ íˆ¬ìí•˜ëŠ” ì‚¬ëŒë“¤ì€ ë¸Œëœë“œ ì˜ë¥˜ë¥¼ ì„ í˜¸í•  ê²ƒì´ë‹¤."


df.corr().loc['Spending on looks', 'Branded clothing']

0.41839894464589139
3ë²ˆ ê°€ì„¤ì…ë‹ˆë‹¤.

"ë©”ëª¨ë¥¼ ìì£¼ í•˜ëŠ” ì‚¬ëŒë“¤ì€ ìƒˆë¡œìš´ í™˜ê²½ì— ì‰½ê²Œ ì ì‘í•  ê²ƒì´ë‹¤."


df.corr().loc['Writing notes', 'New environment']

-0.07745384812012578
4ë²ˆ ê°€ì„¤ì…ë‹ˆë‹¤.

"ì›Œì»¤í™€ë¦­ë“¤ì€ ê±´ê°•í•œ ìŒì‹ì„ ë¨¹ìœ¼ë ¤ëŠ” ê²½í–¥ì´ ìˆì„ ê²ƒì´ë‹¤."


df.corr().loc['Workaholism', 'Healthy eating']

0.23678959462190083

df.corr().loc['Prioritising workload', 'Healthy eating']

0.24259007871256624
ì´ ì¤‘ì—ì„œ ê°€ì¥ ë‚®ì€ ìƒê´€ ê´€ê³„ë¥¼ ë³´ì´ëŠ” ê°€ì„¤ì€ 3ë²ˆ ê°€ì„¤ì…ë‹ˆë‹¤.


## í´ëŸ¬ìŠ¤í„° ë¶„ì„ (Cluster Analysis)

interests = df.loc[:, 'History':'Pets']
interests.head()

corr = interests.corr()
corr

corr['History'].sort_values(ascending=False)

sns.Clustermap(corr)


## ì˜í™” ì¹´í˜ ìš´ì˜í•˜ê¸°

# í•˜ë£¨ ì •ë‹µ
%matplotlib inline
import pandas as pd
import seaborn as sns

df = pd.read_csv('data/survey.csv')

# ì—¬ê¸°ì— ì½”ë“œë¥¼ ì‘ì„±í•˜ì„¸ìš”

DVD = df.loc[:, 'Horror':'Action']
DVD.head()

corr = DVD.corr()
corr

sns.clustermap(corr)

# í•´ì„¤
ë¨¼ì € ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜µì‹œë‹¤.

%matplotlib inline
import pandas as pd
import seaborn as sns

df = pd.read_csv('data/survey.csv')
ì£¼ì–´ì§„ ë°ì´í„°ì…‹ì—ì„œ ì˜í™” ì¥ë¥´ì— ëŒ€í•œ columnì€ 'Horror'ë¶€í„° 'Action'ê¹Œì§€ ì…ë‹ˆë‹¤. ì´ ë‘ column ì‚¬ì´ì˜ ì •ë³´ë§Œ ì¸ë±ì‹±í•´ì„œ 'genres'ë¼ëŠ” ë³€ìˆ˜ì— ì €ì¥í•´ ë´…ì‹œë‹¤.

genres = df.loc[:, 'Horror':'Action']
ì—¬ê¸°ì— .corr()ì„ ë¶™ì—¬ì£¼ë©´, ì˜í™” ì¥ë¥´ë³„ ìƒê´€ ê´€ê³„ë¥¼ êµ¬í•  ìˆ˜ ìˆê² ì£ ?

ì´ì œ genres.corr()ì„ sns.clustermap()ì— ë„£ì–´ì£¼ë©´,  clustermapì„ ê·¸ë¦´ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

sns.clustermap(genres.corr())




# íƒ€ì´íƒ€ë‹‰ EDA
ì§ˆë¬¸ 1
RMS íƒ€ì´íƒ€ë‹‰ì€ 1912ë…„ì— ë¹™ì‚°ê³¼ ì¶©ëŒí•´ ì¹¨ëª°í•œ ì—¬ê°ì„ ì…ë‹ˆë‹¤. íƒ€ì´íƒ€ë‹‰í˜¸ì˜ ì¹¨ëª°ì€ ë¬´ë ¤ 1514ëª… ì •ë„ê°€ ì‚¬ë§í•œ ë¹„ìš´ì˜ ì‚¬ê±´ì´ì£ . ì˜í™” â€˜íƒ€ì´íƒ€ë‹‰â€™ìœ¼ë¡œ ì¸í•´ ì´ë¦„ì´ ê°€ì¥ ë„ë¦¬ ì•Œë ¤ì§„ ì—¬ê°ì„ ì´ê¸°ë„ í•©ë‹ˆë‹¤.

ìš°ë¦¬ì—ê²Œ ì£¼ì–´ì§„ titanic.csv íŒŒì¼(ë‹¤ìš´ë¡œë“œ)ì—ëŠ” ë‹¹ì‹œ íƒ‘ìŠ¹ìë“¤ì˜ ì •ë³´ê°€ ë‹´ê²¨ ìˆìŠµë‹ˆë‹¤. ìƒì¡´ ì—¬ë¶€, ì„±ë³„, ë‚˜ì´, ì§€ë¶ˆí•œ ìš”ê¸ˆ, ì¢Œì„ ë“±ê¸‰ ë“±ì˜ ì •ë³´ê°€ ìˆëŠ”ë°ìš”.

ìƒì¡´ ì—¬ë¶€ëŠ” 'Survived' columnì— ì €ì¥ë˜ì–´ ìˆìŠµë‹ˆë‹¤. 0ì´ ì‚¬ë§, 1ì´ ìƒì¡´ì„ ì˜ë¯¸í•©ë‹ˆë‹¤.
ì¢Œì„ ë“±ê¸‰ì€ 'Pclass' columnì— ì €ì¥ë˜ì–´ ìˆìŠµë‹ˆë‹¤. 1ì€ 1ë“±ì‹¤, 2ëŠ” 2ë“±ì‹¤, 3ì€ 3ë“±ì‹¤ì„ ì˜ë¯¸í•©ë‹ˆë‹¤.
ì§€ë¶ˆí•œ ìš”ê¸ˆì€ 'Fare' columnì— ì €ì¥ë˜ì–´ ìˆìŠµë‹ˆë‹¤.
ë‹¤ì–‘í•œ ë°©ë©´ìœ¼ë¡œ EDA(íƒìƒ‰ì  ë°ì´í„° ë¶„ì„)ë¥¼ í•œ í›„, ë‹¤ìŒ ë³´ê¸° ì¤‘ ë§ëŠ” ê²ƒì„ ëª¨ë‘ ê³ ë¥´ì„¸ìš”.

1
íƒ€ì´íƒ€ë‹‰ì˜ ìŠ¹ê°ì€ 30ëŒ€ì™€ 40ëŒ€ê°€ ê°€ì¥ ë§ë‹¤.

ê°€ì¥ ë†’ì€ ìš”ê¸ˆì„ ë‚¸ ì‚¬ëŒì€ 30ëŒ€ì´ë‹¤.

3
ìƒì¡´ìê°€ ì‚¬ë§ìë³´ë‹¤ ë” ë§ë‹¤.

1ë“±ì‹¤, 2ë“±ì‹¤, 3ë“±ì‹¤ ì¤‘ ê°€ì¥ ë§ì€ ì‚¬ëŒì´ íƒ‘ìŠ¹í•œ ê³³ì€ 3ë“±ì‹¤ì´ë‹¤.

ê°€ì¥ ìƒì¡´ìœ¨ì´ ë†’ì€ ê°ì‹¤ ë“±ê¸‰ì€ 1ë“±ì‹¤ì´ë‹¤.

6
ë‚˜ì´ê°€ ì–´ë¦´ìˆ˜ë¡ ìƒì¡´ìœ¨ì´ ë†’ë‹¤.

ë‚˜ì´ë³´ë‹¤ ì„±ë³„ì´ ìƒì¡´ìœ¨ì— ë” ë§ì€ ì˜í–¥ì„ ë¯¸ì¹œë‹¤.

ğŸ‘ğŸ» ì •ë‹µì…ë‹ˆë‹¤.

í€´ì¦ˆ í•´ì„¤

ìš°ì„  ë³´ê¸°ë¥¼ í•˜ë‚˜ì”© ì‚´í´ë³´ê¸°ì— ì•ì„œ, ë°ì´í„°ì˜ ì „ë°˜ì ì¸ ì‚¬í•­ì„ ì‚´í´ë´…ì‹œë‹¤.


titanic = pd.read_csv('data/titanic.csv')
titanic.info()

    <class 'pandas.core.frame.DataFrame'>
    RangeIndex: 891 entries, 0 to 890
    Data columns (total 12 columns):
    PassengerId    891 non-null int64
    Survived       891 non-null int64
    Pclass         891 non-null int64
    Name           891 non-null object
    Sex            891 non-null object
    Age            714 non-null float64
    SibSp          891 non-null int64
    Parch          891 non-null int64
    Ticket         891 non-null object
    Fare           891 non-null float64
    Cabin          204 non-null object
    Embarked       889 non-null object
    dtypes: float64(2), int64(5), object(5)
    memory usage: 83.6+ KB
ì´ ì™¸ì—ë„ titanic.head() ë“±ì„ í†µí•´ ì‚´í´ë³¼ ìˆ˜ ìˆê² ì£ ?

ì´ì œ ë³´ê¸°ë¥¼ í•˜ë‚˜ì”© ì‚´í´ë´…ì‹œë‹¤.

ë³´ê¸° 1: "íƒ€ì´íƒ€ë‹‰ì˜ ìŠ¹ê°ì€ 30ëŒ€ì™€ 40ëŒ€ê°€ ê°€ì¥ ë§ë‹¤."
íˆìŠ¤í† ê·¸ë¨ìœ¼ë¡œ ì‚´í´ë´…ì‹œë‹¤.


# ë‚˜ì´ ë¶„í¬
titanic.plot(kind='hist', y='Age', bins=30)


30ëŒ€ì™€ 40ëŒ€ë³´ë‹¤ëŠ” 20ëŒ€ê°€ ë” ë§ê¸° ë•Œë¬¸ì— í‹€ë¦° ì„¤ëª…ì…ë‹ˆë‹¤.

ë³´ê¸° 2: "ê°€ì¥ ë†’ì€ ìš”ê¸ˆì„ ë‚¸ ì‚¬ëŒì€ 30ëŒ€ì´ë‹¤."
ì´ë²ˆì—ëŠ” ë‚˜ì´ì™€ ìš”ê¸ˆ ì‚¬ì´ì˜ ì‚°ì ë„ë¥¼ ê·¸ë ¤ì„œ í™•ì¸í•´ ë´…ì‹œë‹¤.


# ë‚˜ì´ë³„ ìš”ê¸ˆ ë¶„í¬
titanic.plot(kind='scatter', x='Age', y='Fare')


ê°€ì¥ ë†’ì€ ìš”ê¸ˆì„ ë‚¸ ì‚¬ëŒì€ 30ëŒ€ê°€ ë§ë„¤ìš”.

ë³´ê¸° 3: "ìƒì¡´ìê°€ ì‚¬ë§ìë³´ë‹¤ ë” ë§ë‹¤."
ìƒì¡´ ì—¬ë¶€ëŠ” 'Survived 'ë¼ëŠ” columnì— ì €ì¥ë˜ì–´ ìˆìŠµë‹ˆë‹¤.  
value_counts() ë©”ì†Œë“œë¥¼ ì´ìš©í•´ì„œ ì‚´í´ë´…ì‹œë‹¤.


titanic['Survived'].value_counts()

    0    549
    1    342
    Name: Survived, dtype: int64
0ì´ ì‚¬ë§, 1ì´ ìƒì¡´ì„ ì˜ë¯¸í•˜ë‹ˆê¹Œ ì‚¬ë§ìê°€ ë” ë§ë„¤ìš”. ì•„ì‰½ì§€ë§Œ í‹€ë¦° ë³´ê¸°ì˜€ìŠµë‹ˆë‹¤.

ë³´ê¸° 4: "1ë“±ì‹¤, 2ë“±ì‹¤, 3ë“±ì‹¤ ì¤‘ ê°€ì¥ ë§ì€ ì‚¬ëŒì´ íƒ‘ìŠ¹í•œ ê³³ì€ 3ë“±ì‹¤ì´ë‹¤."
ì´ ë³´ê¸°ëŠ” 'Pclass' columnì˜ value_counts()ë¡œ ì•Œ ìˆ˜ ìˆê² ì£ ?


titanic['Pclass'].value_counts()

    3    491
    1    216
    2    184
    Name: Pclass, dtype: int64
3ë“±ì‹¤ì˜ ì‚¬ëŒì´ 491ëª…ìœ¼ë¡œ ê°€ì¥ ë§ë‹¤ëŠ” ê²ƒì„ ì•Œ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ë³´ê¸° 5: "ê°€ì¥ ìƒì¡´ìœ¨ì´ ë†’ì€ ê°ì‹¤ ë“±ê¸‰ì€ 1ë“±ì‹¤ì´ë‹¤."
ê°ì‹¤ ë“±ê¸‰ê³¼ ìƒì¡´ ì—¬ë¶€ì— ëŒ€í•´ì„œ ê·¸ë˜í”„ë¥¼ ê·¸ë ¤ë´ì•¼ê² ë„¤ìš”.  
ê·¸ëŸ°ë° ê·¸ëƒ¥ ì‚°ì ë„ë¥¼ ê·¸ë ¤ë³´ë©´ ê·¸ë¦¼ì´ ê²¹ì³ì ¸ì„œ ì•Œì•„ë³´ê¸° í˜ë“­ë‹ˆë‹¤.


# ê°ì‹¤ ë“±ê¸‰ë³„ ìƒì¡´ìœ¨ ë¶„í¬
titanic.plot(kind='scatter', x='Pclass', y='Survived')


ì´ëŸ° ê²½ìš°, KDE Plotì„ í™œìš©í•˜ë©´ ê²¹ì³ì§„ ì •ë„ë¥¼ ì•Œ ìˆ˜ ìˆìŠµë‹ˆë‹¤.


# ê°ì‹¤ ë“±ê¸‰ë³„ ìƒì¡´ìœ¨ ë¶„í¬
sns.kdeplot(titanic['Pclass'], titanic['Survived'])


ê·¸ë˜í”„ë¥¼ ë³´ë©´ 3ë“±ì‹¤ì€ í™•ì‹¤íˆ ì•„ë˜ìª½ì— ë” ë°€ì§‘ë˜ì–´ ìˆê³ , 2ë“±ì‹¤ì€ ìœ„ìª½ê³¼ ì•„ë˜ìª½ì´ ë¹„ìŠ·í•˜ê²Œ ë¶„í¬í•˜ê³  ìˆìŠµë‹ˆë‹¤. 
í•˜ì§€ë§Œ 1ë“±ì‹¤ì€ ìœ„ìª½ì´ ë” ë°€ì§‘ë˜ì–´ ìˆìŒì„ ì•Œ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ë”°ë¼ì„œ, 1ë“±ì‹¤ì˜ ìƒì¡´ìœ¨ì´ ë” ë†’ë‹¤ëŠ” ê²ƒì„ ì•Œ ìˆ˜ ìˆë„¤ìš”.

ë³´ê¸° 6: "ë‚˜ì´ê°€ ì–´ë¦´ìˆ˜ë¡ ìƒì¡´ìœ¨ì´ ë†’ë‹¤."
ìƒì¡´ìœ¨ì— ëŒ€í•œ ì¹´í…Œê³ ë¦¬ë³„ ê·¸ë˜í”„ë¥¼ ê·¸ë ¤ì„œ í™•ì¸í•´ ë´…ì‹œë‹¤.  
ì™¼ìª½ì´ ì‚¬ë§ì ê·¸ë£¹, ì˜¤ë¥¸ìª½ì´ ìƒì¡´ì ê·¸ë£¹ì…ë‹ˆë‹¤.


# ìƒì¡´ ì—¬ë¶€ì— ë”°ë¥¸ ë‚˜ì´ ë¶„í¬
sns.stripplot(data=titanic, x="Survived", y="Age")


ì•„ì§ ì˜ ë³´ì´ì§€ ì•Šìœ¼ë©´ ë°”ì´ì˜¬ë¦° í”Œë¡¯ìœ¼ë¡œë„ ê·¸ë ¤ë³¼ê¹Œìš”?


# ìƒì¡´ ì—¬ë¶€ì— ë”°ë¥¸ ë‚˜ì´ ë¶„í¬
sns.violinplot(data=titanic, x="Survived", y="Age")


ìƒì¡´í•œ ì‚¬ëŒë“¤ì˜ ë‚˜ì´ ë¶„í¬ì™€ ì‚¬ë§í•œ ì‚¬ëŒë“¤ì˜ ë‚˜ì´ ë¶„í¬ ì‚¬ì´ì—ëŠ” í° ì°¨ì´ê°€ ë³´ì´ì§€ ì•ŠìŠµë‹ˆë‹¤.  
ë”°ë¼ì„œ ë‚˜ì´ê°€ ì–´ë¦´ìˆ˜ë¡ ìƒì¡´ìœ¨ì´ ë†’ë‹¤ê³  í•˜ê¸´ ì–´ë ¤ìš¸ ê²ƒ ê°™ë„¤ìš”.

ë³´ê¸° 7: "ë‚˜ì´ë³´ë‹¤ ì„±ë³„ì´ ìƒì¡´ìœ¨ì— ë” ë§ì€ ì˜í–¥ì„ ë¯¸ì¹œë‹¤."
ë‚˜ì´ ë¿ ì•„ë‹ˆë¼ ì„±ë³„ë„ í•œë²ˆ ê°™ì´ íŒŒì•…í•´ ë´…ì‹œë‹¤.


# ìƒì¡´ ì—¬ë¶€ì— ë”°ë¥¸ ë‚˜ì´ ë° ì„±ë³„ ë¶„í¬
sns.stripplot(data=titanic, x="Survived", y="Age", hue="Sex")


ë‚˜ì´ ë¶„í¬ëŠ” ë¹„ìŠ·í•œ ë° ë¹„í•´, ì„±ë³„ì˜ ë¶„í¬ëŠ” í™•ì—°íˆ ì°¨ì´ê°€ ë‚˜ì£ ?

ë‚˜ì´ë³´ë‹¤ëŠ” í™•ì‹¤íˆ ì„±ë³„ì— ì˜í–¥ì„ ë§ì´ ë°›ì•˜ë‹¤ëŠ” ê±¸ ì•Œ ìˆ˜ ìˆìŠµë‹ˆë‹¤.


### ìƒˆë¡œìš´ ì¸ì‚¬ì´íŠ¸ ë°œê²¬í•˜ê¸°
## ìƒˆë¡œìš´ ê°’ ê³„ì‚°í•˜ê¸°

df['MBN'] + df['TV CHOSUN'] + df['JTBC'] + df['Channel A'] + df['SBS'] + df['MBC'] + df['KBS']

df.sum(axis='columns')

df['Total'] = df.sum(axis='columns')  //Total í•­ëª©ì„ ë§Œë“¤ê³  df.sumê°’ì„ ë„£ëŠ”ë‹¤.

df.plot(y='Total')


df['KBS'] + df['MBC'] + df['SBS']

df['Group 1'] = df.loc[:, 'KBS':'SBS'].sum(axis='columns')
df['Group 2'] = df.loc[:, 'TV CHOSUN':'MBN'].sum(axis='columns')

df.plot(y=['Group 1', 'Group 2'])



## ë¬¸ìì—´ í•„í„°ë§
df[df['Genre'] == 'Blues']  //Blues ì¥ë¥´ë§Œ í‘œì‹œ

df[df['Genre'].str.contains('Blues')]  //Blues ì¥ë¥´ê°€ í¬í•¨ì´ ëœ ëª¨ë“  í•­ëª© í‘œì‹œ

df[df['Genre'].str.startswith('Blues')]  //Bluesê°€ ì•ì— ì˜¤ëŠ” í•­ëª©ë§Œ í‘œì‹œ


df['Contains Blues'] = df['Genre'].str.contains('Blues')
df
// Contains Blues í•­ëª©ì´ ìƒê¸°ê³  Bluesì¸ ê²½ìš°ë§Œ Trueë¡œ í‘œì‹œê°€


## ë°•ë¬¼ê´€ì´ ì‚´ì•„ ìˆë‹¤I
# ì‹¤ìŠµ ì„¤ëª…
í•œêµ­ì—ì„œ ì˜ë‚˜ê°€ëŠ” ë™ì–‘ì˜ˆìˆ ì „ë¬¸ê°€ ì†”í¬ëŠ” ìµœê·¼ â€œë°•ë¬¼ê´€ì´ ì‚´ì•„ ìˆë‹¤â€ í”„ë¡œì íŠ¸ë¥¼ ì‹œì‘í–ˆìŠµë‹ˆë‹¤.

â€œë°•ë¬¼ê´€ì´ ì‚´ì•„ ìˆë‹¤â€ í”„ë¡œì íŠ¸ëŠ” ì ì  ë–¨ì–´ì ¸ê°€ëŠ” ë¬¸í™”ì˜ˆìˆ ê³µê°„ì˜ ë°©ë¬¸ìœ¨ì„ ë†’ì´ê¸° ìœ„í•´ ì‹œì‘ë˜ì—ˆìŠµë‹ˆë‹¤.
ê¹€ì†”í¬ì”¨ëŠ” ë¨¼ì € ì˜ˆìˆ ì˜ í¥í–‰ì„ ìœ„í•´ì„  ì Šì€ì´ë“¤ì˜ ì°¸ì—¬ê°€ ì‹œê¸‰í•˜ë‹¤ê³  íŒë‹¨í•˜ì—¬, ëŒ€í•™êµ ë°•ë¬¼ê´€ì„ ë¨¼ì € ê°œì„ í•˜ê¸°ë¡œ í•˜ì˜€ìŠµë‹ˆë‹¤.

ëŒ€í•™ ë°•ë¬¼ê´€ì„ ê°œì„ í•˜ê¸° ìœ„í•´ ë‹¤ìŒê³¼ ê°™ì´ ë°•ë¬¼ê´€ì„ ë¶„ë¥˜í•˜ê¸°ë¡œ í•˜ì˜€ìŠµë‹ˆë‹¤.

ë°•ë¬¼ê´€ì€ ëŒ€í•™/ì¼ë°˜ ë°•ë¬¼ê´€ìœ¼ë¡œ ë‚˜ë‰œë‹¤.
ì‹œì„¤ëª…ì— 'ëŒ€í•™'ì´ í¬í•¨ë˜ì–´ ìˆìœ¼ë©´ 'ëŒ€í•™', ê·¸ë ‡ì§€ ì•Šìœ¼ë©´ 'ì¼ë°˜'ìœ¼ë¡œ ë‚˜ëˆ„ì–´ 'ë¶„ë¥˜' columnì— ì…ë ¥í•œë‹¤.
'ë¶„ë¥˜' columnì„ ë§Œë“¤ì–´ì„œ ì†”í¬ë¥¼ ë„ì™€ì£¼ì„¸ìš”!

í•´ì„¤ ë³´ê¸°

í•´ì„¤
ë¨¼ì € ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜µì‹œë‹¤.


import pandas as pd

df = pd.read_csv('data/museum_1.csv')
ì£¼ì–´ì§„ ë°ì´í„°ì—ì„œ 'ì‹œì„¤ëª…' columnì€ ë°•ë¬¼ê´€ì˜ ì´ë¦„ì„ ë‚˜íƒ€ëƒ…ë‹ˆë‹¤.
'ì‹œì„¤ëª…' columnì—ì„œ 'ëŒ€í•™êµ' ë¥¼ í¬í•¨í•œ ë°ì´í„°ëŠ” 'ëŒ€í•™'ìœ¼ë¡œ, ê·¸ë ‡ì§€ ì•Šìœ¼ë©´ 'ì¼ë°˜'ìœ¼ë¡œ ë¶„ë¥˜í•˜ì—¬ 'ë¶„ë¥˜' columnì— ë„£ì–´ì£¼ê³ ì í•©ë‹ˆë‹¤.

ë¨¼ì € 'ì‹œì„¤ëª…' columnì—ì„œ 'ëŒ€í•™'ì„ í¬í•¨í•œ ë°ì´í„°ë¥¼ ê³¨ë¼ë´…ì‹œë‹¤.


is_university = df['ì‹œì„¤ëª…'].str.contains('ëŒ€í•™')
is_university
'ëŒ€í•™êµ'ê°€ ë¬¸ìì—´ì— í¬í•¨ë˜ì–´ ìˆìœ¼ë©´ Trueë¡œ, ê·¸ë ‡ì§€ ì•Šìœ¼ë©´ Falseë¡œ ë‚˜ì˜µë‹ˆë‹¤.


0      False
1      False
2      False
3      False
4       True
       ...  
896    False
897    False
898    False
899    False
900    False
Name: ì‹œì„¤ëª…, Length: 901, dtype: bool
ì´ ê²°ê³¼ë¥¼ ë°”íƒ•ìœ¼ë¡œ ë‹¤ìŒê³¼ ê°™ì´ 'ë¶„ë¥˜' columnì— ë°ì´í„°ë¥¼ ë„£ì–´ì£¼ë©´ ë©ë‹ˆë‹¤.

df.loc[is_university == True, 'ë¶„ë¥˜'] = 'ëŒ€í•™'
df.loc[is_university == False, 'ë¶„ë¥˜'] = 'ì¼ë°˜'

df
ë°ì´í„°ë¥¼ ì¶œë ¥í•´ë³´ë©´, ì˜ ë¶„ë¥˜ëœ ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.


# ëª¨ë²” ë‹µì•ˆ
import pandas as pd

df = pd.read_csv('data/museum_1.csv')
is_university = df['ì‹œì„¤ëª…'].str.contains('ëŒ€í•™')

df.loc[is_university == True, 'ë¶„ë¥˜'] = 'ëŒ€í•™'
df.loc[is_university == False, 'ë¶„ë¥˜'] = 'ì¼ë°˜'

df

# í•˜ë£¨ ì •ë‹µ
import pandas as pd

df = pd.read_csv('data/museum_1.csv')

df['ë¶„ë¥˜'] = 'ì¼ë°˜'
# ëŒ€í•™ì´ í¬í•¨ëœ ì‹œì„¤ì˜ ì¸ë±ìŠ¤ë¥¼ univë¡œ ëª…ëª…
univ = df[df['ì‹œì„¤ëª…'].str.contains('ëŒ€í•™')].index

# univì— í¬í•¨ë˜ëŠ” 'ë¶„ë¥˜'ì»¬ëŸ¼ì„ 'ëŒ€í•™'ìœ¼ë¡œ  ìˆ˜ì •
df.loc[univ, 'ë¶„ë¥˜'] = 'ëŒ€í•™'
df


## ë¬¸ìì—´ ë¶„ë¦¬
address = df['ì†Œì¬ì§€ë„ë¡œëª…ì£¼ì†Œ'].str.split(n=1, expand=True)

address

df['ê´€í• êµ¬ì—­'] = address[0]

# ë°•ë¬¼ê´€ì´ ì‚´ì•„ ìˆë‹¤ II

# í•˜ë£¨ ì •ë‹µ
import pandas as pd

df = pd.read_csv('data/museum_2.csv')

# ì—¬ê¸°ì— ì½”ë“œë¥¼ ì‘ì„±í•˜ì„¸ìš”
area = df['ìš´ì˜ê¸°ê´€ì „í™”ë²ˆí˜¸'].str.split('-', n=0, expand=True)
df['ì§€ì—­ë²ˆí˜¸'] = area[0]

df


# ì‹¤ìŠµ ì„¤ëª…
ì†”í¬ëŠ” ì–´ëŠ ì§€ì—­ì— ë°•ë¬¼ê´€ì´ ë§ì€ì§€ ë¶„ì„í•´ë³´ë ¤ê³  í•©ë‹ˆë‹¤.

í•˜ì§€ë§Œ ì£¼ì–´ì§„ ë°ì´í„°ì—ëŠ” ì£¼ì†Œê°€ ì—†ë„¤ìš”.
ê·¸ëŸ¬ë˜ ë„ì¤‘, ì „í™”ë²ˆí˜¸ ì•ìë¦¬ê°€ ì§€ì—­ì„ ë‚˜íƒ€ë‚¸ë‹¤ëŠ” ê²ƒì„ ê¹¨ë‹¬ì•˜ìŠµë‹ˆë‹¤.

ì†”í¬ê°€ ë°•ë¬¼ê´€ì˜ ìœ„ì¹˜ë¥¼ íŒŒì•…í•  ìˆ˜ ìˆê²Œ 'ìš´ì˜ê¸°ê´€ì „í™”ë²ˆí˜¸' columnì˜ ë§¨ ì• 3ìë¦¬ë¥¼ ì¶”ì¶œí•˜ê³ , 'ì§€ì—­ë²ˆí˜¸' columnì— ë„£ì–´ì£¼ì„¸ìš”.

# í•´ì„¤
'ìš´ì˜ê¸°ê´€ì „í™”ë²ˆí˜¸' columnì—ì„œ ì§€ì—­ë²ˆí˜¸ë¥¼ ë¶„ë¦¬í•´ ë´…ì‹œë‹¤.

ì§€ì—­ë²ˆí˜¸ëŠ” ì „í™”ë²ˆí˜¸ì—ì„œ -ì„ ê¸°ì¤€ìœ¼ë¡œ ê°€ì¥ ì•ì— ìˆëŠ” ì„¸ ìë¦¬ ìˆ«ìë¥¼ ë§í•©ë‹ˆë‹¤.  
ì˜ˆë¥¼ ë“¤ì–´, 061-390-7224ì—ì„œëŠ” ì§€ì—­ë²ˆí˜¸ê°€ 061ì…ë‹ˆë‹¤.

columnì— .str.split(pat='-') ë©”ì†Œë“œë¥¼ ì ìš©í•˜ë©´, ë¬¸ìì—´ì„ '-' ê¸°ì¤€ìœ¼ë¡œ ë¶„ë¦¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.


phone_number = df['ìš´ì˜ê¸°ê´€ì „í™”ë²ˆí˜¸'].str.split(pat='-')

phone_number

0       [061, 390, 7224]
1       [033, 737, 4371]
2       [033, 730, 9000]
3       [033, 746, 5256]
...        
897     [053, 744, 5500]
898     [053, 740, 2061]
899     [053, 768, 6051]
900     [043, 835, 4161]
Name: ìš´ì˜ê¸°ê´€ì „í™”ë²ˆí˜¸, Length: 901, dtype: object
ì¡°ê¸ˆ ë” ìì„¸íˆ ì ‘ê·¼í•´ ë´…ì‹œë‹¤.

n=2 ì˜µì…˜ì„ ì ìš©í•˜ë©´, nì„ ê¸°ì¤€ìœ¼ë¡œ ë¬¸ìì—´ì„ ë‚˜ëˆ„ë˜ ìµœëŒ€ 2ë²ˆ ë¶„ë¦¬í•œë‹¤ëŠ” ì˜ë¯¸ì…ë‹ˆë‹¤.
ì „í™”ë²ˆí˜¸ëŠ” -ì„ ê¸°ì¤€ìœ¼ë¡œ ì´ 2ë²ˆ (3ê°€ì§€ ì˜ì—­ìœ¼ë¡œ) ë‚˜ëˆŒ ìˆ˜ ìˆì£ ? ê·¸ë˜ì„œ nì— 2ì„ ë„£ì–´ì¤¬ìŠµë‹ˆë‹¤.

expand=True ì˜µì…˜ì„ í™œìš©í•˜ë©´ ê²°ê³¼ë¥¼ DataFrameìœ¼ë¡œ ë³´ì—¬ì¤ë‹ˆë‹¤.

ë”°ë¼ì„œ ì´ëŸ° ì½”ë“œê°€ ë˜ê² ë„¤ìš”.


phone_number = df['ìš´ì˜ê¸°ê´€ì „í™”ë²ˆí˜¸'].str.split(pat='-', n=2, expand=True)

phone_number


ì´ì œ phone_numberì˜ ì²« ë²ˆì§¸ ê°’ì„ ì§€ì—­ë²ˆí˜¸ columnì— ë„£ì–´ì£¼ë©´ ë©ë‹ˆë‹¤.


df['ì§€ì—­ë²ˆí˜¸'] = phone_number[0]

# ëª¨ë²” ë‹µì•ˆ
import pandas as pd

df = pd.read_csv('data/museum_2.csv')

phone_number = df['ìš´ì˜ê¸°ê´€ì „í™”ë²ˆí˜¸'].str.split(pat='-', n=2, expand=True)
df['ì§€ì—­ë²ˆí˜¸'] = phone_number[0]

df



## ì›¹ ìë™í™”
# ì›¹ì˜ í™•ì¥

Uniform Resource Locator(URL)

# ì„œë²„ì™€ í´ë¼ì´ì–¸íŠ¸

request - response

pycham / setting / inter / requests ì¶”ê°€


## íŒŒì´ì¬ìœ¼ë¡œ ìš”ì²­ ë³´ë‚´ê¸°
import requests

response = requests.get("https://google.com")
print(response)

ì„±ê³µ í•˜ë©´ <Response [200]>
ì‹¤íŒ¨ í•˜ë©´ <Response [500]>


# ë¯¸ìŠ¤í„°í•˜ë£¨ í™ˆí˜ì´ì§€ ë¦¬í€˜ìŠ¤íŠ¸
import requests

response = requests.get("http://misterharu.com")
print(response.text)



# TV ì‹œì²­ë¥  ë°ì´í„° ê°€ì ¸ì˜¤ê¸°

# ëª¨ë²” ë‹µì•ˆ

import requests

response = requests.get("https://workey.codeit.kr/ratings/index")
rating_page = response.text
    
# í…ŒìŠ¤íŠ¸ ì½”ë“œ
print(rating_page)


## ë°•ë¬¼ê´€ì´ ì‚´ì•„ ìˆë‹¤ III
# í•´ì„¤
ì§€ì—­ë²ˆí˜¸ë¥¼ ì´ìš©í•´ì„œ ì§€ì—­ëª…ì„ ì•Œì•„ë‚´ê³ ì í•©ë‹ˆë‹¤.

ê° ì§€ì—­ë²ˆí˜¸ì— í•´ë‹¹í•˜ëŠ” ì§€ì—­ëª…ì„ ë§Œë“¤ê¸° ìœ„í•´ì„œëŠ”, ì§€ì—­ë²ˆí˜¸ì™€ ì§€ì—­ëª…ì— ëŒ€í•œ íŒŒì´ì¬ ì‚¬ì „ (dictionary)ì´ í•„ìš”í•œë°ìš”.

ì§€ì—­ë²ˆí˜¸ì™€ ì§€ì—­ì„ ì°¸ê³ í•´ì„œ, .map() ë©”ì†Œë“œì— ë„£ì–´ì¤„ ì‚¬ì „ì„ ë§Œë“¤ì–´ ë´…ì‹œë‹¤.


region = {
    '02': 'ì„œìš¸ì‹œ',
    '031': 'ê²½ê¸°ë„', '032': 'ê²½ê¸°ë„',
    '033': 'ê°•ì›ë„', 
    '041': 'ì¶©ì²­ë„', '042': 'ì¶©ì²­ë„', '043': 'ì¶©ì²­ë„', '044': 'ì¶©ì²­ë„',
    '051': 'ë¶€ì‚°ì‹œ', 
    '052': 'ê²½ìƒë„', '053': 'ê²½ìƒë„', '054': 'ê²½ìƒë„', '055': 'ê²½ìƒë„',
    '061': 'ì „ë¼ë„', '062': 'ì „ë¼ë„', '063': 'ì „ë¼ë„',
    '064': 'ì œì£¼ë„',
    '1577': 'ê¸°íƒ€', '070': 'ê¸°íƒ€'
}
ì´ íŒŒì´ì¬ ì‚¬ì „ì„ map ë©”ì†Œë“œì— ë„£ì–´ì£¼ë©´, 'ì§€ì—­ë²ˆí˜¸' columnì˜ ê°’ì„ ì§€ì—­ëª…ìœ¼ë¡œ ë§¤ì¹­í•´ì¤ë‹ˆë‹¤.


df["ì§€ì—­ë²ˆí˜¸"] = df["ì§€ì—­ë²ˆí˜¸"].map(region)
ì´ì œ ë§ˆì§€ë§‰ìœ¼ë¡œ .rename() ë©”ì†Œë“œë¥¼ í™œìš©í•˜ì—¬ columnì˜ ì´ë¦„ì„ "ì§€ì—­ëª…"ìœ¼ë¡œ ë°”ê¿”ì¤ë‹ˆë‹¤.


df.rename(columns={"ì§€ì—­ë²ˆí˜¸": "ì§€ì—­ëª…"}, inplace=True)
ì´ì œ ì™„ì„±ë˜ì—ˆìŠµë‹ˆë‹¤. df ë¥¼ ì…ë ¥í•˜ì—¬ ê²°ê³¼ë¥¼ í™•ì¸í•´ ë³´ì„¸ìš”.

# ëª¨ë²” ë‹µì•ˆ
import pandas as pd

df = pd.read_csv("data/museum_3.csv", dtype={'ì§€ì—­ë²ˆí˜¸': str})

region = {
    '02': 'ì„œìš¸ì‹œ',
    '031': 'ê²½ê¸°ë„', '032': 'ê²½ê¸°ë„',
    '033': 'ê°•ì›ë„', 
    '041': 'ì¶©ì²­ë„', '042': 'ì¶©ì²­ë„', '043': 'ì¶©ì²­ë„', '044': 'ì¶©ì²­ë„',
    '051': 'ë¶€ì‚°ì‹œ', 
    '052': 'ê²½ìƒë„', '053': 'ê²½ìƒë„', '054': 'ê²½ìƒë„', '055': 'ê²½ìƒë„',
    '061': 'ì „ë¼ë„', '062': 'ì „ë¼ë„', '063': 'ì „ë¼ë„',
    '064': 'ì œì£¼ë„',
    '1577': 'ê¸°íƒ€', '070': 'ê¸°íƒ€'
}

df["ì§€ì—­ë²ˆí˜¸"] = df["ì§€ì—­ë²ˆí˜¸"].map(region)
df.rename(columns={"ì§€ì—­ë²ˆí˜¸": "ì§€ì—­ëª…"}, inplace=True)

# í…ŒìŠ¤íŠ¸ ì½”ë“œ
df 


## groupby


## ì—¬ëŸ¬ ì›¹ì‚¬ì´íŠ¸ í•œêº¼ë²ˆì— ê°€ì ¸ì˜¤ê¸°
import requests

rating_pages = []
# https://https://workey.codeit.kr/ratings/index?year=2010&month=1&weekIndex=0

for i in range(5):
    url = "https://workey.codeit.kr/ratings/index?year=2010&month=1&weekIndex={}".format(i)
    response = requests.get(url)
    rating_page = response.text
    rating_pages.append(rating_page)
    
print(len(rating_pages))
print(rating_pages[0])





##TV ì‹œì²­ë¥  ë°ì´í„° ê°€ì ¸ì˜¤ê¸° II

# ì‹¤ìŠµ ì„¤ëª…
í‹°ë¹„ë­í‚¹ë‹·ì»´ ì‚¬ì´íŠ¸ì—ì„œ ì²˜ìŒ 3ë…„(2010~2012)ê°„ì˜ ë°ì´í„°ë¥¼ ê°€ì ¸ì™€ ì£¼ì„¸ìš”.

ì›¹ì‚¬ì´íŠ¸ ì£¼ì†Œì˜ êµ¬ì¡°ë¥¼ í™œìš©í•´ì„œ, ëª¨ë“  í˜ì´ì§€ì˜ HTML ì½”ë“œë¥¼ rating_pagesì— ì €ì¥í•´ ì£¼ì„¸ìš”.

2010ë…„ 1ì›”ë¶€í„° 2012ë…„ 12ì›”ê¹Œì§€ ëª¨ë“  ë‹¬ì— ëŒ€í•´, 1ì£¼ì°¨~5ì£¼ì°¨ í˜ì´ì§€ë¥¼ ìˆœì„œëŒ€ë¡œ ë¦¬ìŠ¤íŠ¸ì— ë„£ì–´ì£¼ì‹œë©´ ë©ë‹ˆë‹¤.

ì´ì „ ë ˆìŠ¨ì—ì„œ ë´¤ë“¯ì´, 5ì£¼ì°¨ê°€ ì—†ëŠ” ë‹¬ì€ ë°ì´í„°ê°€ ì—†ëŠ” í˜ì´ì§€ê°€ ë‚˜ì˜¤ëŠ”ë°ìš”. ê·¸ëŸ° í˜ì´ì§€ë“¤ë„ ë¦¬ìŠ¤íŠ¸ì— ë„£ì–´ì£¼ì„¸ìš”.

(ì½”ë“œë¥¼ ì‹¤í–‰í•˜ëŠ”ë° ë‹¤ì†Œ ì‹œê°„ì´ ê±¸ë¦´ ìˆ˜ ìˆìŠµë‹ˆë‹¤.)


# í•´ì„¤
í‹°ë¹„ë­í‚¹ë‹·ì»´ì˜ ì£¼ì†ŒëŠ” year, month, weekIndex ì´ 3ê°œì˜ ì¡°ê±´ì— ë”°ë¼ì„œ í˜ì´ì§€ ê²°ê³¼ê°€ ë‹¬ë¼ì§€ì£ ?

ì˜ˆë¥¼ ë“¤ì–´, 2011ë…„ 6ì›” ì…‹ì§¸ ì£¼ì˜ ê²°ê³¼ëŠ” ì•„ë˜ ì£¼ì†Œì—ì„œ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.


https://workey.codeit.kr/ratings/index?year=2011&month=6&weekIndex=2
ìš°ë¦¬ëŠ” 2010ë…„ 1ì›”ë¶€í„° 2012ë…„ 12ì›”ê¹Œì§€ ëª¨ë“  ë‹¬ì— ëŒ€í•´, 1ì£¼ì°¨~5ì£¼ì°¨ í˜ì´ì§€ë¥¼ ìˆœì„œëŒ€ë¡œ ë¦¬ìŠ¤íŠ¸ì— ë„£ì–´ì•¼ í•©ë‹ˆë‹¤. ê·¸ëŸ¬ë©´ ì•„ë˜ì™€ ê°™ì€ ëª¨ë“  ì£¼ì†Œì— ëŒ€í•´ í˜ì´ì§€ë¥¼ ë°›ì•„ ì™€ì•¼ í•©ë‹ˆë‹¤.


https://workey.codeit.kr/ratings/index?year=2010&month=1&weekIndex=0
https://workey.codeit.kr/ratings/index?year=2010&month=1&weekIndex=1
https://workey.codeit.kr/ratings/index?year=2010&month=1&weekIndex=2
...
https://workey.codeit.kr/ratings/index?year=2012&month=12&weekIndex=2
https://workey.codeit.kr/ratings/index?year=2012&month=12&weekIndex=3
https://workey.codeit.kr/ratings/index?year=2012&month=12&weekIndex=4
ì´ ëª¨ë“  ì›¹ í˜ì´ì§€ ì£¼ì†Œë¥¼ requests.get() í•¨ìˆ˜ ê´„í˜¸ ì•ˆì— ë„£ì–´ì„œ ì‹¤í–‰í•˜ë©´ ë˜ëŠ”ë°ìš”.

ì´ëŸ° ë°˜ë³µì ì¸ ë™ì‘ì„ í•´ê²°í•˜ê¸° ìœ„í•´ì„œ, ì´ì „ ë ˆìŠ¨ì²˜ëŸ¼ ë°˜ë³µë¬¸ì„ í™œìš©í•˜ë©´ ë˜ê² ì£ ? ê·¸ëŸ°ë° ì´ë²ˆì—” weekIndex ë¿ë§Œì´ ì•„ë‹ˆë¼ year, monthë„ ë°”ê¿” ì¤˜ì•¼ í•˜ê¸° ë•Œë¬¸ì— ì¤‘ì²©ëœ ë°˜ë³µë¬¸ì„ ì‚¬ìš©í•´ì•¼ í•©ë‹ˆë‹¤.

yearëŠ” 2010~2012,
monthëŠ” 1~12,
weekIndexëŠ” 0~4ê¹Œì§€ ë°˜ë³µë˜ë©´ ë˜ê² ì£ ?
range() í•¨ìˆ˜ëŠ” ë‹¤ì–‘í•œ ì‚¬ìš©ë²•ì´ ìˆëŠ”ë°ìš”:


# range(b) -> 0ì—ì„œ b-1ì„ ëœ»í•¨
# range(a, b) -> aì—ì„œ b-1ì„ ëœ»í•¨
ë‘ ë²ˆì§¸ ë°©ì‹ì„ ì‚¬ìš©í•´ì„œ ë°˜ë³µë¬¸ì„ ì´ë ‡ê²Œ ì“¸ ìˆ˜ ìˆìŠµë‹ˆë‹¤.


for year in range(2010, 2013):
    for month in range(1, 13):
        for weekIndex in range(0, 5):
ì´ì œ ë¹ˆ ë¦¬ìŠ¤íŠ¸ë¥¼ ë§Œë“¤ê³ , ì£¼ì–´ì§„ year, month, weekIndex ê°’ì„ í†µí•´ í˜ì´ì§€ë¥¼ ìš”ì²­í•˜ê³  ë¹ˆ ë¦¬ìŠ¤íŠ¸ì— ì¶”ê°€í•˜ë©´ ë©ë‹ˆë‹¤.

ì½”ë“œë¥¼ ì™„ì„±í•´ ë´…ì‹œë‹¤.


ratings_pages = []

for year in range(2010, 2013):
    for month in range(1, 13):
        for weekIndex in range(0, 5):
            url = "https://workey.codeit.kr/ratings/index?year={}&month={}&weekIndex={}".format(year, month, weekIndex)
            response = requests.get(url)
            rating_pages.append(response.text)
ì´ë ‡ê²Œ ì‘ì„±í•˜ë©´ ìš°ë¦¬ê°€ ì›í•˜ëŠ” ì „ì²´ ê¸°ê°„ì— ëŒ€í•´ í˜ì´ì§€ë¥¼ ìš”ì²­í•˜ê³ , rating_pagesë¼ëŠ” ë¦¬ìŠ¤íŠ¸ì— ì¶”ê°€í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

í…ŒìŠ¤íŠ¸ ì½”ë“œë¥¼ ì‹¤í–‰í•´ ë³´ë©´, ì›í•˜ëŠ” ê²°ê³¼ë¥¼ ì–»ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

# ëª¨ë²” ë‹µì•ˆ

import requests

rating_pages = []

for year in range(2010, 2013):
    for month in range(1, 13):
        for weekIndex in range(0, 5):
            url = "https://workey.codeit.kr/ratings/index?year={}&month={}&weekIndex={}".format(year, month, weekIndex)
            response = requests.get(url)
            rating_pages.append(response.text)

# í…ŒìŠ¤íŠ¸ ì½”ë“œ
print(len(rating_pages)) # ê°€ì ¸ì˜¨ ì´ í˜ì´ì§€ ìˆ˜ 
print(rating_pages[0]) # ì²« ë²ˆì§¸ í˜ì´ì§€ì˜ HTML ì½”ë“œ



## PUBG api

import requests

url = "https://api.pubg.com/shards/$kakao/players?filter[playerNames]=$Mister_Haru"

header = {
    "Authorization": "eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJqdGkiOiI2MmQzYThiMC1kOWJkLTAxM2EtMWQyNC0xM2EwNDg1M2ZlMTEiLCJpc3MiOiJnYW1lbG9ja2VyIiwiaWF0IjoxNjU2NDk1NjA3LCJwdWIiOiJibHVlaG9sZSIsInRpdGxlIjoicHViZyIsImFwcCI6Im1pc3RlcmhhcnUtbGl2In0.skQJ8TWf1UJj32bItfBMm34ajL41rdMAj2yJInjtn24",
    "Accept": "application/vnd.api+json"
}

r = requests.get(url, headers=header)


## 

import json
import urllib.request

key = 'eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJqdGkiOiI2MmQzYThiMC1kOWJkLTAxM2EtMWQyNC0xM2EwNDg1M2ZlMTEiLCJpc3MiOiJnYW1lbG9ja2VyIiwiaWF0IjoxNjU2NDk1NjA3LCJwdWIiOiJibHVlaG9sZSIsInRpdGxlIjoicHViZyIsImFwcCI6Im1pc3RlcmhhcnUtbGl2In0.skQJ8TWf1UJj32bItfBMm34ajL41rdMAj2yJInjtn24'

URL = 'https://api.pubg.com/shards/$kakao/players?filter[playerNames]=$Mister_Haru'

json_page = urllib.request.urlopen(url)
json_data = json_page.read().decode("utf-8")
json_array = json.loads(jason_data)

print(json_array)


## chatGPT ìˆ˜ì •
import json
import urllib.request

key = 'eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJqdGkiOiIxNGY3YTdmMC0wZmY5LTAxM2MtYTIyYS00YTczMDBjOWZhM2UiLCJpc3MiOiJnYW1lbG9ja2VyIiwiaWF0IjoxNjkwNjA2MTA3LCJwdWIiOiJibHVlaG9sZSIsInRpdGxlIjoicHViZyIsImFwcCI6Ii03MzE1Njc4YS0yZjQ1LTRhZjAtOWRkYS1hZDYyYjJlNTNiNTgifQ.DrFSSWDqEv2sqdIRdbiWpA9RBrGXjxyrxi2dPchtbUM'  # ì—¬ê¸°ì— ì‹¤ì œ API í‚¤ë¥¼ ì…ë ¥í•´ì•¼ í•©ë‹ˆë‹¤.
url = 'https://api.pubg.com/shards/$kakao/players?filter[playerNames]=$Mister_Haru'

# Request í—¤ë”ì— API í‚¤ ì¶”ê°€
headers = {'Authorization': f'Bearer {key}'}

# urllib.request.Request ê°ì²´ë¥¼ ì‚¬ìš©í•˜ì—¬ ìš”ì²­ ìƒì„±
request = urllib.request.Request(url, headers=headers)

# ìš”ì²­ ì‹¤í–‰ ë° ì‘ë‹µ ì €ì¥
with urllib.request.urlopen(request) as response:
    json_data = response.read().decode("utf-8")

# JSON ë°ì´í„° íŒŒì‹±
json_array = json.loads(json_data)

# ê²°ê³¼ ì¶œë ¥
print(json_array)


##
curl -g "https://api.pubg.com/shards/kakao/players?filter[playerIds]=Mister_Haru" \ -H "Authorization: Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJqdGkiOiI2MmQzYThiMC1kOWJkLTAxM2EtMWQyNC0xM2EwNDg1M2ZlMTEiLCJpc3MiOiJnYW1lbG9ja2VyIiwiaWF0IjoxNjU2NDk1NjA3LCJwdWIiOiJibHVlaG9sZSIsInRpdGxlIjoicHViZyIsImFwcCI6Im1pc3RlcmhhcnUtbGl2In0.skQJ8TWf1UJj32bItfBMm34ajL41rdMAj2yJInjtn24"  -H "accept: application/vnd.api+json"

curl -X GET -H "Authorization: Bearer eyJ0eXAiOiJKV1QiLCJhbGciOiJIUzI1NiJ9.eyJqdGkiOiI2MmQzYThiMC1kOWJkLTAxM2EtMWQyNC0xM2EwNDg1M2ZlMTEiLCJpc3MiOiJnYW1lbG9ja2VyIiwiaWF0IjoxNjU2NDk1NjA3LCJwdWIiOiJibHVlaG9sZSIsInRpdGxlIjoicHViZyIsImFwcCI6Im1pc3RlcmhhcnUtbGl2In0.skQJ8TWf1UJj32bItfBMm34ajL41rdMAj2yJInjtn24" "https://api.pubg.com/shards/kakao/players?filter[playerIds]=Mister_Haru" -H "accept: application/vnd.api+json"


# API-preface.py
# chicken.dinner ë¼ì´ë¸ŒëŸ¬ë¦¬ ì‚¬ìš©í•˜ì§€ ì•Šê³  ê°€ì ¸ì˜¬ ë•Œ
# Change points

import requests
import pandas as pd

# point 1 your API KEY
api_key = "your API Key"

header = {
  "Authorization": api_key,
  "Accept": "application/vnd.api+json"
}

# point 2 change URL parameters
url = "https://api.pubg.com/shards/tournaments/{match_id}" 
r = requests.get(url, headers=header)

# point 3 now you can see the results
json_r = r.json()


### example ###

# Find info of "GEN_pio"

import requests

# 1. filter[playerNames]={playerName}
url = "https://api.pubg.com/shards/steam/players?filter[playerNames]=GEN_Pio"

# 2. players/{account Id}
# url = "https://api.pubg.com/shards/steam/players/account.e57c514acd19440bbc8a52233e482d93"

header = {
  "Authorization": "your API KEY",
  "Accept": "application/vnd.api+json"
}

r = requests.get(url, headers=header)
json_r = r.json()
json_r

# tip. you can get --
# 'id' - accountId (account.e57c514acd19440bbc8a52233e482d93)
# 'Match ID' - Used to lookup the full match object on the '/matches' endpoint


# get-data-matches.py
import pandas as pd

from chicken_dinner.models.tournament import Tournament
from chicken_dinner.pubgapi import PUBG
from chicken_dinner.pubgapi import PUBGCore

api_key = 'PERSONAL API KEY'
PUBG = PUBG(api_key=api_key, shard='pc-tournament', gzip=True)
PUBGCore = PUBGCore(api_key=api_key, shard='pc-tournament', gzip=True)

id = pd.read_csv("tournaments_list.csv")
id = id['tournament_id']
id

# ''ì•ˆì— ì•„ì´ë”” í•˜ë‚˜ì”© ë„£ê¸°
id_tor = 'kr-bsc20'

# ê´„í˜¸ì— ì•„ì´ë”” í•˜ë‚˜ì”© ë„£ê¸° *22
tor = PUBG.tournament(id_tor)
matchlist = tor.match_ids

## NEEDED LIST
# FIRST TABLE
# match_info
match_id = []
created_at = []
map_name = []
duration = []
telemetry_link = []

# SECOND TABLE
# match_participant
player_id = []
team_roster_id = []
team_id = []
team_rank = []
match_id_2 = []
# match_participant_stats
participant_stats = []


# EXTRACTING 'FOR'
#for i in matchid_list :
for i in matchlist :
  # match_info
  # match_id, created_at, map_name, duration, telemetry_link
  match = PUBG.match(i)
  match_id.append(match.id)
  created_at.append(match.created_at)
  map_name.append(match.map_name)
  duration.append(match.duration)
  telemetry_link.append(match.telemetry_url)

  # match_participant
  # match_id, player_id, team_roster_id, team_rank, team_id
  rosters = match.rosters
  for i in range(len(rosters)):
    roster = rosters[i]
    roster_participant = roster.participants
    for i in range(len(roster_participant)):
      participant = roster_participant[i]
      match_id_2.append(match.id)
      player_id.append(participant.name)
      team_roster_id.append(roster.id)
      team_rank.append(roster.stats['rank'])
      team_id.append(roster.stats['team_id'])
      # match_participant_stats
      stats = participant.stats
      participant_stats.append(stats)

# MAKE DATAFRAME USING LISTS
#match_pariticpant
match_participant = pd.DataFrame({'match_id': match_id_2, 'player_id': player_id, 'team_roster_id': team_roster_id, 'team_id': team_id, 'team_rank': team_rank})

#match_participant_stats
match_participant_stats = pd.DataFrame(participant_stats).drop(columns='player_id')
match_participant_stats['team_name'] = match_participant.player_id.str.split('_').str[0]
match_participant_stats['player_name'] = match_participant.player_id.str.split('_').str[1]
match_participant_stats['player_name'] = [i.upper() for i in match_participant_stats['player_name']]

match_participant_stats = match_participant_stats.rename(columns={'name':'player_id'})

#ì¸ë±ìŠ¤ ê¸°ì¤€ìœ¼ë¡œ join
match_participant_all = pd.merge(match_participant, match_participant_stats, how='inner', left_index=True, right_index=True)
match_participant_all = match_participant_all.rename(columns={'player_id_x': 'player_id'})

#[ìµœì¢…]matches_info
match_info = pd.DataFrame({'match_id': match_id, 'created_at': created_at, 'map_name' : map_name, 'duration': duration})

#[ìµœì¢…] result
tournament_id = pd.DataFrame({'tournament_id': [id_tor for i in range(len(match_participant_all))]})

match_participant_all = pd.merge(match_participant_all, tournament_id, how = "left", left_index=True, right_index=True)
result = pd.merge(match_participant_all, match_info, on = 'match_id', how='left').drop_duplicates()

result = result[['tournament_id', 'match_id', 'created_at', 'map_name', 'duration','team_rank', 'team_name', 'player_id', 'player_name', 'time_survived', 'death_type', 'kill_place', 'kills', 'dbnos', 'assists','damage_dealt', 'headshot_kills','longest_kill', 'road_kills', 'vehicle_destroys', 'weapons_acquired', 'boosts', 'heals', 'revives','ride_distance', 'swim_distance', 'walk_distance']].sort_values('created_at')


## get-matchid.py
# í•œ tournamentì˜ ëª¨ë“  match_idì™€ created_atì„ ë°ì´í„°í”„ë ˆì„ìœ¼ë¡œ ë§Œë“¤ì–´ì£¼ëŠ” ì½”ë“œ

import requests
import pandas as pd

api_key = "your API Key"
header = {
  "Authorization": api_key,
  "Accept": "application/vnd.api+json"
}

# {as-pcs3as} ë¶€ë¶„ì— esports_tournaments_summary.csvì˜ tournament_id
url = "https://api.pubg.com/tournaments/as-pcs3as"

r = requests.get(url, headers=header)
json_r = r.json()
json_r

# ëª¨ë“  match_idì™€ created_atì„ êº¼ë‚´ì£¼ëŠ” ë°˜ë³µë¬¸
matchId_dict = {match['attributes']['createdAt']: match['id'] for match in json_r['included']}
matchId_dict

# ë°ì´í„°í”„ë ˆì„í™”
pcs3_matchId_df = pd.DataFrame(sorted(matchId_dict.items(), key=lambda x: x[0]), columns=['createdAt', 'matchId'])
pcs3_matchId_df

############ https://github.com/dataitgirls4/team_5




### ì›¹ ìŠ¤íƒ€ì¼ë§
## ì›¹ í˜ì´ì§€ ì‚´í´ë³´ê¸°
# ê¸°ë³¸ HTML íƒœê·¸ ì •ë¦¬ ë…¸íŠ¸
ì•ì„  ë ˆìŠ¨ì—ì„œ ì•„ë˜ì™€ ê°™ì€ ì½”ë“œë¥¼ ë³´ì•˜ìŠµë‹ˆë‹¤.


<!DOCTYPE html>
<html>
    <head>
      <title>Codeit</title>
      <meta charset="utf-8">
    </head>

    <body>
        <img src="https://www.codeit.kr/static/images/brand/logo_original.png">
        <h2>ë³¸ì¸ì˜ ì»¤ë¦¬ì–´ ëª©í‘œë¥¼ ë‹¬ì„±í•´ ë³´ì„¸ìš”.</h2>
        <p><b>ì½”ë“œì‡</b>ì€ ë¯¸êµ­ ì•„ì´ë¹„ë¦¬ê·¸ ì»´í“¨í„° ì‚¬ì´ì–¸ìŠ¤ ì „ê³µì, êµ­ë‚´ ëŒ€ê¸°ì—… IT ì¶œì‹  ë“±ìœ¼ë¡œ êµ¬ì„±ëœ íŒ€ì„ í†µí•´, ëª¨ë“  ìˆ˜ì—…ë“¤ì„ ìì²´ ì œì‘í•˜ì—¬ í° ë¶„ì•¼ë¥¼ ìª¼ê°œì„œ ìœ ê¸°ì ìœ¼ë¡œ í•™ìŠµí• ìˆ˜ ìˆê²Œ ë§Œë“¤ì—ˆì–´ìš”. ì½”ë“œì‡ ê°€ì´ë“œë¥¼ í†µí•´ ì›í•˜ëŠ” ëª©í‘œë¥¼ ë¹ ë¥´ê²Œ ë‹¬ì„±í•´ ë³´ì„¸ìš”</p>

        <hr>

        <h2><i>ì½”ë“œì‡ ì»¤ë®¤ë‹ˆí‹°</i>ì—ì„œ í•¨ê»˜ ê¶ê¸ˆí•œ ì ì„ í•´ê²°í•´ ë´ìš”.</h2>
        <p>ê¶ê¸ˆí•œ ê²Œ ìƒê²¼ê±°ë‚˜ í•¨ê»˜ ì˜ê²¬ì„ ë‚˜ëˆ„ê³  ì‹¶ë‹¤ë©´? ì„œë¡œì˜ ì§ˆë¬¸ê³¼ ë‹µë³€ì„ í†µí•´, ì½”ë”© ì‹¤ë ¥ì„ ë”ìš± í–¥ìƒì‹œì¼œ ë³´ì„¸ìš”</p>

        <hr>

        <a href="https://www.codeit.kr/">ìƒˆë¡œìš´ ì½”ë”© êµìœ¡ì˜ ì‹œì‘, ì½”ë“œì‡</a>

        <ul>
          <li>í”„ë¡œê·¸ë˜ë° ê¸°ì´ˆ <i>in Python</i></li>
            <li>í”„ë¡œê·¸ë˜ë° ê¸°ì´ˆ <span><i>in Java</i></span></li>
          <li>ì»´í“¨í„° ê°œë¡ </li>
          <li>ì›¹ í¼ë¸”ë¦¬ì‹±</li>
          <li>ì—…ë¬´ ìë™í™”</li>
            <li>ë°ì´í„° ì‚¬ì´ì–¸ìŠ¤</li>
          <li>ë¨¸ì‹  ëŸ¬ë‹</li>
          <li>ì•Œê³ ë¦¬ì¦˜ì˜ ì •ì„</li>
        </ul>
    </body>
</html>
ì–´ë–¤ HTML ìš”ì†Œë“¤ì´ ìˆëŠ”ì§€, ì—¬ëŸ¬ë¶„ì´ ìì£¼ ë§ˆì£¼ì¹˜ê²Œ ë  íƒœê·¸ ëª‡ ê°œë§Œ ì‚´í´ë³´ê² ìŠµë‹ˆë‹¤!

ë¬¼ë¡  ì´ì „ ë ˆìŠ¨ì—ì„œë„ ë§ì”€ë“œë¦° ê²ƒì²˜ëŸ¼, íƒœê·¸ë¥¼ ë‹¤ ì•Œì•„ì•¼í•˜ëŠ” ê²ƒì€ ì•„ë‹ˆë©°, ì•”ê¸°í•  í•„ìš”ëŠ” ë”ë”ìš± ì—†ìŠµë‹ˆë‹¤.

â€˜HTMLì—ëŠ” ì´ëŸ° ì½”ë“œê°€ ìˆêµ¬ë‚˜â€™ ì •ë„ë§Œ ëŒ€ëµì ìœ¼ë¡œ íŒŒì•…í•˜ì‹œë©´ ë©ë‹ˆë‹¤.

!DOCTYPE ì„ ì–¸
HTML íŒŒì¼ì„ ì“¸ ë•ŒëŠ” ê°€ì¥ ë¨¼ì € <!DOCTYPE> ì„ ì–¸ì„ í•´ì•¼ í•©ë‹ˆë‹¤. ì´ì „ì˜ HTML ë²„ì „ì„ ì‚¬ìš©í•˜ë ¤ë©´ ì¡°ê¸ˆ ë³µì¡í•˜ê²Œ ì¨ì•¼ í•˜ì§€ë§Œ, ê°€ì¥ ìµœì‹  ë²„ì „ì¸ HTML 5ë¥¼ ì‚¬ìš©í•˜ê¸° ìœ„í•´ì„œëŠ” ì´ë ‡ê²Œë§Œ ì“°ë©´ ë©ë‹ˆë‹¤:


<!DOCTYPE html>
title íƒœê·¸
í˜ì´ì§€ì˜ ì œëª©ì€ <title> íƒœê·¸ì— ì¨ì£¼ë©´ ë©ë‹ˆë‹¤. ë¸Œë¼ìš°ì €ì˜ íƒ­ì´ë‚˜ ë°©ë¬¸ ê¸°ë¡ì— ë‚˜ì™€ ìˆëŠ” ì œëª©ì´ ë°”ë¡œ <title>ì— ë“¤ì–´ê°‘ë‹ˆë‹¤.


<title>Sample Website</title>
icok8rt60-screenshot(rev).png

h1~h6 íƒœê·¸
í•œ í˜ì´ì§€ì— ì—¬ëŸ¬ ê°œì˜ ë¨¸ë¦¬ë§ì´ ìˆì„ ìˆ˜ ìˆëŠ”ë°ìš”. ê·¸ ì¤‘ ê°€ì¥ ì¤‘ìš”í•œ ë¨¸ë¦¬ë§ì€ <h1>(heading 1), ê·¸ ë‹¤ìŒìœ¼ë¡œ ì¤‘ìš”í•œ ë¨¸ë¦¬ë§ì€ <h2>(heading 2). ì´ëŸ° ì‹ìœ¼ë¡œ <h6>(heading 6)ê¹Œì§€ ì‘ì„±í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

htmlcss

<h1>ë¨¸ë¦¬ë§ 1</h1>
<h2>ë¨¸ë¦¬ë§ 2</h2>
<h3>ë¨¸ë¦¬ë§ 3</h3>
<h4>ë¨¸ë¦¬ë§ 4</h4>
<h5>ë¨¸ë¦¬ë§ 5</h5>
<h6>ë¨¸ë¦¬ë§ 6</h6>

ê²°ê³¼ í™•ì¸
ê° ë¨¸ë¦¬ë§ì˜ í¬ê¸°ëŠ” ë‚˜ì¤‘ì— ë§ˆìŒëŒ€ë¡œ ì„¤ì •í•  ìˆ˜ ìˆì§€ë§Œ, ë”°ë¡œ ì„¤ì •í•´ì£¼ì§€ ì•Šìœ¼ë©´ <h1>ë¶€í„° ìˆœì„œëŒ€ë¡œ ì‘ì•„ì§‘ë‹ˆë‹¤.

p íƒœê·¸
ë³´í†µ ë¬¸ë‹¨ì€ <p>(paragraph) íƒœê·¸ ì•ˆì— ë„£ìŠµë‹ˆë‹¤. ë¬¼ë¡  ì§ì ‘ ì„¤ì •í•  ìˆ˜ë„ ìˆì§€ë§Œ <p> íƒœê·¸ ìœ„, ì•„ë˜ì—ëŠ” ê¸°ë³¸ì ìœ¼ë¡œ ì—¬ë°±ì´ ì¡°ê¸ˆì”© ìˆìŠµë‹ˆë‹¤.

htmlcss

<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.</p>

<p>Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.</p>

<p>Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>

ê²°ê³¼ í™•ì¸
b íƒœê·¸, i íƒœê·¸
<b> íƒœê·¸ëŠ” ê¸€ì”¨ë¥¼ ë³¼ë“œì²´ë¡œ ë°”ê¿”ì¤ë‹ˆë‹¤.

<i> íƒœê·¸ëŠ” ê¸€ì”¨ë¥¼ ì´íƒ¤ë¦­ì²´ë¡œ ë°”ê¿”ì¤ë‹ˆë‹¤.

htmlcss

<b>ë³¼ë“œì²´</b>ì™€ <i>ì´íƒ¤ë¦­ì²´</i>

ê²°ê³¼ í™•ì¸
a íƒœê·¸
<a> íƒœê·¸ëŠ” í•˜ì´í¼ë§í¬ë¥¼ ë§Œë“¤ ë•Œ ì‚¬ìš©ë©ë‹ˆë‹¤. íƒœê·¸ì˜ href ì†ì„± ì•ˆì— ë§í¬ë¥¼ í†µí•´ ì´ë™í•˜ê³  ì‹¶ì€ ì£¼ì†Œë¥¼ ì¨ ì¤ë‹ˆë‹¤.

htmlcss

<a href="https://www.codeit.kr/">ì½”ë“œì‡ ì›¹ì‚¬ì´íŠ¸</a>

ê²°ê³¼ í™•ì¸
div íƒœê·¸
<div> íƒœê·¸ëŠ” HTMLì—ì„œ ê°€ì¥ ë§ì´ ì“°ì´ëŠ” íƒœê·¸ ì¤‘ í•˜ë‚˜ì¸ë°ìš”. 'div'ëŠ” 'division'ì˜ ì•½ìë¡œ, ì›¹ ìš”ì†Œì— íŠ¹ì • íš¨ê³¼ë¥¼ ì¤„ ë•Œ ì‚¬ìš©í•˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼, ì›¹ì‚¬ì´íŠ¸ì˜ êµ¬ì—­ì„ ì •í•´ì„œ ë ˆì´ì•„ì›ƒì„ ì •í•˜ê³ , ë””ìì¸ì„ ì…íˆëŠ”ë° ì‚¬ìš©í•©ë‹ˆë‹¤.

<div> íƒœê·¸ì˜ ì›ë¦¬ë¥¼ ëª¨ë¥´ì…”ë„ ì›¹ ìŠ¤í¬ë˜í•‘ì„ í•˜ëŠ” ë°ëŠ” í¬ê²Œ ì§€ì¥ì´ ì—†ìŠµë‹ˆë‹¤. ì•ìœ¼ë¡œ HTML ì½”ë“œë¥¼ ë³´ë‹¤ ë³´ë©´ <div> íƒœê·¸ë¥¼ ì •ë§ ë§ì´ ì ‘í•˜ì‹¤ ê²ë‹ˆë‹¤.

htmlcss

<div>
  <h2>div ì•ˆì— ìˆëŠ” h2</h2>
  <p>div ì•ˆì— ìˆëŠ” p</p>
</div>


## CSS ì„ íƒì ì •ë¦¬ ë…¸íŠ¸
# CSS ì„ íƒìë€?
HTML ì½”ë“œ ì–´ëŠ ìš”ì†Œì— ìŠ¤íƒ€ì¼ì„ ì…íì§€ë¥¼ ì •í•˜ëŠ” ë¶€ë¶„ì„ "CSS ì„ íƒì"ë¼ê³  í•©ë‹ˆë‹¤. CSS ì„ íƒìë¥¼ í†µí•´ ì›í•˜ëŠ” íƒœê·¸ë¥¼ ì„ íƒí•˜ëŠ” ê±°ì£ .

ìš°ë¦¬ê°€ ì›¹ ìš”ì†Œì— ìŠ¤íƒ€ì¼ì„ ì…í ê²ƒì€ ì•„ë‹ˆê³ , CSS ì„ íƒìë¥¼ í†µí•´ í•„ìš”í•œ íƒœê·¸ë¥¼ ì„ íƒí•´ì„œ, íƒœê·¸ì— ìˆëŠ” ì •ë³´ë¥¼ ì¶”ì¶œí•´ ë‚¼ ê²ë‹ˆë‹¤.

ê·¸ëŸ¼ ë‹¤ì–‘í•œ CSS ì„ íƒìë¥¼ ì •ë¦¬í•´ ë´…ì‹œë‹¤. ì„ íƒìë¥¼ ì •ë¦¬í•  ë•Œ ë“œëŠ” ì˜ˆì‹œëŠ” ì•„ë˜ ì½”ë“œì— ëŒ€í•œ ì˜ˆì‹œì…ë‹ˆë‹¤.


<!DOCTYPE html>
<html>
    <head>
      <title>Codeit</title>
      <meta charset="utf-8">
        <link rel="stylesheet" href="styles.css">
    </head>

    <body>
        <img src="https://www.codeit.kr/static/images/brand/logo_original.png">
        <h2 id="first-heading">ë³¸ì¸ì˜ ì»¤ë¦¬ì–´ ëª©í‘œë¥¼ ë‹¬ì„±í•´ ë³´ì„¸ìš”.</h2>
        <p><b class="codeit">ì½”ë“œì‡</b>ì€ ë¯¸êµ­ ì•„ì´ë¹„ë¦¬ê·¸ ì»´í“¨í„° ì‚¬ì´ì–¸ìŠ¤ ì „ê³µì, êµ­ë‚´ ëŒ€ê¸°ì—… IT ì¶œì‹  ë“±ìœ¼ë¡œ êµ¬ì„±ëœ íŒ€ì„ í†µí•´, ëª¨ë“  ìˆ˜ì—…ë“¤ì„ ìì²´ ì œì‘í•˜ì—¬ í° ë¶„ì•¼ë¥¼ ìª¼ê°œì„œ ìœ ê¸°ì ìœ¼ë¡œ í•™ìŠµí• ìˆ˜ ìˆê²Œ ë§Œë“¤ì—ˆì–´ìš”. ì½”ë“œì‡ ê°€ì´ë“œë¥¼ í†µí•´ ì›í•˜ëŠ” ëª©í‘œë¥¼ ë¹ ë¥´ê²Œ ë‹¬ì„±í•´ ë³´ì„¸ìš”</p>

        <hr>

        <h2><i class="codeit">ì½”ë“œì‡</i> ì»¤ë®¤ë‹ˆí‹°ì—ì„œ í•¨ê»˜ ê¶ê¸ˆí•œ ì ì„ í•´ê²°í•´ ë´ìš”.</h2>
        <p>ê¶ê¸ˆí•œ ê²Œ ìƒê²¼ê±°ë‚˜ í•¨ê»˜ ì˜ê²¬ì„ ë‚˜ëˆ„ê³  ì‹¶ë‹¤ë©´? ì„œë¡œì˜ ì§ˆë¬¸ê³¼ ë‹µë³€ì„ í†µí•´, ì½”ë”© ì‹¤ë ¥ì„ ë”ìš± í–¥ìƒì‹œì¼œ ë³´ì„¸ìš”</p>

        <hr>

        <a href="https://www.codeit.kr/">ìƒˆë¡œìš´ ì½”ë”© êµìœ¡ì˜ ì‹œì‘, ì½”ë“œì‡</a>

        <ul>
          <li class="beginner Python">í”„ë¡œê·¸ë˜ë° ê¸°ì´ˆ <i>in Python</i></li>
            <li class="beginner">í”„ë¡œê·¸ë˜ë° ê¸°ì´ˆ <span><i>in Java</i></span></li>
          <li>ì»´í“¨í„° ê°œë¡ </li>
          <li>ì›¹ í¼ë¸”ë¦¬ì‹±</li>
          <li>ì—…ë¬´ ìë™í™”</li>
            <li>ë°ì´í„° ì‚¬ì´ì–¸ìŠ¤</li>
          <li>ë¨¸ì‹  ëŸ¬ë‹</li>
          <li>ì•Œê³ ë¦¬ì¦˜ì˜ ì •ì„</li>
        </ul>
    </body>
</html>
íƒœê·¸ ì´ë¦„
íƒœê·¸ ì´ë¦„ì„ ì„ íƒìë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.


/* ì„ íƒì ë¬¸ë²• */
tagname

/* ì˜ˆì‹œ: h2 íƒœê·¸ë§Œ ì„ íƒ */
h2
íƒœê·¸ ì´ë¦„ì„ ê·¸ëŒ€ë¡œ ì“°ë©´ ë©ë‹ˆë‹¤.

ID (ì•„ì´ë””)
IdëŠ” ë¬¸ì„œì—ì„œ ë”± í•˜ë‚˜ì˜ íƒœê·¸ì—ë§Œ ìŠ¤íƒ€ì¼ì„ ì…íˆê³  ì‹¶ì„ ë•Œ ì‚¬ìš©ë©ë‹ˆë‹¤.


/* ì„ íƒì ë¬¸ë²• */
#id-name

/* ì˜ˆì‹œ: id ê°’ì´ first-headingì¸ íƒœê·¸ë§Œ ì„ íƒ */
#first-heading
ìƒµ(#) ë’¤ì— ì•„ì´ë”” ê°’ì„ ì¨ ì£¼ë©´ ë©ë‹ˆë‹¤.

ì•„ì´ë””ëŠ” ë”± í•˜ë‚˜ì˜ íƒœê·¸ì— ìŠ¤íƒ€ì¼ì„ ì…í ë•Œ ì‚¬ìš©ë˜ê¸° ë•Œë¬¸ì— ë™ì¼í•œ ì•„ì´ë””ë¥¼ ì—¬ëŸ¬ íƒœê·¸ê°€ ê°€ì§ˆ ìˆ˜ ì—†ìŠµë‹ˆë‹¤. í•˜ë‚˜ì˜ ì•„ì´ë””ëŠ” HTML ì½”ë“œ ì „ì²´ì— ë‹¨ í•œ ë²ˆë§Œ ë‚˜ì˜¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

Class (í´ë˜ìŠ¤)
ì—¬ëŸ¬ íƒœê·¸ì— ë™ì‹œì— ìŠ¤íƒ€ì¼ì„ ì…íˆë ¤ë©´ classë¼ëŠ” ì†ì„±ì„ ì‚¬ìš©í•˜ë©´ ë©ë‹ˆë‹¤.

ClassëŠ” ì—¬ëŸ¬ HTML íƒœê·¸ì— ê³µí†µìœ¼ë¡œ ì ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ê¼­ ê°™ì€ ì¢…ë¥˜ì˜ íƒœê·¸ì¼ í•„ìš”ë„ ì—†ìŠµë‹ˆë‹¤.


/* ì„ íƒì ë¬¸ë²• */
.class-name

/* ì˜ˆì‹œ: class ì´ë¦„ì´ beginnerì¸ íƒœê·¸ë§Œ ì„ íƒ */
.beginner
ì (.) ë’¤ì— class ì´ë¦„ì„ ì¨ ì£¼ë©´ ë©ë‹ˆë‹¤.

í•œ íƒœê·¸ëŠ” ì—¬ëŸ¬ class ì´ë¦„ì„ ê°€ì§ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤. Class ì´ë¦„ë“¤ ì‚¬ì´ì— ê³µë°±ì„ ì¶”ê°€í•˜ë©´ ë©ë‹ˆë‹¤.


<li class="beginner Python">í”„ë¡œê·¸ë˜ë° ê¸°ì´ˆ <i>in Python</i></li>
ì˜ˆë¥¼ ë“¤ì–´ ìœ„ li íƒœê·¸ëŠ” class ê°’ ë‘ ê°œ, 'beginner'ì™€ 'Python'ì„ ê°€ì§€ê³  ìˆëŠ” ê²ë‹ˆë‹¤.

ID, Classë¥¼ ì œì™¸í•œ ë‚˜ë¨¸ì§€ ì†ì„±
idì™€ classë¥¼ ì œì™¸í•œ ë‚˜ë¨¸ì§€ ì†ì„±ë„ CSS ì„ íƒìë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.


/* ì„ íƒì ë¬¸ë²• */
[attr="value"]

/* ì˜ˆì‹œ: href ì†ì„± ê°’ì´ "https://www.codeit.kr/"ì¸ íƒœê·¸ë§Œ ì„ íƒ */
[href="https://www.codeit.kr/"]
ë„¤ëª¨ ê´„í˜¸([]) ì•ˆì— ì†ì„± ì´ë¦„ê³¼ ì†ì„± ê°’ì„ ë„£ì–´ ì£¼ë©´ ë©ë‹ˆë‹¤.

OR ì—°ì‚°
ì—¬ëŸ¬ ì„ íƒìë¥¼ OR ì—°ì‚°ìœ¼ë¡œ ì¡°í•©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.


/* ì„ íƒì ë¬¸ë²• */
selector1, selector2, ...

/* ì˜ˆì‹œ: h2 íƒœê·¸ ë˜ëŠ” p íƒœê·¸ ì„ íƒ */
h2, p
ì„ íƒì ì‚¬ì´ì— ì‰¼í‘œ(,)ë¥¼ ë„£ì–´ì£¼ë©´ ë©ë‹ˆë‹¤.

AND ì—°ì‚°
ì—¬ëŸ¬ ì„ íƒìë¥¼ AND ì—°ì‚°ìœ¼ë¡œë„ ì¡°í•©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.


/* ì„ íƒì ë¬¸ë²• */
selector1selector2...

/* ì˜ˆì‹œ: class ì´ë¦„ì´ codeitì¸ b íƒœê·¸ ì„ íƒ */
b.codeit
ì„ íƒìë¥¼ ë¶™ì—¬ì„œ ì¨ ì¤ë‹ˆë‹¤.

ì°¸ê³ ë¡œ íƒœê·¸ ì´ë¦„ì²˜ëŸ¼ ì•ŒíŒŒë²³ìœ¼ë¡œ ì‹œì‘í•˜ëŠ” ì„ íƒìê°€ ìˆê³ , class, idì²˜ëŸ¼ ê¸°í˜¸ë¡œ ì‹œì‘í•˜ëŠ” ì„ íƒìê°€ ìˆìœ¼ë©´ ì•ŒíŒŒë²³ìœ¼ë¡œ ì‹œì‘í•˜ëŠ” ì„ íƒìë¥¼ ë¨¼ì € ì¨ ì¤˜ì•¼ê² ì£ ?


/* OK */
b.codeit

/* 'class ì´ë¦„ì´ codeitb'ë¡œ ì¸ì‹ë¨ */
.codeitb
íƒœê·¸ ì´ë¦„ ì„ íƒì ë‘ ê°œì— AND ì—°ì‚°ì„ í•  ì¼ì€ ì—†ìŠµë‹ˆë‹¤. íƒœê·¸ ì´ë¦„ì´ ë‘ ê°œì¼ ìˆ˜ëŠ” ì—†ê¸° ë•Œë¬¸ì´ì£ .

ì¤‘ì²©ëœ ìš”ì†Œ
HTML íƒœê·¸ ì•ˆì— ë˜ ë‹¤ë¥¸ HTML íƒœê·¸ê°€ ìˆì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ëŸ° ê²½ìš° íƒœê·¸ê°€ ì¤‘ì²©ë˜ì–´ ìˆë‹¤ê³  ë¶€ë¥´ëŠ”ë°ìš”. ì¼ë°˜ì ì¸ ì›¹ í˜ì´ì§€ì˜ HTML íƒœê·¸ëŠ” ë§ì´ ì¤‘ì²©ë˜ì–´ ìˆê¸° ë•Œë¬¸ì—, ì¤‘ì²©ì— ëŒ€í•œ ì¡°ê±´ì„ ì¶”ê°€í•˜ëŠ” ê²½ìš°ê°€ ë§ìŠµë‹ˆë‹¤.


/* ì„ íƒì ë¬¸ë²• */
selector1 selector2 ...

/* ì˜ˆì‹œ: li íƒœê·¸ ì•ˆì— ì¤‘ì²©ëœ i íƒœê·¸ ì„ íƒ */
li i
ì„ íƒìë¥¼ ë„ì–´ ì¨ ì£¼ë©´ ë©ë‹ˆë‹¤. ì•ˆì— ì¤‘ì²©ëœ ìš”ì†Œì— ëŒ€í•œ ì„ íƒìë¥¼ ì˜¤ë¥¸ìª½ì— ì¨ ì¤ë‹ˆë‹¤.

ì§ì† ìì‹
íƒœê·¸ì— ì¤‘ì²©ëœ ìš”ì†Œë“¤ ì¤‘ íƒœê·¸ì˜ ì§ì† ìì‹ë§Œ ì„ íƒí•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.


/* ì„ íƒì ë¬¸ë²• */
selector1 > selector2 > ...

/* ì˜ˆì‹œ: li íƒœê·¸ì˜ ì§ì† ìì‹ì¸ i íƒœê·¸ ì„ íƒ */
li > i
ë¶€ë“±í˜¸(>)ë¥¼ ì¨ ì£¼ê³  ì§ì† ìì‹ì— ëŒ€í•œ ì„ íƒìë¥¼ ë¶€ë“±í˜¸ ì˜¤ë¥¸ìª½ì— ì¨ ì¤ë‹ˆë‹¤.

*
ë§ˆì§€ë§‰ìœ¼ë¡œ ë³„í‘œ(*)ì…ë‹ˆë‹¤. ë³„í‘œ ë¬¸ìëŠ” ëª¨ë“  íƒœê·¸ë¥¼ ëœ»í•©ë‹ˆë‹¤. ì›¹ ìŠ¤í¬ë˜í•‘ì„ í•  ë•ŒëŠ” ê½¤ë‚˜ ìœ ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.


/* ì˜ˆì‹œ: li íƒœê·¸ ì•ˆì— ìˆëŠ” ëª¨ë“  íƒœê·¸ ì„ íƒ */
li * 



## Beautiful Soup ë¼ì´ë¸ŒëŸ¬ë¦¬

## ì„¤ì¹˜ í•˜ê¸°
# pip3 install beautifulsoup4


import requests
from bs4 import BeautifulSoup


response = requests.get("https://workey.codeit.kr/ratings/index")
rating_page = response.text

soup = BeautifulSoup(rating_page, 'html.parser')


# print(soup.prettify())  
# print(soup.select('title')) ì›í•˜ëŠ” íƒœê·¸ë¥¼ ê°€ì ¸ì˜¨ë‹¤.
print(soup.select('table'))


## ì›í•˜ëŠ” íƒœê·¸ ì„ íƒí•˜ê¸° I

import requests
from bs4 import BeautifulSoup


response = requests.get("https://workey.codeit.kr/ratings/index")
rating_page = response.text

soup = BeautifulSoup(rating_page, 'html.parser')

program_title_tags = soup.select('td.program')

# program_titles = []

# for tag in program_title_tags:
#     program_titles.append(tag.get_text())

# print(program_titles)

print(soup.select_one('td.program'))






import requests
from bs4 import BeautifulSoup


response = requests.get("https://esports.pubgrank.org/tournament/KCSScrim")
rating_page = response.text

soup = BeautifulSoup(rating_page, 'html.parser')

leaderboard_tags = soup.select('table')

leaderboards = []

for tag in leaderboard_tags:
    leaderboards.append(tag.get_text())

print(leaderboards)

# print(soup.select_one('td.program'))


===============

; import requests
; from bs4 import BeautifulSoup


; response = requests.get("https://esports.pubgrank.org/tournament/KCSScrim")
; rating_page = response.text

; soup = BeautifulSoup(rating_page, 'html.parser')

; program_title_tags = soup.select('div.v-data-table__wrapper')

; program_titles = []

; for tag in program_title_tags:
;     program_titles.append(tag.get_text())

; print(program_titles)

; # print(soup.select_one('td.program'))

=====================


## ê¿ˆì˜ ì§ì¥ ì „í™”ë²ˆí˜¸ ëª¨ìœ¼ê¸° I
# ì‹¤ìŠµ ì„¤ëª…
ì˜¤ë Œì§€ ë³´í‹€ì—ì„œ ì¼í•˜ê³  ì‹¶ë‹¤ëŠ” ê¿ˆì„ ê°–ê³  ìˆìŠµë‹ˆë‹¤. ê° ì§€ì ì— ì „í™”ë¥¼ í•´ì„œ ì•„ë¥´ë°”ì´íŠ¸ ìë¦¬ê°€ ì—†ëŠ”ì§€ ë¬¼ì–´ë³´ë ¤ê³  í•˜ëŠ”ë°ìš”. ì˜¤ë Œì§€ ë³´í‹€ì˜ ì›¹ì‚¬ì´íŠ¸ì— ê°€ì„œ, ëª¨ë“  ì§€ì ì˜ ì „í™”ë²ˆí˜¸ë¥¼ ëª¨ì•„ë´…ì‹œë‹¤.

https://workey.codeit.kr/orangebottle/index

ëª¨ë“  ì§€ì ì˜ ì „í™”ë²ˆí˜¸ë¥¼ phone_numbers ë¦¬ìŠ¤íŠ¸ì— ë‹´ì•„ì£¼ì„¸ìš”.

# í•´ì„¤
ê°€ì¥ ë¨¼ì € ì˜¤ë Œì§€ ë³´í‹€ ì›¹ì‚¬ì´íŠ¸ì— ìš”ì²­ì„ ë³´ë‚´ê³ , BeautifulSoupì„ ì´ìš©í•´ì„œ ë°›ì•„ì˜¨ HTML ì½”ë“œë¥¼ ì •ë¦¬í•´ ì¤˜ì•¼ê² ì£ ?


# HTML ì½”ë“œ ë°›ì•„ì˜¤ê¸°
response = requests.get("https://workey.codeit.kr/orangebottle/index")

# BeautifulSoup ì‚¬ìš©í•´ì„œ HTML ì½”ë“œ ì •ë¦¬
soup = BeautifulSoup(response.text, 'html.parser')
ì´ ì½”ë“œëŠ” ì›¹ì‚¬ì´íŠ¸ ì£¼ì†Œë§Œ ë°”ë€” ë¿ í•­ìƒ ë˜‘ê°™ìŠµë‹ˆë‹¤.

ì´ì œ soupì„ ë§Œë“¤ì—ˆìœ¼ë©´, í•„ìš”í•œ íƒœê·¸ë¥¼ ê°€ì ¸ì™€ì•¼ í•©ë‹ˆë‹¤. ì „í™”ë²ˆí˜¸ ë¶€ë¶„ì„ ê²€ì‚¬í•´ ë³´ë©´, ì´ë ‡ê²Œ ë‚˜ì˜¤ëŠ”ë°ìš”.



ì „í™”ë²ˆí˜¸ëŠ” ëª¨ë‘ class ì´ë¦„ì´ phoneNumì¸ span íƒœê·¸ ì•ˆì— ìˆìŠµë‹ˆë‹¤.


<span class="phoneNum">070 3460 5076</span>
ì´ê²ƒì— ëŒ€í•œ CSS ì„ íƒìëŠ” ì•„ë˜ì™€ ê°™ì´ ì§¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.


span /* span íƒœê·¸ ì„ íƒ */
.phoneNum /* class="phoneNum"ì¸ íƒœê·¸ ì„ íƒ */
span.phoneNum /* class="phoneNum"ì¸ span íƒœê·¸ ì„ íƒ */
AND ì—°ì‚°ì€ ì„ íƒìë¥¼ ë¶™ì—¬ì„œ ì“°ëŠ” ê²ƒ ê¸°ì–µí•˜ì‹œì£ ?

ê·¸ë¦¬ê³  ì´ CSS ì„ íƒìë¥¼ soup.select()ì•ˆì— ì¨ ì£¼ì‹œë©´ ë©ë‹ˆë‹¤.


# "phoneNum" í´ë˜ìŠ¤ë¥¼ ê°€ì§„ span íƒœê·¸ ì„ íƒí•˜ê¸°
phone_num_tags = soup.select('span.phoneNum')
ì‚¬ì‹¤ class ì´ë¦„ì´ phoneNumì¸ íƒœê·¸ëŠ” ì „í™”ë²ˆí˜¸ë¥¼ ë‹´ê³  ìˆëŠ” span íƒœê·¸ë°–ì— ì—†ê¸° ë•Œë¬¸ì— .phoneNumì„ ì„ íƒìë¡œ ì“°ì…”ë„ ë©ë‹ˆë‹¤.


phone_num_tags = soup.select('.phoneNum')
ê·¸ëŸ¼ ì´ì œ íƒœê·¸ì—ì„œ ì „í™”ë²ˆí˜¸ë¥¼ ë¹¼ì™€ì„œ, ë¦¬ìŠ¤íŠ¸ì— ë‹´ì•„ì•¼ í•˜ëŠ”ë°ìš”. íƒœê·¸ ì•ˆì— ìˆëŠ” í…ìŠ¤íŠ¸ë¥¼ ê°€ì ¸ì˜¤ë ¤ë©´ íƒœê·¸ì— get_text()ë¥¼ ì“°ë©´ ëœë‹¤ê³  í–ˆì£ ?

ì¼ë‹¨ phone_numbers ë¦¬ìŠ¤íŠ¸ë¥¼ ë§Œë“¤ì–´ ì£¼ê³ , ë°˜ë³µë¬¸ì„ ì¨ì„œ ëª¨ë“  íƒœê·¸ì—ì„œ í…ìŠ¤íŠ¸ë¥¼ phone_numbersì— ì¶”ê°€í•´ ì¤ë‹ˆë‹¤.


phone_numbers = []

# í…ìŠ¤íŠ¸ ì¶”ì¶œí•´ì„œ ë¦¬ìŠ¤íŠ¸ì— ì¶”ê°€í•˜ê¸°
for tag in phone_number_tags:
    phone_numbers.append(tag.get_text())
ëª¨ë²” ë‹µì•ˆ

import requests
from bs4 import BeautifulSoup

# HTML ì½”ë“œ ë°›ì•„ì˜¤ê¸°
response = requests.get("https://workey.codeit.kr/orangebottle/index")

# BeautifulSoup íƒ€ì…ìœ¼ë¡œ ë³€í™˜
soup = BeautifulSoup(response.text, 'html.parser')

# "phoneNum" í´ë˜ìŠ¤ë¥¼ ê°€ì§„ span íƒœê·¸ ì„ íƒí•˜ê¸°
phone_number_tags = soup.select('span.phoneNum')

phone_numbers = []

# í…ìŠ¤íŠ¸ ì¶”ì¶œí•´ì„œ ë¦¬ìŠ¤íŠ¸ì— ì¶”ê°€í•˜ê¸°
for tag in phone_number_tags:
    phone_numbers.append(tag.get_text())

# í…ŒìŠ¤íŠ¸ ì½”ë“œ
print(phone_numbers)



## ì›í•˜ëŠ” íƒœê·¸ ì„ íƒí•˜ê¸° II

import requests
from bs4 import BeautifulSoup


response = requests.get("https://workey.codeit.kr/ratings/index")
rating_page = response.text

soup = BeautifulSoup(rating_page, 'html.parser')

td_tags = soup.select('td')[:4]

for tag in td_tags:
    print(tag.get_text())



## ìŠ¬ë¼ì´ì‹±ê³¼ range í•¨ìˆ˜

# ë¦¬ìŠ¤íŠ¸ ì¸ë±ìŠ¤
ë¦¬ìŠ¤íŠ¸ëŠ” ì—¬ëŸ¬ ìš”ì†Œë¥¼ ì €ì¥í•˜ëŠ”ë° ì‚¬ìš©ë©ë‹ˆë‹¤. ë¦¬ìŠ¤íŠ¸ ìš”ì†Œì˜ ìœ„ì¹˜ë¥¼ ì¸ë±ìŠ¤ë¼ê³  í•˜ëŠ”ë°ìš”. ì¸ë±ìŠ¤ëŠ” 0ë¶€í„° ì‹œì‘í•©ë‹ˆë‹¤.


a = [5, 2, 9]  
# a[0] = 5
# a[1] = 2
# a[2] = 9
ê·¸ë¦¬ê³  íŒŒì´ì¬ì—ì„œëŠ” ì¸ë±ìŠ¤ê°€ ìŒìˆ˜ê°€ ë  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤. -iëŠ” ë¦¬ìŠ¤íŠ¸ ëì—ì„œ i ë²ˆì§¸ ìš”ì†Œë¥¼ ëœ»í•©ë‹ˆë‹¤.


a = [5, 2, 9]
# a[-1] = 9
# a[-2] = 2
# a[-3] = 5
í•˜ì§€ë§Œ ì¸ë±ìŠ¤ëŠ” ë¦¬ìŠ¤íŠ¸ ê¸¸ì´ë¥¼ ì´ˆê³¼í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.


a = [5, 2, 9]
# a[3] = ì˜¤ë¥˜
# a[-4] = ì˜¤ë¥˜
ì–´ì©” ë•ŒëŠ” ë¦¬ìŠ¤íŠ¸ì˜ ëª¨ë“  ìš”ì†Œê°€ í•„ìš”í•œ ê²ƒì´ ì•„ë‹ˆë¼, ì¼ë¶€ ìš”ì†Œë§Œ í•„ìš”í•©ë‹ˆë‹¤. ë¦¬ìŠ¤íŠ¸ ìš”ì†Œì˜ ì¼ë¶€ë§Œ ì ‘ê·¼í•˜ëŠ” ë°©ë²•ì€ ë‘ ê°€ì§€ê°€ ìˆìŠµë‹ˆë‹¤.

ìŠ¬ë¼ì´ì‹±
ì¸ë±ìŠ¤ë¥¼ í™œìš©í•´ì„œ ë¦¬ìŠ¤íŠ¸ì—ì„œ ì›í•˜ëŠ” ë¶€ë¶„ì„ ì˜ë¼ë‚¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ê²ƒì„ ìŠ¬ë¼ì´ì‹±ì´ë¼ê³  í•©ë‹ˆë‹¤. ë¬¸ë²•ì€ ì•„ë˜ì™€ ê°™ìŠµë‹ˆë‹¤.


lst[start:stop]
lst[start:stop:step]
start, stop, stepì€ ëª¨ë‘ ì„ íƒì  íŒŒë¼ë¯¸í„°ì¸ë°ìš” (ì¦‰ ê°’ì„ ì£¼ì§€ ì•Šì•„ë„ ë©ë‹ˆë‹¤):

startëŠ” ì‹œì‘ ì¸ë±ìŠ¤ (ë””í´íŠ¸ ê°’ 0)
stopì€ ë ì¸ë±ìŠ¤ (ë””í´íŠ¸ ê°’ ë¦¬ìŠ¤íŠ¸ ë§ˆì§€ë§‰ ì¸ë±ìŠ¤)
stepì€ ì¸ë±ìŠ¤ ê°„ì˜ ê°„ê²©ì„ ëœ»í•©ë‹ˆë‹¤ (ë””í´íŠ¸ ê°’ 1).
lst[start:stop]ì€ start ì¸ë±ìŠ¤ì—ì„œ stop-1ê¹Œì§€ì˜ ìš”ì†Œë¥¼ ê°€ì ¸ì˜¨ë‹¤(ì˜ë¼ë‚¸ë‹¤)ëŠ” ëœ»ì…ë‹ˆë‹¤. ê·¸ë¦¬ê³  stepë„ ìˆìœ¼ë©´  stepì”© ê±´ë„ˆë›°ë©´ì„œ ìš”ì†Œë¥¼ ê°€ì ¸ì˜¨ë‹¤ëŠ” ëœ»ì…ë‹ˆë‹¤.

ì•„ë§ˆ ì˜ˆì‹œë¥¼ ëª‡ ê°œ ë³´ì‹œë©´ ì‰½ê²Œ ì´í•´ê°€ ë˜ì‹¤ ê²ë‹ˆë‹¤.


lst = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]

print(lst[:]) # ë¦¬ìŠ¤íŠ¸ ëª¨ë“  ìš”ì†Œ
print(lst[:8]) # ì²˜ìŒ 8ê°œ ìš”ì†Œ
print(lst[:-3]) # ì¸ë±ìŠ¤ -3ê¹Œì§€ ëª¨ë“  ìš”ì†Œ
print(lst[1:]) # ì¸ë±ìŠ¤ 1ë¶€í„° ëª¨ë“  ìš”ì†Œ
print(lst[-4:]) # ë§ˆì§€ë§‰ 4ê°œ ìš”ì†Œ
print(lst[2:7]) # ì¸ë±ìŠ¤ 2~6ì— ìˆëŠ” ìš”ì†Œ
print(lst[::2]) # ë¦¬ìŠ¤íŠ¸ ëª¨ë“  ìš”ì†Œ, ì¸ë±ìŠ¤ 2ì”© ê±´ë„ˆë›°ë©´ì„œ 
print(lst[:8:2]) # ì²˜ìŒ 8ê°œ ìš”ì†Œ, ì¸ë±ìŠ¤ 2ì”© ê±´ë„ˆë›°ë©´ì„œ
print(lst[1::2]) # ì¸ë±ìŠ¤ 1ë¶€í„° ëª¨ë“  ìš”ì†Œ, ì¸ë±ìŠ¤ 2ì”© ê±´ë„ˆë›°ë©´ì„œ
print(lst[2:7:2]) # ì¸ë±ìŠ¤ 2~6ì— ìˆëŠ” ìš”ì†Œ, ì¸ë±ìŠ¤ 2ì”© ê±´ë„ˆë›°ë©´ì„œ

[1, 2, 3, 4, 5, 6, 7, 8, 9, 10]
[1, 2, 3, 4, 5, 6, 7, 8]
[1, 2, 3, 4, 5, 6, 7]
[2, 3, 4, 5, 6, 7, 8, 9, 10]
[7, 8, 9, 10]
[3, 4, 5, 6, 7]
[1, 3, 5, 7, 9]
[1, 3, 5, 7]
[2, 4, 6, 8, 10]
[3, 5, 7]
ë¦¬ìŠ¤íŠ¸ì—ì„œ í•„ìš”í•œ ë¶€ë¶„ë§Œ ì˜ë¼ëƒˆìœ¼ë‹ˆ, ì´ê±¸ ìƒˆë¡œìš´ ë³€ìˆ˜ì— ì €ì¥í•´ì„œ ì“°ë©´ ë©ë‹ˆë‹¤.


sliced_lst = lst[:8]

for element in sliced_lst:
    print(element)

1
2
3
4
5
6
7
8
range() í•¨ìˆ˜
range() í•¨ìˆ˜ëŠ” ë³´í†µ ì•„ë˜ì™€ ê°™ì´ ì‚¬ìš©ë˜ëŠ”ë°ìš”.


lst = [1, 2, 3, 4, 5]
n = len(lst)

for i in range(n):
    print(lst[i])

1
2
3
4
5
range() í•¨ìˆ˜ëŠ” í•„ìš”í•œ ì¸ë±ìŠ¤ ë²”ìœ„ë¥¼ ë§Œë“¤ì–´ ì£¼ëŠ”ë° ì‚¬ìš©ë©ë‹ˆë‹¤. range() í•¨ìˆ˜ë¥¼ ì˜ ì´ìš©í•˜ë©´ ì›í•˜ëŠ” ì¸ë±ìŠ¤ì— ìˆëŠ” ìš”ì†Œë“¤ë§Œ ì ‘ê·¼í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

range() í•¨ìˆ˜ ë¬¸ë²•ì€ ìŠ¬ë¼ì´ì‹±ê³¼ ë¹„ìŠ·í•œë°ìš”, ì„¸ ê°€ì§€ ë²„ì „ì´ ìˆìŠµë‹ˆë‹¤.


range(stop)
range(start, stop)
range(start, stop, step)
ìŠ¬ë¼ì´ì‹±ê³¼ ë§ˆì°¬ê°€ì§€ë¡œ

startëŠ” ì‹œì‘ ì¸ë±ìŠ¤
stopì€ ë ì¸ë±ìŠ¤
stepì€ ì¸ë±ìŠ¤ ê°„ì˜ ê°„ê²©ì„ ëœ»í•©ë‹ˆë‹¤.
(range í•¨ìˆ˜ë¥¼ ì“¸ ë•ŒëŠ” ìŠ¬ë¼ì´ì‹±ê³¼ ë‹¬ë¦¬ í•­ìƒ íŒŒë¼ë¯¸í„° ê°’ì„ ì£¼ëŠ” ê²ƒì„ ê¶Œì¥ë“œë¦½ë‹ˆë‹¤. íŒŒë¼ë¯¸í„° ê°’ì„ ì•ˆ ì£¼ëŠ” ê²½ìš° í•¨ìˆ˜ì˜ ë™ì‘ì´ ì§ê´€ì ì´ì§€ ì•„ë‹ ìˆ˜ ìˆìŠµë‹ˆë‹¤.)

ê·¸ëŸ¬ë‹ˆê¹Œ range(start, stop, step)ì€ startë¶€í„° stop-1ê¹Œì§€ stepì˜ ê°„ê²©ì„ ë‘” ì¸ë±ìŠ¤ ë²”ìœ„ë¥¼ ë§Œë“¤ì–´ ì£¼ëŠ” ê±°ì£ .

range() í•¨ìˆ˜ë¥¼ ì´ìš©í•´ì„œ íŠ¹ì • ìš”ì†Œë“¤ë§Œ ì ‘ê·¼í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.


lst = [1, 2, 3, 4, 5, 6, 7, 8, 9, 10]
n = len(lst)

print("íŒŒë¼ë¯¸í„° 1ê°œ")
for i in range(n):
    print(lst[i])

print("íŒŒë¼ë¯¸í„° 2ê°œ")
for i in range(3, n):
    print(lst[i])

print("íŒŒë¼ë¯¸í„° 3ê°œ")
for i in range(3, n, 2):
    print(lst[i])

íŒŒë¼ë¯¸í„° 1ê°œ
1
2
3
4
5
6
7
8
9
10
íŒŒë¼ë¯¸í„° 2ê°œ
4
5
6
7
8
9
10
íŒŒë¼ë¯¸í„° 3ê°œ
4
6
8
10



## ì›í•˜ëŠ” íƒœê·¸ ì„ íƒí•˜ê¸° III
import requests
from bs4 import BeautifulSoup


response = requests.get("https://workey.codeit.kr/ratings/index")
rating_page = response.text

soup = BeautifulSoup(rating_page, 'html.parser')

tr_tag = soup.select('tr')[1]
td_tags = tr_tag.select('td')
# td_tags = tr_tag.select('*')  // ìì‹ìš”ì†Œì˜ íƒœê·¸ë“¤ì„ ëª¨ë‘ ë¶ˆëŸ¬ ì˜¨ë‹¤.
# print(td_tags)

for tag in td_tags:
    print(tag.get_text())




## ê¿ˆì˜ ì§ì¥ ì „í™”ë²ˆí˜¸ ëª¨ìœ¼ê¸° II
# ì‹¤ìŠµ ì„¤ëª…
ìƒê°í•´ ë³´ë‹ˆ ì˜¤ë Œì§€ ë³´í‹€ ì§€ì ì˜ ì „í™”ë²ˆí˜¸ì— ë”í•´ì„œ, ì§€ì  ì´ë¦„(ì§€ì ì´ ìœ„ì¹˜í•œ ë„ì‹œ)ê³¼ ì£¼ì†Œë„ ìˆìœ¼ë©´ ë„ì›€ì´ ë  ê²ƒ ê°™ìŠµë‹ˆë‹¤. ì˜¤ë Œì§€ ë³´í‹€ì˜ ì›¹ì‚¬ì´íŠ¸ì— ê°€ì„œ, ëª¨ë“  ì§€ì ì˜ ì´ë¦„, ì£¼ì†Œ, ê·¸ë¦¬ê³  ì „í™”ë²ˆí˜¸ë¥¼ branch_infos ë¦¬ìŠ¤íŠ¸ì— ì €ì¥í•´ ì£¼ì„¸ìš”.

í•œ ì§€ì ì— ëŒ€í•œ ì§€ì  ì´ë¦„, ì£¼ì†Œ, ì „í™”ë²ˆí˜¸ë¥¼ ë¦¬ìŠ¤íŠ¸ í˜•ì‹ìœ¼ë¡œ branch_infosì— ë„£ì–´ ì£¼ì„¸ìš”. ë¦¬ìŠ¤íŠ¸ë„ ë³´í†µ ê°’ê³¼ ë‹¤ë¥¼ ê²ƒ ì—†ì´ append()í•´ ì£¼ë©´ ë©ë‹ˆë‹¤.


branch_infos.append([branch_name, address, phone_number])
a7y0og18d-prac3-1(rev).png

ì°¸ê³ ë¡œ ì§€ì  ì´ë¦„ì€ ì£¼í™©ìƒ‰ ë°•ìŠ¤ ì•ˆì— ìˆëŠ” 'San Jose', 'GREAT BARTON' ê°™ì€ ë¶€ë¶„ì´ê³ , ì£¼ì†ŒëŠ” ê²€ì€ìƒ‰ ê¸€ì”¨ë¡œ ë˜ì–´ìˆëŠ” '4823 Fairway Drive', '106 Lammas Street' ê°™ì€ ë¶€ë¶„ì…ë‹ˆë‹¤.

# í•´ì„¤
ë¨¼ì € ì €ë²ˆì²˜ëŸ¼ ì˜¤ë Œì§€ ë³´í‹€ ì›¹ì‚¬ì´íŠ¸ì˜ ì½”ë“œë¥¼ ê°€ì ¸ì˜¨ ë‹¤ìŒ, soupì„ ë§Œë“¤ì–´ ì¤ë‹ˆë‹¤. branch_infos ë¦¬ìŠ¤íŠ¸ë„ ë§Œë“¤ì–´ ì¤„ê²Œìš”.


# HTML ì½”ë“œ ë°›ì•„ì˜¤ê¸°
response = requests.get("https://workey.codeit.kr/orangebottle/index")

# BeautifulSoup ì‚¬ìš©í•´ì„œ HTML ì½”ë“œ ì •ë¦¬
soup = BeautifulSoup(response.text, 'html.parser')

branch_infos = []
ê·¸ë¦¬ê³  ì›¹ì‚¬ì´íŠ¸ ì½”ë“œë¥¼ ì¢€ ì‚´í´ë³¼ê²Œìš”.

a7y0og18d-prac3-1(rev).png

ì§€ì  ì´ë¦„ê³¼ ì „í™”ë²ˆí˜¸ë¥¼ ê°€ì ¸ì˜¤ëŠ” ë°©ë²•ì€ ì—¬ëŸ¬ ê°€ì§€ê°€ ìˆìŠµë‹ˆë‹¤.

ì§€ì  ì´ë¦„ ë¦¬ìŠ¤íŠ¸ì™€ ì „í™”ë²ˆí˜¸ ë¦¬ìŠ¤íŠ¸ë¥¼ ë”°ë¡œ ë§Œë“¤ê³  ë‚˜ì¤‘ì— branch_infosë¦¬ìŠ¤íŠ¸ë¡œ í•©ì³ì£¼ëŠ” ë°©ë²•
ê° ì§€ì ì˜ ì´ë¦„ê³¼ ì „í™”ë²ˆí˜¸ë¥¼ ë°”ë¡œ branch_infosì— ë„£ì–´ì£¼ëŠ” ë°©ë²•
ë‘ ë²ˆì§¸ ë°©ë²•ì„ ì‚´í´ë³´ë„ë¡ í• ê²Œìš”.

ë¨¼ì € ì§€ì  ì •ë³´ ì „ì²´ë¥¼ ë‹´ê³  ìˆëŠ” <div> íƒœê·¸ë¥¼ ê°€ì ¸ì™€ ë´…ì‹œë‹¤.


<div class="branch">
    ...
</div>

# ëª¨ë“  ì§€ì ì— ëŒ€í•œ íƒœê·¸ ê°€ì ¸ì˜¤ê¸°
branch_tags = soup.select('div.branch')
<div> íƒœê·¸ì— ëŒ€í•œ ì„ íƒì(div)ì™€ class="branch"ì— ëŒ€í•œ ì„ íƒì(.branch)ë¥¼ ë¶™ì—¬ ì¨ ì¤¬ìŠµë‹ˆë‹¤.

ì´ì œ ë°˜ë³µë¬¸ì„ í™œìš©í•´ì„œ ê° ì§€ì ì˜ ì´ë¦„ê³¼ ì „í™”ë²ˆí˜¸ë¥¼ ê°€ì ¸ì˜¤ë©´ ë©ë‹ˆë‹¤. ì§€ì  ì´ë¦„ì€ class ì´ë¦„ì´ cityì¸ <p> íƒœê·¸ ì•ˆì— ìˆê³ ìš”.


<p class="city">GREAT BARTON</p>
ì£¼ì†ŒëŠ” class ì´ë¦„ì´ addressì¸ <p> íƒœê·¸ ì•ˆì— ìˆê³ ìš”.


<p class="address">106 Lammas Street</p>
ì „í™”ë²ˆí˜¸ëŠ” ì „ì— ë´¤ë˜ ê²ƒì²˜ëŸ¼ class ì´ë¦„ì´ phoneNumì¸ span íƒœê·¸ ì•ˆì— ìˆìŠµë‹ˆë‹¤.


<span class="phoneNum">070 3460 5076</span>
ì´ê±¸ ì½”ë“œë¡œ ì§œë©´ ì•„ë˜ì™€ ê°™ì€ë°ìš”.


for branch_tag in branch_tags:
    # ê° íƒœê·¸ì—ì„œ ì§€ì  ì´ë¦„, ì „í™”ë²ˆí˜¸ ê°€ì ¸ì˜¤ê¸°
    branch_name = branch_tag.select_one('p.city')
    address = branch_tag.select_one('p.address')
    phone_number = branch_tag.select_one('span.phoneNum')
ë¨¼ì € ê° ì„ íƒìë¡œ í•˜ë‚˜ì˜ íƒœê·¸ë§Œ ê°€ì ¸ì˜¤ë©´ ë˜ë‹ˆê¹Œ select_one()ì„ ì¨ ì¤¬ê³ ìš”, ë¬¸ì„œ ì „ì²´ê°€ ì•„ë‹Œ div íƒœê·¸ ì•ˆì—ì„œ íƒœê·¸ë¥¼ ê°€ì ¸ì˜¤ëŠ” ê±°ê¸° ë•Œë¬¸ì— soup.select_one() ëŒ€ì‹  branch_tag.select_one()ì„ ì¨ ì¤¬ìŠµë‹ˆë‹¤.

ê·¸ë¦¬ê³  ì‚¬ì‹¤ ìš°ë¦¬ê°€ ì›í•˜ëŠ” ê±´ íƒœê·¸ê°€ ì•„ë‹ˆë¼ íƒœê·¸ ì•ˆì— ìˆëŠ” í…ìŠ¤íŠ¸ì£ ? .get_text()ë¥¼ ì¶”ê°€í•´ ì¤ì‹œë‹¤.


for branch_tag in branch_tags:
    # ê° íƒœê·¸ì—ì„œ ì§€ì  ì´ë¦„, ì „í™”ë²ˆí˜¸ ê°€ì ¸ì˜¤ê¸°
    branch_name = branch_tag.select_one('p.city').get_text()
    address = branch_tag.select_one('p.address').get_text()
    phone_number = branch_tag.select_one('span.phoneNum').get_text()
ì´ì œ branch_infosì— branch_name, address, phone_numberë¥¼ ì¶”ê°€í•´ ì£¼ë©´ ë©ë‹ˆë‹¤.


for branch_tag in branch_tags:
    # ê° íƒœê·¸ì—ì„œ ì§€ì  ì´ë¦„, ì „í™”ë²ˆí˜¸ ê°€ì ¸ì˜¤ê¸°
    branch_name = branch_tag.select_one('p.city').get_text()
    address = branch_tag.select_one('p.address').get_text()
    phone_number = branch_tag.select_one('span.phoneNum').get_text()
    branch_infos.append([branch_name, address, phone_number])

# ëª¨ë²” ë‹µì•ˆ

import requests
from bs4 import BeautifulSoup

# HTML ì½”ë“œ ë°›ì•„ì˜¤ê¸°
response = requests.get("https://workey.codeit.kr/orangebottle/index")

# BeautifulSoup ì‚¬ìš©í•´ì„œ HTML ì½”ë“œ ì •ë¦¬
soup = BeautifulSoup(response.text, 'html.parser')

branch_infos = []

# ëª¨ë“  ì§€ì ì— ëŒ€í•œ íƒœê·¸ ê°€ì ¸ì˜¤ê¸°
branch_tags = soup.select('div.branch')

for branch_tag in branch_tags:
    # ê° íƒœê·¸ì—ì„œ ì§€ì  ì´ë¦„, ì „í™”ë²ˆí˜¸ ê°€ì ¸ì˜¤ê¸°
    branch_name = branch_tag.select_one('p.city').get_text()
    address = branch_tag.select_one('p.address').get_text()
    phone_number = branch_tag.select_one('span.phoneNum').get_text()
    branch_infos.append([branch_name, address, phone_number])

# í…ŒìŠ¤íŠ¸ ì½”ë“œ
print(branch_infos)



## find, find_all ë©”ì†Œë“œ

Beautiful Soupì—ëŠ” í•„ìš”í•œ íƒœê·¸ë¥¼ ì„ íƒí•˜ëŠ” ë°©ë²•ì´ í¬ê²Œ ë‘ ê°€ì§€ ìˆìŠµë‹ˆë‹¤:

.select_one(), .select() ë©”ì†Œë“œ í™œìš©
.find(), .find_all() ë©”ì†Œë“œ í™œìš©
1ë²ˆ, 2ë²ˆ ë‹¤ ê¸°ëŠ¥ì´ ë¹„ìŠ·í•˜ê¸° ë•Œë¬¸ì— ë‘˜ ì¤‘ í•˜ë‚˜ë§Œ ì•„ì…”ë„ ë¬´ë°©í•œë°ìš”, 2ë²ˆ ë°©ë²•ë„ ë§ì´ ì“°ì´ê¸° ë•Œë¬¸ì— ì´ë²ˆ ë ˆìŠ¨ì—ì„œ ì„¤ëª…ë“œë¦¬ê² ìŠµë‹ˆë‹¤.

find ì™€ find_all
find()ëŠ” select_one()ê³¼ ë¹„ìŠ·í•˜ê³ , find_all()ì€ select()ì™€ ë¹„ìŠ·í•©ë‹ˆë‹¤.

find()ëŠ” ë§¤ì¹­ë˜ëŠ” íƒœê·¸ë¥¼ (ìµœëŒ€) í•˜ë‚˜ë§Œ ê°€ì ¸ì˜¤ëŠ”ë° ì“°ì´ê³  find_all()ì€ ë§¤ì¹­ë˜ëŠ” íƒœê·¸ë¥¼ ëª¨ë‘ ê°€ì ¸ì˜¤ëŠ”ë° ì“°ì´ëŠ” ê±°ì£ . ë¦¬í„´ê°’ì˜ í˜•ì‹ë„ ë˜‘ê°™ìŠµë‹ˆë‹¤. find()ëŠ” íƒœê·¸ ìì²´ë‚˜ Noneì„ ë¦¬í„´í•˜ê³  find_all()ì€ ë¦¬ìŠ¤íŠ¸ë¥¼ ë¦¬í„´í•©ë‹ˆë‹¤.

í•˜ì§€ë§Œfind(), find_all()ì€ CSS ì„ íƒìë¥¼ ì“°ì§€ ì•Šê³  ì—¬ëŸ¬ íŒŒë¼ë¯¸í„°ë¥¼ í™œìš©í•©ë‹ˆë‹¤. ì§€ê¸ˆë¶€í„° find(), find_all()ì˜ ë¬¸ë²•ì„ ì„¤ëª…ë“œë¦´ í…ë°, ë‘˜ ë‹¤ ë¬¸ë²•ì´ ë˜‘ê°™ê¸° ë•Œë¬¸ì— find_all() ìœ„ì£¼ë¡œ ì˜ˆì‹œë¥¼ ë“¤ê²Œìš”.

íƒœê·¸ ì´ë¦„ ì‚¬ìš©
find(), find_all()ë„ soupì—ë„ ì“¸ ìˆ˜ ìˆê³ , íƒœê·¸ì—ë„ ì“¸ ìˆ˜ ìˆìŠµë‹ˆë‹¤.


soup.find_all('tagname')
# ì˜ˆ: soup.find_all('p')

soup.find_all(['tagname1', 'tagname2'])
# ì˜ˆ: soup.find_all(['p', 'a'])
íƒœê·¸ ì´ë¦„ìœ¼ë¡œ íƒœê·¸ë¥¼ ì„ íƒí•˜ë ¤ë©´ íƒœê·¸ ì´ë¦„ì„ íŒŒë¼ë¯¸í„°ë¡œ ë„£ì–´ì£¼ê±°ë‚˜, ì—¬ëŸ¬ íƒœê·¸ ì´ë¦„ì„ ë¦¬ìŠ¤íŠ¸ë¡œ ë„£ì–´ì¤ë‹ˆë‹¤.

ì²« ë²ˆì§¸ ì˜ˆì‹œëŠ” HTML ë¬¸ì„œì—ì„œ ëª¨ë“  p íƒœê·¸ë¥¼ ì°¾ëŠ” ê²ƒì´ê³ , ë‘ ë²ˆì§¸ ì˜ˆì‹œëŠ” HTML ë¬¸ì„œì—ì„œ ëª¨ë“  p íƒœê·¸ì™€ a íƒœê·¸ë¥¼ ì°¾ëŠ” ê²ë‹ˆë‹¤.

ì°¸ê³ ë¡œ ëª¨ë“  íƒœê·¸ë¥¼ ì„ íƒí•  ìˆ˜ë„ ìˆëŠ”ë° ì´ê±´ íƒœê·¸ ì•ˆì— ìˆëŠ” ëª¨ë“  íƒœê·¸ë¥¼ ê°€ì ¸ì˜¬ ë•Œ ìœ ìš©í•˜ê² ì£ ?


tag.find_all(True)
ëª¨ë“  íƒœê·¸ë¥¼ ê°€ì ¸ì˜¤ë ¤ë©´ find_all() ì•ˆì— Trueë¥¼ ë„£ì–´ ì¤ë‹ˆë‹¤.

ì†ì„± ì‚¬ìš©

soup.find_all('tagname', attr1='val1', attr2='val2', ...)
# ì˜ˆ: soup.find_all('p', id="some-id", class_="some-class")
íƒœê·¸ë¥¼ ì°¾ëŠ”ë° íƒœê·¸ì˜ ì†ì„±ì„ ì´ìš©í•´ì„œ í•„í„°ë¥¼ í•˜ê³  ì‹¶ë‹¤ë©´ ì†ì„± ì´ë¦„ê³¼ ì†ì„± ê°’ì„ ì­‰ ì¨ ì£¼ë©´ ë©ë‹ˆë‹¤.

idì™€ classë„ ì¼ë°˜ ì†ì„±ì²˜ëŸ¼ ì¨ ì£¼ë©´ ë˜ëŠ”ë° (CSS ì„ íƒìëŠ” idì™€ class ì†ì„±ì„ ìœ„í•œ íŠ¹ìˆ˜ ë¬¸ë²• #ê³¼ .ì´ ìˆì—ˆë˜ ê²ƒ ê¸°ì–µí•˜ì‹œì£ ?) ìœ ì¼í•˜ê²Œ ì†ì„± ì¤‘ classëŠ” class_ë¡œ ì¨ ì¤˜ì•¼ í•©ë‹ˆë‹¤. íŒŒì´ì¬ì—ì„œ classëŠ” í´ë˜ìŠ¤ë¥¼ ë§Œë“œëŠ”ë° ì‚¬ìš©ë˜ëŠ” ì´ë¯¸ ì˜ˆì•½ëœ ë‹¨ì–´ì´ê¸° ë•Œë¬¸ì´ì£ .

ìœ„ ì˜ˆì‹œëŠ” idê°€ some-idì´ê³  classê°€ some-classì¸ p íƒœê·¸ë¥¼ ëª¨ë‘ ì°¾ëŠ”ë‹¤ëŠ” ëœ»ì…ë‹ˆë‹¤.

ì°¸ê³ ë¡œ ì†ì„±ë§Œìœ¼ë¡œ í•„í„°ë¥¼ í•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤. ê·¸ëƒ¥ íƒœê·¸ ì´ë¦„ì„ ì•ˆ ì¨ ì£¼ë©´ ë©ë‹ˆë‹¤.


soup.find_all(attr1='val1', attr2='val2', ...)
# ì˜ˆ: soup.find_all(id="some-id", class_="some-class")
ìœ„ ì˜ˆì‹œëŠ” idê°€ some-idì´ê³  classê°€ some-classì¸ ëª¨ë“  íƒœê·¸ë¥¼ ì°¾ëŠ”ë‹¤ëŠ” ëœ»ì…ë‹ˆë‹¤.

ë§ˆì§€ë§‰ìœ¼ë¡œ find(), find_all()ì€ íŠ¹ì • ì†ì„±ì´ ìˆëŠ”ì§€ ì—†ëŠ”ì§€ë¥¼ ì¡°ê±´ìœ¼ë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì†ì„± ê°’ ëŒ€ì‹  Trueë‚˜ Falseë¥¼ ì¨ ì£¼ë©´ ë©ë‹ˆë‹¤.


# ì˜ˆ: soup.find_all('p', id=True, class_=False)
ìœ„ ì˜ˆì‹œëŠ” id ì†ì„±ì€ ìˆì§€ë§Œ class ì†ì„±ì€ ì—†ëŠ” p íƒœê·¸ë¥¼ ëª¨ë‘ ì°¾ëŠ”ë‹¤ëŠ” ëœ»ì…ë‹ˆë‹¤.

ì¤‘ì²© íƒœê·¸
find(), find_all()ì€ ì¤‘ì²©ì— ëŒ€í•œ ë¬¸ë²•ì´ ì—†ê¸° ë•Œë¬¸ì—, íƒœê·¸ ì•ˆì— ì¤‘ì²©ëœ íƒœê·¸ë¥¼ ì°¾ìœ¼ë ¤ë©´ íƒœê·¸ì— find(), find_all()ì„ ì‚¬ìš©í•´ì•¼ í•©ë‹ˆë‹¤.


...
    <div class="some-class">
      <p>Paragraph 1</p>
      <p>Paragraph 2</p>
      <p>Paragraph 3</p>
    </div>
...

# select - ì„ íƒìë¡œ ì¤‘ì²©ëœ p íƒœê·¸ ì„ íƒ
soup.select('div.some-class p')

# find_all - ë¨¼ì € div íƒœê·¸ë¥¼ ê°€ì ¸ì˜¨ í›„ div íƒœê·¸ì— find_all()
div_tag = soup.find('div', class_='some-class')
div_tag.find_all('p')
ì•ì„œ ë§ì”€ë“œë ¸ë“¯ì´ ë‘ ë°©ì‹ì˜ ê¸°ëŠ¥ì€ ê±°ì˜ ë˜‘ê°™ê¸° ë•Œë¬¸ì— ë” í¸í•˜ì‹  ë°©ì‹ì„ ì‚¬ìš©í•˜ì‹œë©´ ë©ë‹ˆë‹¤. í•˜ì§€ë§Œ ë‹¤ìŒ ì±•í„°ì—ì„œëŠ” Seleniumì´ë¼ëŠ” ë„êµ¬ì— ëŒ€í•´ ë°°ì›Œë³¼ ê±´ë°, Seleniumì„ ì‚¬ìš©í•  ë•ŒëŠ” CSS ì„ íƒìë¥¼ ê³„ì† ì“¸ ê²ë‹ˆë‹¤. ì´ ì  ìœ ì˜í•´ ì£¼ì„¸ìš”.


##### ì›¹í˜ì´ì§€ ë‚´ìš© ìŠ¤í¬ë© #####
import requests
from bs4 import BeautifulSoup


response = requests.get("https://ashasleti.tistory.com/875")
rating_page = response.text

soup = BeautifulSoup(rating_page, 'html.parser')

td_tags = soup.select('div.tt_article_useless_p_margin')

for tag in td_tags:
    print(tag.get_text())


###############################


## íƒœê·¸ ì¤‘ë³µì„± í™•ì¸í•˜ê¸°

import requests
from bs4 import BeautifulSoup

response = requests.get("https://workey.codeit.kr/music")
music_page = response.text

soup = BeautifulSoup(music_page, 'html.parser')

print(soup.select('ul.popular__order li'))


## íƒœê·¸ì—ì„œ í…ìŠ¤íŠ¸ ë¹¼ì˜¤ê¸°
import requests
from bs4 import BeautifulSoup

response = requests.get("https://workey.codeit.kr/music")
music_page = response.text

soup = BeautifulSoup(music_page, 'html.parser')

popular_artists = []

# for tag in soup.select('ul.popular__order li'):
#     popular_artists.append(tag.get_text().strip())

for tag in soup.select('ul.popular__order li'):
    popular_artists.append(list(tag.stripped_strings)[1]) //ì¤„ë°”ê¿ˆ ê³µë°± ì—†ì• ê¸°
    
print(popular_artists)    


## íŒŒì´ì¬ ë¬¸ìì—´ ë‹¤ë£¨ê¸°

# ìë¥´ê³  ë”í•˜ê¸°
íŒŒì´ì¬ ë¬¸ìì—´ì€ ìŠ¬ë¼ì´ì‹±ì„ í†µí•´ ìë¥¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ê° ì¸ë±ìŠ¤ì— í•˜ë‚˜ì˜ ê¸€ì(ë¬¸ì)ê°€ ìˆë‹¤ê³  ìƒê°í•˜ì‹œë©´ ë©ë‹ˆë‹¤.


message = "I love coding"

message1 = message[:7] # message ì•ì— 7ê¸€ì ì˜ë¼ë‚´ê¸°
print(message1)

message2 = message[-6:] # message ë’¤ì— 6ê¸€ì ì˜ë¼ë‚´ê¸°
print(message2)

message3 = message[::2] # messageì—ì„œ 2ê¸€ìì”© ê±´ë„ˆë›°ê¸°
print(message3)

I love 
coding
Ilv oig
+ ì—°ì‚°ìë¥¼ ì‚¬ìš©í•˜ë©´ ë¬¸ìì—´ì„ ì„œë¡œ ë”í•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.


message1 = "I love "
message2 = "coding"

print(message1 + message2)

I love coding

# Strip
strip()ì€ ë¬¸ìì—´ ì–‘ ì˜†ì— ê³µë°±ì„ ì œê±°í•´ ì¤ë‹ˆë‹¤.

ì˜ë„ì¹˜ ì•Šê²Œ ë°ì´í„°ì˜ ì‹œì‘ì´ë‚˜ ëì— ê³µë°±ì´ ë“¤ì–´ìˆì„ ë•Œ, ì´ê±¸ ì œê±°í•˜ê¸° ìœ„í•´ ì‚¬ìš©í•©ë‹ˆë‹¤.

ë¬¸ìì—´ ì¤‘ê°„ì— ìˆëŠ” ê³µë°±ì€ ê·¸ëŒ€ë¡œ ë‚¨ì•„ìˆìŠµë‹ˆë‹¤.


message = " ìƒˆë¡œìš´ ì½”ë”© êµìœ¡ì˜ ì‹œì‘, ì½”ë“œì‡ "

print(message.strip())

ìƒˆë¡œìš´ ì½”ë”© êµìœ¡ì˜ ì‹œì‘, ì½”ë“œì‡

# Split
split()ì€ íŠ¹ì • ë¬¸ì(êµ¬ë¶„ì)ë¥¼ ê¸°ì¤€ìœ¼ë¡œ ë¬¸ìì—´ì„ ë¶„ë¦¬í•´ ì¤ë‹ˆë‹¤.

ë°ì´í„°ì—ì„œ íŠ¹ì • ë¶€ë¶„ì„ ì¶”ì¶œí•´ ë‚¼ ë•Œ ìœ ìš©í•©ë‹ˆë‹¤.


phone_number = "010-0000-1111"

print(phone_number.split("-")) 
print(phone_number.split("-")[2]) # ì „í™”ë²ˆí˜¸ ë§ˆì§€ë§‰ 4ìë¦¬ë§Œ 

["010", "0000", "1111"]
1111
êµ¬ë¶„ìë¥¼ ì•„ë¬´ê²ƒë„ ë„£ì§€ ì•Šìœ¼ë©´, ê¸°ë³¸ì ìœ¼ë¡œ ê³µë°±ì´ êµ¬ë¶„ìê°€ ë©ë‹ˆë‹¤. ì—¬ê¸°ì„œ ê³µë°±ì€ ê³µë°± í•œ ì¹¸ì´ ì•„ë‹Œ ì—°ì†ë˜ëŠ” ê³µë°±ì„ ëœ»í•©ë‹ˆë‹¤.


address = "ì„œìš¸íŠ¹ë³„ì‹œ ì¢…ë¡œêµ¬   ì„¸ì¢…ë¡œ\n ì²­ì™€ëŒ€ë¡œ      1"

print(address.split())

["ì„œìš¸íŠ¹ë³„ì‹œ", "ì¢…ë¡œêµ¬", "ì„¸ì¢…ë¡œ", "ì²­ì™€ëŒ€ë¡œ", "1"]
(ìœ„ì—ì„œ \nì€ ì¤„ë°”ê¿ˆì„ ëœ»í•˜ëŠ” íŠ¹ìˆ˜ë¬¸ìì…ë‹ˆë‹¤)

# Join
join()ì„ í™œìš©í•˜ë©´ ì—¬ëŸ¬ ë¬¸ìì—´ì„ í•©ì¹  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ë¦¬ìŠ¤íŠ¸ì— ìˆëŠ” ëª¨ë“  ë¬¸ìì—´ì„ join() ëŒ€ìƒì˜ ë¬¸ìì—´ ê¸°ì¤€ìœ¼ë¡œ í•©ì³ì¤ë‹ˆë‹¤.


phone_number_segments = ["010", "0000", "1111"]

print("-".join(phone_number_segments))

010-0000-1111

# Replace
replace()ë¼ëŠ” ê±¸ ì‚¬ìš©í•˜ë©´ ë¬¸ìì—´ì˜ ì¼ë¶€ë¶„ì„ ë‹¤ë¥¸ ë¬¸ìì—´ë¡œ ë°”ê¿€ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

íŒŒë¼ë¯¸í„°ë¡œ ë‘ ë¬¸ìì—´ì„ ë°›ëŠ”ë°ìš”, ì²« ë²ˆì§¸ ë¬¸ìì—´ì„ ëª¨ë‘ ë‘ ë²ˆì§¸ ë¬¸ìì—´ë¡œ ë°”ê¿”ì¤ë‹ˆë‹¤.

ì˜ˆë¥¼ ë“¤ì–´ ì•„ë˜ ì½”ë“œëŠ” ë©”ì‹œì§€ì˜ 'Codeit'ì´ë¼ëŠ” ë¶€ë¶„ì„ ë‹¤ í•œê¸€ 'ì½”ë“œì‡'ìœ¼ë¡œ ë°”ê¿”ì¤ë‹ˆë‹¤.


message = "Codeitì€ ì—¬ëŸ¬ë¶„ì„ ì‘ì›í•©ë‹ˆë‹¤. Codeitì€ ì—¬ëŸ¬ë¶„ê³¼ í•¨ê»˜í•©ë‹ˆë‹¤. ìƒˆë¡œìš´ ì½”ë”© êµìœ¡ì˜ ì‹œì‘, Codeit!"

print(message.replace("Codeit", "ì½”ë“œì‡")) 

ì½”ë“œì‡ì€ ì—¬ëŸ¬ë¶„ì„ ì‘ì›í•©ë‹ˆë‹¤. ì½”ë“œì‡ì€ ì—¬ëŸ¬ë¶„ê³¼ í•¨ê»˜í•©ë‹ˆë‹¤. ìƒˆë¡œìš´ ì½”ë”© êµìœ¡ì˜ ì‹œì‘, ì½”ë“œì‡!

# Lower, Upper, Capitalize
ì´ë²ˆì—ëŠ” ì˜ì–´ ì²˜ë¦¬ì¸ë°ìš”.

lower()ëŠ” ëª¨ë‘ ì†Œë¬¸ìë¡œ,

upper()ëŠ” ëª¨ë‘ ëŒ€ë¬¸ìë¡œ,

capitalize()ëŠ” ì• ê¸€ìë§Œ ëŒ€ë¬¸ìë¡œ ë°”ê¾¸ê³  ë‚˜ë¨¸ì§€ëŠ” ì†Œë¬¸ìë¡œ ë°”ê¾¸ëŠ” ê²ë‹ˆë‹¤.


word = "codeIt" # Ië§Œ ëŒ€ë¬¸ì

print(word.lower())
print(word.upper())
print(word.capitalize())

codeit
CODEIT
Codeit

# ìœ ì˜ì‚¬í•­
ëª¨ë“  ë¬¸ìì—´ ë©”ì†Œë“œëŠ” ë¬¸ìì—´ ìì²´ë¥¼ ë³€í˜•í•˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼, ë³€í˜•ëœ ë¬¸ìì—´ì„ ë¦¬í„´í•˜ëŠ” ê²ë‹ˆë‹¤.

ì˜ˆ)


word = "codeIt" # Ië§Œ ëŒ€ë¬¸ì

print(word.lower())
print(word.upper())
print(word.capitalize())
print(word) # wordëŠ” ê·¸ëŒ€ë¡œì„

codeit
CODEIT
Codeit
codeIt
ë³€í˜•ëœ ê°’ì„ ê³„ì† ì‚¬ìš©í•˜ê³  ì‹¶ë‹¤ë©´ ë¦¬í„´ê°’ì„ ìƒˆë¡œìš´ ë³€ìˆ˜ì— ì €ì¥í•´ ì¤˜ì•¼ê² ì£ ?


word = "codeIt" # Ië§Œ ëŒ€ë¬¸ì

lower_case_word = word.lower()
upper_case_word = word.upper()
capitalized_word = word.capitalize()

print(lower_case_word)
print(upper_case_word)
print(capitalized_word)

codeit
CODEIT
Codeit


## ê²€ìƒ‰ì–´ ìˆœìœ„ ë°›ì•„ì˜¤ê¸°

# ì‹¤ìŠµ ì„¤ëª…
ì´ë²ˆì—ëŠ” ìŒì•… ì‚¬ì´íŠ¸(https://workey.codeit.kr/music/index)ì˜ ê²€ìƒ‰ì–´ ìˆœìœ„ë¥¼ ë°›ì•„ì˜¤ë ¤ í•©ë‹ˆë‹¤.

'ì¸ê¸° ì•„í‹°ìŠ¤íŠ¸' ì•„ë˜ì— ìˆëŠ” 'ê²€ìƒ‰ì–´ ìˆœìœ„'ì˜ 1ìœ„~10ìœ„ ë°ì´í„°ë¥¼ popular_searches ë¦¬ìŠ¤íŠ¸ì— ë‹´ì•„ ì£¼ì„¸ìš”.

ìˆœìœ„, ìˆœìœ„ ë³€ë™ì„ ì œì™¸í•œ ê²€ìƒ‰ì–´ë§Œ ë¦¬ìŠ¤íŠ¸ì— ë‹´ì•„ ì£¼ì„¸ìš”.

# ì‹¤ìŠµ ê²°ê³¼
['Queen', 'ë°©íƒ„ì†Œë…„ë‹¨', 'ì•„ì´ìœ ', 'ê±°ë¯¸', 'í´í‚´', 'ê¹€ë²”ìˆ˜', 'í—¤ì´ì¦ˆ', 'íŠ¸ì™€ì´ìŠ¤', 'ë°•íš¨ì‹ ', 'ì‹ ìš©ì¬']

# í•´ì„¤
ë¨¼ì € soupì„ ë§Œë“¤ì–´ ì¤ë‹ˆë‹¤.


response = requests.get("https://workey.codeit.kr/music/index")

soup = BeautifulSoup(response.text, 'html.parser')


ê²€ìƒ‰ì–´ ìˆœìœ„ ë¦¬ìŠ¤íŠ¸ëŠ”

<ul class="rank__order">
    ...
</ul>
class ì´ë¦„ì´ rank__orderì¸ ul íƒœê·¸ì— ìˆì£ ?

ê·¸ë¦¬ê³  ul íƒœê·¸ ì•ˆì— ìˆëŠ” li íƒœê·¸ì— ì›í•˜ëŠ” ì •ë³´ê°€ ìˆìŠµë‹ˆë‹¤.

ì´ì „ ì˜ìƒì—ì„œ ë´¤ë˜ ê²ƒì²˜ëŸ¼, ì¤‘ì²© ìš”ì†Œ ì„ íƒìë¥¼ ì´ìš©í•´ì„œ li íƒœê·¸ë“¤ì„ ê°€ì ¸ì™€ ë´…ì‹œë‹¤.


# <ul class="rank__order">ì— ì¤‘ì²©ëœ <li> íƒœê·¸ ì„ íƒ
for tag in soup.select('ul.rank__order li'):
CSS ì„ íƒìì—ì„œ ë„ì–´ì“°ê¸°ëŠ” ì¤‘ì²© ìš”ì†Œë¥¼ ëœ»í•©ë‹ˆë‹¤.

ì´ì œ ê° li íƒœê·¸ ì•ˆì—ì„œ ê²€ìƒ‰ì–´ë¥¼ ê°€ì ¸ì™€ì•¼ í•˜ëŠ”ë°ìš”. ë‹¤ì‹œ ìœ„ì— ì‚¬ì§„ì„ ë³´ì‹œë©´ li íƒœê·¸ ì•ˆì—ëŠ” ì´ 3ê°€ì§€ í…ìŠ¤íŠ¸ ìš”ì†Œê°€ ìˆìŠµë‹ˆë‹¤:

ê·¸ë¦¬ê³  ê²€ìƒ‰ì–´ì—ëŠ” ê³µë°±ë„ ìˆê³ ìš”. íƒœê·¸ì˜ í…ìŠ¤íŠ¸ ìš”ì†Œë¥¼ ë”°ë¡œ ê°€ì ¸ì˜¤ë ¤ë©´ .stripped_stringsë¥¼ ì“°ë©´ ë©ë‹ˆë‹¤ (.stripped_stringsëŠ” ê° í…ìŠ¤íŠ¸ì˜ ê³µë°±ë„ ì œê±°í•´ ì¤ë‹ˆë‹¤).

ê·¸ëŸ°ë° .stripped_stringsë¥¼ ì‚¬ìš©í•  ë•ŒëŠ”, ê·¸ê±¸ ë¦¬ìŠ¤íŠ¸ë¡œ ë§Œë“¤ì–´ ì¤˜ì•¼ í•©ë‹ˆë‹¤.


list(tag.stripped_strings)
ì²« ë²ˆì§¸ tagì˜ stripped_strings ë¦¬ìŠ¤íŠ¸ë¥¼ ì¶œë ¥í•´ ë³´ë©´ ì•„ë˜ì™€ ê°™ì´ ë‚˜ì˜µë‹ˆë‹¤.


print(list(tag.stripped_strings))

['1', '0', 'Queen']
ìš°ë¦¬ëŠ” ì„¸ ë²ˆì§¸ ìš”ì†Œë§Œ ê°€ì ¸ì˜¤ë©´ ë˜ê² ì£ ?


search_word = list(tag.stripped_strings)[2]
ê·¸ëŸ¼ ì´ê±¸ popular_searchesì— ì¶”ê°€í•´ ì£¼ë©´, ì½”ë“œê°€ ì™„ì„±ë©ë‹ˆë‹¤.


# <ul class="rank__order">ì— ì¤‘ì²©ëœ <li> íƒœê·¸ ì„ íƒ
for tag in soup.select('ul.rank__order li'):

    # li íƒœê·¸ì˜ í…ìŠ¤íŠ¸ ìš”ì†Œ ì¤‘ ì„¸ ë²ˆì§¸ ê°€ì ¸ì˜¤ê¸°
    search_word = list(tag.stripped_strings)[2]
    popular_searches.append(search_word)

# í•´ë‹µ ì½”ë“œ

import requests
from bs4 import BeautifulSoup

response = requests.get("https://workey.codeit.kr/music/index")

soup = BeautifulSoup(response.text, 'html.parser')

popular_searches = []

# <ul class="rank__order">ì— ì¤‘ì²©ëœ <li> íƒœê·¸ ì„ íƒ
for tag in soup.select('ul.rank__order li'):

    # li íƒœê·¸ì˜ í…ìŠ¤íŠ¸ ìš”ì†Œ ì¤‘ ì„¸ ë²ˆì§¸ ê°€ì ¸ì˜¤ê¸°
    search_word = list(tag.stripped_strings)[2]
    popular_searches.append(search_word)

# ì¶œë ¥ ì½”ë“œ
print(popular_searches)

['Queen', 'ë°©íƒ„ì†Œë…„ë‹¨', 'ì•„ì´ìœ ', 'ê±°ë¯¸', 'í´í‚´', 'ê¹€ë²”ìˆ˜', 'í—¤ì´ì¦ˆ', 'íŠ¸ì™€ì´ìŠ¤', 'ë°•íš¨ì‹ ', 'ì‹ ìš©ì¬']


# í•˜ë£¨ ì •ë‹µ
import requests
from bs4 import BeautifulSoup

# ì—¬ê¸°ì— ì½”ë“œë¥¼ ì‘ì„±í•˜ì„¸ìš”
response = requests.get("https://workey.codeit.kr/music/index")
music_page = response.text

soup = BeautifulSoup(music_page, 'html.parser')

popular_searches = []

for tag in soup.select('ul.rank__order li'):
    popular_searches.append(list(tag.stripped_strings)[2])

# í…ŒìŠ¤íŠ¸ ì½”ë“œ
print(popular_searches)


## íƒœê·¸ì—ì„œ ì†ì„± ë¹¼ì˜¤ê¸°

import requests
from bs4 import BeautifulSoup

response = requests.get("https://workey.codeit.kr/music")
music_page = response.text

soup = BeautifulSoup(music_page, 'html.parser')

print(soup.select_one('img').attrs) 
# íƒœê·¸ì˜ ëª¨ë“ ì†ì„±(ì‚¬ì „ í˜•ì‹ìœ¼ë¡œ ì €ì¥ë˜ì–´ ìˆë‹¤.)

# print(soup.select_one('img')['src'])



## Beautiful Soup ë” ê°„ê²°í•˜ê²Œ

ì´ë²ˆ ë ˆìŠ¨ì—ì„œëŠ” Beautiful Soup ì½”ë“œë¥¼ ì¡°ê¸ˆ ë” ê°„ê²°í•˜ê²Œ ì“°ëŠ” íŒì„ ëª‡ ê°€ì§€ ë“œë¦´ê²Œìš”.

# .tagname ë¬¸ë²•
ì²« ë²ˆì§¸ëŠ” .select_one('tagname'), ì¦‰ íƒœê·¸ ì´ë¦„ìœ¼ë¡œ íƒœê·¸ë¥¼ ì°¾ëŠ” ì½”ë“œë¥¼ ë” ê°„ê²°í•˜ê²Œ ì“°ëŠ” ë°©ë²•ì…ë‹ˆë‹¤.

íƒœê·¸ ì´ë¦„ìœ¼ë¡œ íƒœê·¸ë¥¼ ì°¾ëŠ” ë°©ë²•ì€ ì›Œë‚™ ë§ì´ ì“°ì´ê¸° ë•Œë¬¸ì— ë” ê°„ê²°í•œ ë¬¸ë²•ì´ ì¡´ì¬í•˜ëŠ”ë°ìš”. ë°”ë¡œ .tagnameì…ë‹ˆë‹¤. ì•„ë˜ì™€ ê°™ì´ ì“°ë©´ ë©ë‹ˆë‹¤.


soup.tagname # soup.select_one('tagname')ê³¼ ë™ì¼
tag.tagname # tag.select_one('tagname')ê³¼ ë™ì¼
ì˜ˆë¥¼ ë“¤ì–´, ì•„ë˜ div íƒœê·¸ì—ì„œ h2, p, a íƒœê·¸ì˜ ì •ë³´ë¥¼ ê°€ì ¸ì™€ì•¼ í•œë‹¤ê³  í•©ì‹œë‹¤.


...
    <div class="data">
      <h2>ì œëª©</h2>
      <p>ë‚´ìš©</p>
      <a href="www.example.com">ë§í¬</a>
    </div>
...
selectë¥¼ ì´ìš©í•˜ë©´ ì•„ë˜ì™€ ê°™ì´ ì½”ë“œë¥¼ ì¨ì•¼ í•˜ëŠ”ë°ìš”.


div_tag = soup.select_one('div.data')
title = div_tag.select_one('h2').get_text()
content = div_tag.select_one('p').get_text()
link = div_tag.select_one('a')['href']
.tagname ë¬¸ë²•ì„ ì“°ë©´, ì•„ë˜ì™€ ê°™ì´ ì½”ë“œê°€ ë°”ë€ŒëŠ” ê±°ì£ .


div_tag = soup.select_one('div.data')
title = div_tag.h2.get_text()
content = div_tag.p.get_text()
link = div_tag.a['href']
ì½”ë“œê°€ ë” ê°„ë‹¨í•´ì¡Œì£ ?

# ë©”ì†Œë“œ ì²´ì´ë‹
ë‘ ë²ˆì§¸ëŠ” ë©”ì†Œë“œ ì²´ì´ë‹ (Method Chaining)ì…ë‹ˆë‹¤.

ë³„ë¡œ ì–´ë ¤ìš´ ê°œë…ì€ ì•„ë‹Œë°ìš”. ì²´ì¸(Chain)ì€ ì‚¬ìŠ¬ì„ ëœ»í•˜ì£ ? ë©”ì†Œë“œ ì²´ì´ë‹ì€ ë©”ì†Œë“œì˜ ë¦¬í„´ê°’ì„ ë³€ìˆ˜ì— ì €ì¥í•˜ì§€ ì•Šê³ , ë¦¬í„´ê°’ì— ë°”ë¡œ ë˜ ë‹¤ë¥¸ ë©”ì†Œë“œë¥¼ í˜¸ì¶œí•˜ëŠ” ê²ƒì„ ëœ»í•©ë‹ˆë‹¤. ë©”ì†Œë“œë¥¼ ì‚¬ìŠ¬ì²˜ëŸ¼ ì—°ê²°í•˜ê¸° ë•Œë¬¸ì— ë©”ì†Œë“œ ì²´ì´ë‹ì´ë¼ê³  ë¶€ë¥´ëŠ” ê±°ì£ .

ì˜ˆë¥¼ ë“¤ì–´ select_one() ë©”ì†Œë“œëŠ” íƒœê·¸ë¥¼ ë¦¬í„´í•˜ëŠ”ë°ìš”. select_one() ë°”ë¡œ ë’¤ì— íƒœê·¸ì— ì“°ëŠ” ë©”ì†Œë“œë¥¼ í˜¸ì¶œí•´ ì£¼ë©´ ë©ë‹ˆë‹¤.  select_one(), select(), get_text() ê°™ì€ ê²ƒë“¤ì´ ìˆê² ì£ ?


# 1. selector1ì— ë§¤ì¹­ë˜ëŠ” íƒœê·¸ë¥¼ ì°¾ì€ ë‹¤ìŒ ê·¸ ì•ˆì—ì„œ selector2ì— ë§¤ì¹­ë˜ëŠ” íƒœê·¸ ì„ íƒ
soup.select_one(selector1).select_one(selector2)

# 2. selector1ì— ë§¤ì¹­ë˜ëŠ” íƒœê·¸ë¥¼ ì°¾ì€ ë‹¤ìŒ ê·¸ ì•ˆì—ì„œ selector2ì— ë§¤ì¹­ë˜ëŠ” ëª¨ë“  íƒœê·¸ ì„ íƒ
soup.select_one(selector1).select(selector2) 

# 3. selector1ì— ë§¤ì¹­ë˜ëŠ” íƒœê·¸ë¥¼ ì°¾ì€ ë‹¤ìŒ ê·¸ ì•ˆì—ì„œ í…ìŠ¤íŠ¸ ì¶”ì¶œ
soup.select_one(selector1).get_text()
ë©”ì†Œë“œ ì²´ì´ë‹ì„ ì‚¬ìš©í•˜ë©´ ì½”ë“œê°€ ë” ê°„ê²°í•´ ì§€ì§€ë§Œ, ì½”ë“œì˜ ê°€ë…ì„±ì€ ë–¨ì–´ì§ˆ ìˆ˜ ìˆìœ¼ë‹ˆê¹Œ ì£¼ì˜í•´ ì£¼ì„¸ìš”. íŠ¹íˆ ì²´ì¸ì´ ë„ˆë¬´ ê¸¸ì–´ì§€ë©´ ì½”ë“œì˜ ê°€ë…ì„±ì´ ë–¨ì–´ì§ˆ ê²ë‹ˆë‹¤.

ì°¸ê³ ë¡œ ì´ë²ˆ ë ˆìŠ¨ ì²« ë¶€ë¶„ì—ì„œ ë³¸ .tagname ë¬¸ë²•ë„ ì²´ì´ë‹ì„ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. íƒœê·¸ë¥¼ ê³„ì† íƒ€ê³  ë“¤ì–´ê°€ì•¼ í•  ë•Œ .tagnameì„ ê³„ì† ë¶™ì—¬ ì¨ ì£¼ë©´ ë©ë‹ˆë‹¤.


...
    <div class="data">
      <div>
        <h2>ì œëª©</h2>
        <p>ë‚´ìš©<b>í‚¤ì›Œë“œ</b>ë‚´ìš©</p>
        <a href="www.example.com">ë§í¬</a>
      </div>
    </div>
...
ì˜ˆë¥¼ ë“¤ì–´ ìœ„ì™€ ê°™ì€ HTML êµ¬ì¡°ì—ì„œ b íƒœê·¸ ì•ˆì— ìˆëŠ” í‚¤ì›Œë“œë¥¼ ê°€ì ¸ì™€ì•¼ í•œë‹¤ë©´. ì•„ë˜ì™€ ê°™ì€ ì½”ë“œë¥¼ ì“¸ ìˆ˜ ìˆìŠµë‹ˆë‹¤.


div_tag = soup.select_one('div.data')
keyword = div_tag.div.p.b.get_text()
print(keyword)

í‚¤ì›Œë“œ


### Beautiful Soup ì •ë¦¬ ë…¸íŠ¸

## Beautiful Soup ë¼ì´ë¸ŒëŸ¬ë¦¬
Beautiful Soupì€ HTML ì½”ë“œì—ì„œ í•„ìš”í•œ ì •ë³´ë¥¼ ì¶”ì¶œí•´ ì£¼ëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬ì…ë‹ˆë‹¤. Beautiful Soupì„ ì´ìš©í•˜ë©´ HTML ë¬¸ì„œì—ì„œ í•„ìš”í•œ íƒœê·¸ë¥¼ ì‰½ê²Œ ì°¾ì„ ìˆ˜ ìˆê³ , íƒœê·¸ ì•ˆì— ìˆëŠ” ë‹¤ì–‘í•œ ì •ë³´ë„ ì‰½ê²Œ ê°€ì ¸ì˜¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

Beautiful Soup ê³µì‹ ë¬¸ì„œ 

## Beautiful Soup ì„í¬íŠ¸

import requests
from bs4 import BeautifulSoup
íŒŒì´ì¬ì—ì„œëŠ” Beautiful Soup ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ bs4ë¼ê³  í•˜ëŠ”ë°ìš”. bsëŠ” Beautiful Soupì„ ì¤„ì¸ ê²ƒì´ê³ , 4ëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬ ë²„ì „ì„ ëœ»í•©ë‹ˆë‹¤. 4ê°€ ê°€ì¥ ìµœì‹  ë²„ì „ì…ë‹ˆë‹¤.

bs4ì—ì„œ BeautifulSoupì´ë¼ëŠ” ê±¸ ê°€ì ¸ì™€ ì¤ë‹ˆë‹¤.

Beautiful Soup ë¼ì´ë¸ŒëŸ¬ë¦¬ë¡œëŠ” ì›¹ì— ìš”ì²­ì„ ë³´ë‚¼ ìˆ˜ ì—†ê¸° ë•Œë¬¸ì— requests ë¼ì´ë¸ŒëŸ¬ë¦¬ë„ ì„í¬íŠ¸í•´ ì¤ë‹ˆë‹¤.

## BeautifulSoup ë§Œë“¤ê¸°

# URLì— ìš”ì²­ ë³´ë‚´ê¸°
response = requests.get(URL) 

# ë°›ì•„ì˜¨ HTML ì½”ë“œë¡œ BeautifulSoup ë§Œë“¤ê¸°
soup = BeautifulSoup(response.text, 'html.parser')
ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì„í¬íŠ¸í•´ ì£¼ì—ˆìœ¼ë©´, ì›í•˜ëŠ” ì›¹ì‚¬ì´íŠ¸ì— ìš”ì²­ì„ ë³´ë‚´ê³ , ë°›ì•„ì˜¨ HTML ì½”ë“œë¡œ BeautifulSoupì´ë¼ëŠ” ê±¸ ë§Œë“¤ì–´ ì¤ë‹ˆë‹¤. BeautifulSoupì„ ë§Œë“¤ ë•Œ ì“°ì´ëŠ” html.parserëŠ” HTML ì½”ë“œë¥¼ ì •ë¦¬í•´ ì¤ë‹ˆë‹¤. ì¼ë°˜ì ìœ¼ë¡œ parserëŠ” ë¬¸ì„œë¥¼ ì½ì–´ ë“¤ì—¬ì„œ í”„ë¡œê·¸ë¨ì´ ì‰½ê²Œ ì‚¬ìš©í•  ìˆ˜ ìˆëŠ” í˜•ì‹ìœ¼ë¡œ ë³€í™˜ì‹œì¼œ ì£¼ëŠ” íˆ´ì…ë‹ˆë‹¤.

ì´ì œ soupì„ í†µí•´ í•„ìš”í•œ íƒœê·¸ë¥¼ ì‰½ê²Œ ê°€ì ¸ì˜¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

## í•„ìš”í•œ íƒœê·¸ ê°€ì ¸ì˜¤ê¸°
.select()ì™€ .select_one() ë©”ì†Œë“œëŠ” ì„ íƒìë¥¼ í†µí•´ í•„ìš”í•œ íƒœê·¸ë¥¼ ê°€ì ¸ì˜µë‹ˆë‹¤.

# select
.select()ëŠ” ì„ íƒìì— ë§¤ì¹­ë˜ëŠ” ëª¨ë“  íƒœê·¸ë¥¼ ë¦¬ìŠ¤íŠ¸ í˜•ì‹ìœ¼ë¡œ ë¦¬í„´í•´ ì¤ë‹ˆë‹¤. ë§¤ì¹­ë˜ëŠ” íƒœê·¸ê°€ ì—†ê±°ë‚˜, í•˜ë‚˜ë¿ì´ì–´ë„ ë¦¬ìŠ¤íŠ¸ë¥¼ ë¦¬í„´í•©ë‹ˆë‹¤.


soup.select(selector)
# ë¦¬í„´ê°’: [tag1, tag2, ...]

# select_one
.select_one()ì€ ì„ íƒìì— ë§¤ì¹­ë˜ëŠ” íƒœê·¸ ì¤‘ HTML ë¬¸ì„œì—ì„œ ê°€ì¥ ë¨¼ì € ë‚˜íƒ€ë‚˜ëŠ” íƒœê·¸ë¥¼ ë¦¬í„´í•´ ì¤ë‹ˆë‹¤. .select()ì™€ ë‹¬ë¦¬ íƒœê·¸ ìì²´ë¥¼ ë¦¬í„´í•´ ì¤ë‹ˆë‹¤ (ë§¤ì¹­ë˜ëŠ” íƒœê·¸ê°€ ì—†ëŠ” ê²½ìš° Noneì„ ë¦¬í„´í•©ë‹ˆë‹¤).


soup.select_one(selector)
# ë¦¬í„´ê°’: tag or None
ì›¹ì‚¬ì´íŠ¸ì˜ HTML êµ¬ì¡°ê°€ ë³µì¡í•´ì„œ í•„ìš”í•œ íƒœê·¸ë¥¼ ê°€ì ¸ì˜¤ëŠ” ê²ƒì´ ì–´ë ¤ìš´ ê²½ìš°:

íƒœê·¸ ì„ íƒ ë²”ìœ„ë¥¼ ë„“ê²Œ ì¡ê³  ìŠ¬ë¼ì´ì‹± ë“±ìœ¼ë¡œ í•„ìš”í•œ íƒœê·¸ë“¤ë§Œ ê°€ì ¸ì˜¤ê±°ë‚˜
íƒœê·¸ ì„ íƒ ê³¼ì •ì„ ë‚˜ëˆ ì„œ ë°”ê¹¥ìª½ íƒœê·¸ë¥¼ ì„ íƒí•˜ê³ , íƒœê·¸ ì•ˆì—ì„œ ë˜ íƒœê·¸ë¥¼ ì°¾ìŠµë‹ˆë‹¤. íƒœê·¸ì—ë„ .select()ì™€ .select_one()ì„ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

## íƒœê·¸ì—ì„œ í•„ìš”í•œ ì •ë³´ ê°€ì ¸ì˜¤ê¸°
# í…ìŠ¤íŠ¸ ê°€ì ¸ì˜¤ê¸°
íƒœê·¸ì˜ í…ìŠ¤íŠ¸ë¥¼ ê°€ì ¸ì˜¤ëŠ” ë°©ë²•ì€ ì—¬ëŸ¬ ê°€ì§€ê°€ ìˆìŠµë‹ˆë‹¤.


tag.get_text()
list(tag.strings)
list(tag.stripped_strings)

# 1. get_text
.get_text()ëŠ” íƒœê·¸ ì•ˆì— ìˆëŠ” ëª¨ë“  í…ìŠ¤íŠ¸ë¥¼ í•˜ë‚˜ë¡œ í•©ì³ì„œ ë¦¬í„´í•´ ì¤ë‹ˆë‹¤. ì‚¬ì‹¤ .get_text()ì•ˆì—ëŠ” íŒŒë¼ë¯¸í„°ë¥¼ ë„£ì„ ìˆ˜ë„ ìˆëŠ”ë°ìš”. íŒŒë¼ë¯¸í„°ë¥¼ ë„£ì–´ì£¼ë©´, í…ìŠ¤íŠ¸ë¥¼ í•©ì¹  ë•Œ íŒŒë¼ë¯¸í„°ë¡œ ë„£ì€ ë¬¸ìì—´ì„ í…ìŠ¤íŠ¸ ì‚¬ì´ì— ë„£ì–´ ì¤ë‹ˆë‹¤.


...
    <tag>
      Hello <b>World<b>!
    </tag>
...

# tag ì•ˆì— í…ìŠ¤íŠ¸: 'Hello ', 'World', '!'

tag.get_text()
# ë¦¬í„´ê°’: 'Hello World!'

tag.get_text(' ')
# ë¦¬í„´ê°’: 'Hello  World !'

tag.get_text(',')
# ë¦¬í„´ê°’: 'Hello ,World,!'

# 2. strings
.stringsëŠ” íƒœê·¸ ì•ˆì— ìˆëŠ” í…ìŠ¤íŠ¸ë¥¼ ë”°ë¡œ ë¦¬í„´í•´ ì¤ë‹ˆë‹¤. íƒœê·¸ ì•ˆì— ìˆëŠ” í…ìŠ¤íŠ¸ ì¼ë¶€ë§Œ í•„ìš”í•  ë•Œ ìœ ìš©í•˜ê² ì£ ? .stringsë¥¼ ì“¸ ë•ŒëŠ” ê²°ê´ê°’ì„ list()ë¡œ ê°ì‹¸ì¤˜ì•¼ í•©ë‹ˆë‹¤.


# tag ì•ˆì— í…ìŠ¤íŠ¸: 'Hello ', 'World', '!'

list(tag.strings)
# ë¦¬í„´ê°’: ['Hello ', 'World', '!']

# 3. stripped_strings
.stripped_stringsëŠ” .stringsì™€ ë˜‘ê°™ì§€ë§Œ ê° í…ìŠ¤íŠ¸ ìš”ì†Œì˜ ì–‘ì˜†ì˜ ê³µë°±ì„ ì œê±°í•´ ì¤ë‹ˆë‹¤. ì•„ì˜ˆ ê³µë°±ì¸ í…ìŠ¤íŠ¸ëŠ” .stripped_stringsì— í¬í•¨ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.


# tag ì•ˆì— í…ìŠ¤íŠ¸: 'Hello ', 'World', '!'

list(tag.stripped_strings)
# ë¦¬í„´ê°’: ['Hello', 'World', '!']

## ì†ì„± ê°€ì ¸ì˜¤ê¸°

tag['attr']
íƒœê·¸ì˜ ì†ì„±ì€ tag[]ë¥¼ ì‚¬ìš©í•´ì„œ ê°€ì ¸ì˜µë‹ˆë‹¤. []ì•ˆì— ì†ì„± ì´ë¦„ì„ ë„£ì–´ì¤ë‹ˆë‹¤.


tag.attrs
íƒœê·¸ì˜ ëª¨ë“  ì†ì„±ì€ .attrsë¡œ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.


## ë°ì´í„°ë¥¼ ì—‘ì…€ íŒŒì¼ë¡œ

import requests
from bs4 import BeautifulSoup
from openpyxl import Workbook

wb = Workbook(write_only=True)
ws = wb.create_sheet('TV ratings')
ws.append(['ìˆœìœ„', 'ì±„ë„', 'í”„ë¡œê·¸ë¨', 'ì‹œì²­ë¥ '])

response = requests.get("https://workey.codeit.kr/ratings/index")
rating_page = response.text

soup = BeautifulSoup(rating_page, 'html.parser')

for tr_tag in soup.select('tr')[1:]:
    td_tags = tr_tag.select('td')
    row = [
        td_tags[0].get_text(), # ìˆœìœ„
        td_tags[1].get_text(), # ì±„ë„
        td_tags[2].get_text(), # í”„ë¡œê·¸ë¨
        td_tags[3].get_text(), # ì‹œì²­ë¥ 
    ]
    ws.append(row)
    
wb.save('ì‹œì²­ë¥ _2010ë…„1ì›”1ì£¼ì°¨'.xlsx)


## openpyxl ì •ë¦¬ ë…¸íŠ¸

ì„¤ì¹˜ : pip3 install openpyxl

openpyxl ë¼ì´ë¸ŒëŸ¬ë¦¬ë¡œ ì—‘ì…€ íŒŒì¼ì„ ë§Œë“¤ ë•Œ ì‚¬ìš©ë˜ëŠ” ë¬¸ë²•ì„ ì •ë¦¬í•´ ë“œë¦´ê²Œìš”.

# ë¼ì´ë¸ŒëŸ¬ë¦¬ ì„í¬íŠ¸
from openpyxl import Workbook
ë¨¼ì € ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ì„í¬íŠ¸í•´ ì¤ë‹ˆë‹¤. ë¼ì´ë¸ŒëŸ¬ë¦¬ì—ì„œ í•„ìš”í•œ ë„êµ¬ëŠ” Workbookì…ë‹ˆë‹¤.

# ì›Œí¬ë¶ ìƒì„±
wb = Workbook()
wb = Workbook(write_only=True)
ì—‘ì…€ íŒŒì¼ì„ ì›Œí¬ë¶ì´ë¼ê³  í•©ë‹ˆë‹¤. ì›Œí¬ë¶ì„ ë§Œë“¤ê¸° ìœ„í•´ì„  Workbook()ì„ ì“°ë©´ ë˜ëŠ”ë°ìš”. íŒŒì¼ì—ì„œ ë°ì´í„°ë¥¼ ì½ì–´ì˜¤ì§€ ì•Šê³ , ë°ì´í„°ë¥¼ ì €ì¥í•˜ê¸°ë§Œ í•˜ëŠ” ê²½ìš° write only ëª¨ë“œë¥¼ ì¨ ì£¼ëŠ”ê²ƒì´ í¼í¬ë¨¼ìŠ¤ì— ë„ì›€ì´ ë©ë‹ˆë‹¤. write only ëª¨ë“œëŠ” write_only=Trueë¡œ ì„¤ì •í•´ ì¤„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

# ì›Œí¬ì‹œíŠ¸ ìƒì„±
ws = wb.create_sheet()
ws = wb.create_sheet('ì›Œí¬ì‹œíŠ¸_ì´ë¦„')
ë‹¤ìŒì€ ì›Œí¬ì‹œíŠ¸ì…ë‹ˆë‹¤. ì›Œí¬ì‹œíŠ¸ëŠ” ë°ì´í„°ê°€ ì €ì¥ë¼ ìˆëŠ” ì‹œíŠ¸(sheet) í•˜ë‚˜ë¥¼ ëœ»í•©ë‹ˆë‹¤. ì›Œí¬ë¶ì—ëŠ” ì—¬ëŸ¬ ì›Œí¬ì‹œíŠ¸ê°€ ìˆì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì›Œí¬ì‹œíŠ¸ë¥¼ ë§Œë“¤ë ¤ë©´ wb.create_sheet() ë©”ì†Œë“œë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤. íŒŒë¼ë¯¸í„°ë¡œ ì›Œí¬ì‹œíŠ¸ ì´ë¦„ì„ ë„£ì–´ì¤„ ìˆ˜ ìˆê³ , ì•ˆ ë„£ì–´ì£¼ë©´ ë””í´íŠ¸ ì´ë¦„ 'Sheet1' (í˜¹ì€ ìˆœì„œì— ë”°ë¼ 'SheetN')ì´ ì‚¬ìš©ë©ë‹ˆë‹¤.

# í–‰ ì¶”ê°€
ws.append([data1, data2, data3])
ì›Œí¬ì‹œíŠ¸ì— í–‰ì„ ì¶”ê°€í•˜ë ¤ë©´ í–‰ ìš”ì†Œë¥¼ ë¦¬ìŠ¤íŠ¸ë¡œ ë§Œë“¤ì–´ì„œ ws.append()ì— ë„£ì–´ì¤ë‹ˆë‹¤. appendëŠ” 'ë¬´ì–¸ê°€ë¥¼ ë¶™ì´ë‹¤'ë¼ëŠ” ëœ»ì„ ê°€ì§€ê³  ìˆìŠµë‹ˆë‹¤.

# ì›Œí¬ë¶ ì €ì¥
wb.save('ì›Œí¬ë¶_ì´ë¦„.xlsx')
ì›Œí¬ë¶ì— ëª¨ë“  ë°ì´í„°ë¥¼ ì¨ ì¤¬ìœ¼ë©´, ì›Œí¬ë¶ì„ ì €ì¥í•´ ì¤˜ì•¼ í•©ë‹ˆë‹¤. wb.save() ë©”ì†Œë“œë¥¼ ì“°ê³ , íŒŒì¼ ì´ë¦„ì„ íŒŒë¼ë¯¸í„°ë¡œ ë„£ì–´ì¤ë‹ˆë‹¤. íŒŒì¼ ì´ë¦„ì— .xlsx í™•ì¥ìë„ ìŠì§€ ë§ˆì„¸ìš”!


## ë°ì´í„°ë¥¼ CSVíŒŒì¼ë¡œ

# CSVë€?
CSVëŠ” Comma Separated Valuesì˜ ì•½ìì…ë‹ˆë‹¤. 'ê°’ì´ ì‰¼í‘œ(,)ë¡œ êµ¬ë¶„ë˜ì–´ ìˆë‹¤' ì´ëŸ° ëœ»ì¸ë°ìš”. CSVëŠ” í‘œ ë°ì´í„°ë¥¼ ì €ì¥í•˜ëŠ”ë° ë§ì´ ì“°ì´ëŠ” íŒŒì¼ í˜•ì‹ì…ë‹ˆë‹¤.

ì—‘ì…€(.xlsx)ì€ Microsoft Excel ì „ìš© íŒŒì¼ í˜•ì‹ì´ë¼ë©´ CSV(.csv)ëŠ” ì¼ë°˜ì ìœ¼ë¡œ í‘œ ë°ì´í„°ë¥¼ ì €ì¥í•˜ëŠ” íŒŒì¼ í˜•ì‹ì…ë‹ˆë‹¤. CSV íŒŒì¼ì€ ë©”ëª¨ì¥(Windows), Numbers(Mac), Microsoft Excel ë“± ì—¬ëŸ¬ ì†Œí”„íŠ¸ì›¨ì–´ì—ì„œ ì˜ ì—´ë¦½ë‹ˆë‹¤.

ì—‘ì…€ì„ ì•ˆ ì“°ì‹œëŠ” ë¶„ë“¤ì€ í‘œ ë°ì´í„°ë¥¼ CSV í˜•ì‹ìœ¼ë¡œ ì €ì¥í•˜ì‹œë©´ ë©ë‹ˆë‹¤.

# CSV í˜•ì‹
data.csv ë‹¤ìš´ë¡œë“œ

ì‚¬ëŒ ì´ë¦„, í‚¤, ëª¸ë¬´ê²Œê°€ ë“¤ì–´ê°€ ìˆëŠ” ì˜ˆì‹œ csv íŒŒì¼ì…ë‹ˆë‹¤. íŒŒì¼ì„ ì—´ì–´ë³´ë©´ ì•„ë˜ì™€ ê°™ì€ ë‚´ìš©ì´ ìˆëŠ”ë°ìš”.

5cjn9z71n-a.png

ê° ë°ì´í„°ê°€ ì‰¼í‘œë¡œ êµ¬ë¶„ë¼ ìˆê³ , í–‰ì€ ì¤„ ë‹¨ìœ„ë¡œ êµ¬ë¶„ë¼ ìˆìŠµë‹ˆë‹¤. ì•„ì£¼ ì§ê´€ì ì´ì£ ? ì´ê²Œ ë°”ë¡œ CSV í˜•ì‹ì…ë‹ˆë‹¤.

CSV íŒŒì¼ì„ Microsoft Excel, Numbers, ë˜ëŠ” pandas (íŒŒì´ì¬ ë°ì´í„° ë¶„ì„ ë¼ì´ë¸ŒëŸ¬ë¦¬)ê°™ì€ ë°ì´í„° ë¶„ì„ íˆ´ë¡œ ì—´ë©´ í‘œë¡œ ì¸ì‹ì´ ë©ë‹ˆë‹¤. ì•„ë˜ëŠ” data.csv íŒŒì¼ì„ Numbersë¡œ ì—´ì€ ëª¨ìŠµì…ë‹ˆë‹¤.

zr9wv59jw-b.png

## íŒŒì´ì¬ìœ¼ë¡œ CSV íŒŒì¼ ì‘ì„±í•˜ê¸°
ê·¸ëŸ¼ íŒŒì´ì¬ìœ¼ë¡œëŠ” ì–´ë–»ê²Œ CSV íŒŒì¼ì„ ë§Œë“¤ê¹Œìš”?

# CSV ëª¨ë“ˆ ì„í¬íŠ¸
csvë¼ëŠ” ëª¨ë“ˆì„ ì‚¬ìš©í•˜ë©´ ì‰½ê²Œ ë§Œë“¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ìŠ¤íƒ ë‹¤ë“œ ëª¨ë“ˆì´ê¸° ë•Œë¬¸ì— ë”°ë¡œ ì„¤ì¹˜ë¥¼ ì•ˆ í•´ì£¼ì…”ë„ ë©ë‹ˆë‹¤.

import csv

# CSV íŒŒì¼ ìƒì„±
ë¨¼ì € CSV íŒŒì¼ì„ ë§Œë“¤ì–´ ì£¼ê³ , íŒŒì¼ì— ë°ì´í„°ë¥¼ CSV í˜•ì‹ìœ¼ë¡œ ì „ë‹¬í•´ ì£¼ëŠ” csv.writerë¼ëŠ” ë„êµ¬ë¥¼ í™œìš©í•  ê²ë‹ˆë‹¤.


# CSV íŒŒì¼ ìƒì„±
csv_file = open('file_name.csv', 'w')
csv_writer = csv.writer(csv_file)
íŒŒì¼ì„ ë§Œë“¤ë ¤ë©´ open()ì„ ì“°ëŠ”ë°, íŒŒì´ì¬ìœ¼ë¡œ íŒŒì¼ì„ ë‹¤ë¤„ë³´ì…¨ë‹¤ë©´ ì „ì— ë§Œë‚˜ë³´ì…¨ì„ ê²ë‹ˆë‹¤. open() ì•ˆì— íŒŒì¼ ì´ë¦„ê³¼ ëª¨ë“œ(mode)ë¥¼ ì¨ ì¤ë‹ˆë‹¤. ìš°ë¦¬ëŠ” ë°ì´í„°ë¥¼ íŒŒì¼ì— ì¨ ì¤„ ê±°ë‹ˆê¹Œ 'w' (write)ë¥¼ ì¨ ì¤ë‹ˆë‹¤.

ê·¸ë¦¬ê³  csv.writer()ì•ˆì— ë°©ê¸ˆ ë§Œë“¤ì–´ì¤€ csv_fileì„ ë„£ì–´ ì¤ë‹ˆë‹¤.

# í–‰ ì¶”ê°€
CSV íŒŒì¼ì— í–‰ì„ ì¶”ê°€í•˜ê¸° ìœ„í•´ì„œëŠ” ìš°ë¦¬ê°€ ë§Œë“  csv_writerë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.


# CSV íŒŒì¼ì— í–‰ ì¶”ê°€
csv_writer.writerow([data1, data2, ...])
.writerow() ë©”ì†Œë“œë¥¼ í™œìš©í•˜ë©´ ë©ë‹ˆë‹¤. ì—‘ì…€ íŒŒì¼ì— í–‰ì„ ì¶”ê°€í•  ë•Œ ì¼ì—ˆë˜ ws.append()ì™€ ì•„ì£¼ ë¹„ìŠ·í•˜ì£ ? í–‰ì— ë“¤ì–´ê°ˆ ë°ì´í„°ë¥¼ ë¦¬ìŠ¤íŠ¸ í˜•ì‹ìœ¼ë¡œ ë„˜ê²¨ì¤ë‹ˆë‹¤.

í—¤ë” í–‰, ë°ì´í„° í–‰ ìƒê´€ì—†ì´ csv_writer.writerow()ë¥¼ ì‚¬ìš©í•˜ì‹œë©´ ë©ë‹ˆë‹¤.

# CSV íŒŒì¼ ë‹«ê¸°
íŒŒì´ì¬ì—ì„œ íŒŒì¼ì„ ì—´ì—ˆìœ¼ë©´, ì‚¬ìš©ì´ ëë‚œ í›„ ë‹«ì•„ì£¼ëŠ” ê²ƒì´ ì¢‹ì€ ìŠµê´€ì…ë‹ˆë‹¤.


# CSV íŒŒì¼ ë‹«ê¸°
csv_file.close()
ì‚¬ì‹¤ í”„ë¡œê·¸ë¨ì´ ì¢…ë£Œë˜ë©´ íŒŒì¼ì´ ìë™ìœ¼ë¡œ ë‹«íˆê¸° ë•Œë¬¸ì— ì§€ê¸ˆ ê°™ì´ ë‹¨ìˆœí•œ í”„ë¡œê·¸ë¨ì„ ì§¤ ë•ŒëŠ” í° ìƒê´€ì´ ì—†ëŠ”ë°ìš”. ë³µì¡í•œ í”„ë¡œê·¸ë¨ì—ì„œ íŒŒì¼ì„ ë‹«ì•„ì£¼ì§€ ì•Šìœ¼ë©´, í”„ë¡œê·¸ë¨ì´ ì‹¤í–‰ë˜ëŠ” ë™ì•ˆ ê·¸ íŒŒì¼ì„ ë‹¤ë¥¸ ê³³ì—ì„œ ì‚¬ìš©í•  ìˆ˜ ì—†ê²Œ ë©ë‹ˆë‹¤. (csv_writer ê°€ ì•„ë‹Œ csv_fileì„ ë‹«ì•„ì£¼ì…”ì•¼ í•©ë‹ˆë‹¤.)

# í‹°ë¹„ë­í‚¹ë‹·ì»´ ë°ì´í„°ë¥¼ CSV íŒŒì¼ë¡œ
ì´ì „ ì˜ìƒì—ì„œëŠ” í‹°ë¹„ë­í‚¹ë‹·ì»´ì˜ ë°ì´í„°ë¥¼ ì—‘ì…€ íŒŒì¼ë¡œ ì €ì¥í•´ ë´¤ëŠ”ë°, ì´ë²ˆì—ëŠ” ë˜‘ê°™ì€ ë°ì´í„°ë¥¼ CSV íŒŒì¼ë¡œ ì €ì¥í•˜ëŠ” ì½”ë“œë¥¼ ë³´ì—¬ë“œë¦´ê²Œìš”.


## ì—‘ì…€ íŒŒì¼:

import requests
from bs4 import BeautifulSoup
from openpyxl import Workbook

# ì›Œí¬ë¶ ìƒì„±
wb = Workbook(write_only=True)
ws = wb.create_sheet('Data')

# í—¤ë” í–‰ ì¶”ê°€
ws.append(['ìˆœìœ„', 'ì±„ë„', 'í”„ë¡œê·¸ë¨', 'ì‹œì²­ë¥ '])

response = requests.get("https://workey.codeit.kr/ratings/index")
rating_page = response.text

soup = BeautifulSoup(rating_page, 'html.parser')

for tr_tag in soup.select('tr')[1:]:
    td_tags = tr_tag.select('td')
    row = [
        td_tags[0].get_text(),
        td_tags[1].get_text(),
        td_tags[2].get_text(),
        td_tags[3].get_text()
    ]
    # ë°ì´í„° í–‰ ì¶”ê°€
    ws.append(row)

# ì›Œí¬ë¶ ì €ì¥
wb.save('ì‹œì²­ë¥ _2010ë…„1ì›”1ì£¼ì°¨.xlsx')


## CSV íŒŒì¼:

import csv
import requests
from bs4 import BeautifulSoup

# CSV íŒŒì¼ ìƒì„±
csv_file = open('ì‹œì²­ë¥ _2010ë…„1ì›”1ì£¼ì°¨.csv', 'w')
csv_writer = csv.writer(csv_file)

# í—¤ë” í–‰ ì¶”ê°€
csv_writer.writerow(['ìˆœìœ„', 'ì±„ë„', 'í”„ë¡œê·¸ë¨', 'ì‹œì²­ë¥ '])

response = requests.get("https://workey.codeit.kr/ratings/index")
rating_page = response.text

soup = BeautifulSoup(rating_page, 'html.parser')


### ê¿ˆì˜ ì§ì¥ ì „í™”ë²ˆí˜¸ ëª¨ìœ¼ê¸° III
ì‹œì‘í•˜ê¸° ì „ì—
ì§€ê¸ˆë¶€í„°ëŠ” ë°ì´í„°ë¥¼ ì—‘ì…€ íŒŒì¼ë¡œ ì €ì¥í•˜ëŠ” ê³¼ì œê°€ ëª‡ ê°œ ìˆì„ ê±´ë°ìš”. ì—‘ì…€ì„ ì•ˆ ì“°ì‹œëŠ” ë¶„ë“¤ì€, CSV íŒŒì¼ë¡œ ì €ì¥í•˜ì…”ë„ ì¢‹ìŠµë‹ˆë‹¤.

ì´ë²ˆ ê³¼ì œì˜ í•´ì„¤ì—ì„œëŠ” ì—‘ì…€, CSVë¥¼ ë‘˜ ë‹¤ ì„¤ëª…ë“œë¦´ í…ë°ìš”. ì—‘ì…€ê³¼ CSV ë¬¸ë²•ì´ ë¹„ìŠ·í•˜ê¸° ë•Œë¬¸ì—, ë‹¤ìŒë¶€í„°ëŠ” ì—‘ì…€ ë¬¸ë²• ì¤‘ì‹¬ìœ¼ë¡œë§Œ ì„¤ëª…ë“œë¦´ê²Œìš”.

# ì‹¤ìŠµ ì„¤ëª…
ì´ë²ˆ ê³¼ì œëŠ” ì‚¬ì´íŠ¸ ë‚´ ì‹¤í–‰ì´ ì§€ì›ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤. ì§ì ‘ ê³¼ì œë¥¼ í•´ê²°í•˜ê³ , ì½”ë“œì‡ ì‹¤í–‰ê¸°ì˜ 'ì±„ì ' ë²„íŠ¼ì„ ëˆŒëŸ¬ ì§ì ‘ ì±„ì í•´ ë³´ì„¸ìš”.

ì˜¤ë Œì§€ ë³´í‹€ ì§€ì ë“¤ì— ëŒ€í•œ ì •ë³´ë¥¼ ì—‘ì…€ íŒŒì¼ì— ì €ì¥í•˜ë ¤ê³  í•©ë‹ˆë‹¤.

ëª¨ë“  ì˜¤ë Œì§€ ë³´í‹€ ì§€ì ì˜ ì´ë¦„, ì£¼ì†Œ, ì „í™”ë²ˆí˜¸ë¥¼ ì—‘ì…€ íŒŒì¼ (ë˜ëŠ” CSV íŒŒì¼)ì— ì €ì¥í•´ ì£¼ì„¸ìš”.

íŒŒì¼ ì´ë¦„ì€ 'ì˜¤ë Œì§€_ë³´í‹€.xlsx' (CSVëŠ” 'ì˜¤ë Œì§€_ë³´í‹€.csv')ë¡œ í•´ì£¼ì‹œê³ , ì—‘ì…€ì˜ ê²½ìš° ì›Œí¬ì‹œíŠ¸ ì´ë¦„ì€ ë”°ë¡œ ì„¤ì • ì•ˆ í•´ì£¼ì…”ë„ ë©ë‹ˆë‹¤.


ws = wb.create_sheet()
ì´ë ‡ê²Œ ê´„í˜¸ ì•ˆì— ì›Œí¬ì‹œíŠ¸ ì´ë¦„ì„ ì•ˆ ë„£ì–´ì£¼ë©´ 'Sheet1'ì´ë¼ëŠ” ì›Œí¬ì‹œíŠ¸ê°€ ìƒê¹ë‹ˆë‹¤.

í—¤ë” í–‰ì€ 'ì§€ì  ì´ë¦„', 'ì£¼ì†Œ', 'ì „í™”ë²ˆí˜¸'ë¡œ í•´ ì£¼ì‹œê³ , ëª¨ë“  ì˜¤ë Œì§€ ë³´í‹€ ì§€ì ì˜ ë°ì´í„°ë¥¼ ì €ì¥í•´ ì£¼ì„¸ìš”.

í…œí”Œë¦¿ì— ìˆëŠ” ì½”ë“œëŠ” 'ê¿ˆì˜ ì§ì¥ ì „í™”ë²ˆí˜¸ ëª¨ìœ¼ê¸° II' ê³¼ì œì˜ í•´ë‹µ ì½”ë“œì…ë‹ˆë‹¤.

# ì‹¤ìŠµ ê²°ê³¼
ì…€í”„ ì±„ì 
ë‹¤ìŒ í•­ëª©ë“¤ì´ ì œëŒ€ë¡œ êµ¬í˜„ë˜ì—ˆëŠ”ì§€ í™•ì¸í•´ ë³´ì„¸ìš”!

'ì˜¤ë Œì§€_ë³´í‹€.xlsx' ('ì˜¤ë Œì§€_ë³´í‹€.csv') íŒŒì¼ì´ ì˜ ìƒì„±ë¼ìš”.

í—¤ë” í–‰ 'ì§€ì  ì´ë¦„', 'ì£¼ì†Œ', 'ì „í™”ë²ˆí˜¸'ê°€ ì œì¼ ìœ„ì— ë“¤ì–´ê°€ ìˆì–´ìš”.

ë°ì´í„° í–‰ ì´ 57ê°œê°€ ì•Œë§ì€ í˜•ì‹ìœ¼ë¡œ ì €ì¥ë¼ ìˆì–´ìš”.

# í•´ì„¤
ë¨¼ì € í•„ìš”í•œ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ê°€ì ¸ì˜µë‹ˆë‹¤.


# ì—‘ì…€
from openpyxl import Workbook 

# CSV
import csv
ì—‘ì…€ì€ ì›Œí¬ë¶ê³¼ ì›Œí¬ì‹œíŠ¸ë¥¼ ë§Œë“¤ì–´ ì£¼ê³ , CSVëŠ” CSV íŒŒì¼ê³¼ csv writerë¥¼ ë§Œë“¤ì–´ ì¤ë‹ˆë‹¤.


# ì—‘ì…€
wb = Workbook(write_only=True)
ws = wb.create_sheet()

# CSV
csv_file = open('ì˜¤ë Œì§€_ë³´í‹€.csv', 'w')
csv_writer = csv.writer(csv_file)
ì—‘ì…€ì˜ ê²½ìš° create_sheet() ì•ˆì— ì´ë¦„ì„ ì£¼ì§€ ì•Šìœ¼ë©´ 'Sheet1'ì´ë¼ëŠ” ì›Œí¬ì‹œíŠ¸ê°€ ìƒì„±ë©ë‹ˆë‹¤.

ê·¸ë¦¬ê³  í—¤ë” í–‰ì„ ì¶”ê°€í•´ ì¤ë‹ˆë‹¤.


# ì—‘ì…€
wb = Workbook(write_only=True)
ws = wb.create_sheet()
ws.append(['ì§€ì  ì´ë¦„', 'ì£¼ì†Œ', 'ì „í™”ë²ˆí˜¸'])

# CSV
csv_file = open('ì˜¤ë Œì§€_ë³´í‹€.csv', 'w')
csv_writer = csv.writer(csv_file)
csv_writer.writerow(['ì§€ì  ì´ë¦„', 'ì£¼ì†Œ', 'ì „í™”ë²ˆí˜¸'])
ê·¸ë¦¬ê³  ë°ì´í„°ë¥¼ ì¶”ê°€í•´ ì£¼ë©´ ë˜ëŠ”ë°ìš”. ì´ì „ ê³¼ì œì—ì„œ í•„ìš”í•œ ì •ë³´ëŠ” ëª¨ë‘ ê°€ì ¸ì™”ìœ¼ë‹ˆ, ì´ì „ ê³¼ì œì˜ ì½”ë“œì— ì •ë³´ë¥¼ íŒŒì¼ì— ì¶”ê°€í•´ ì£¼ëŠ” ì½”ë“œë§Œ ì¨ ì£¼ë©´ ë©ë‹ˆë‹¤.

branch_infos.appned() ë¶€ë¶„ì„ íŒŒì¼ì— ë°ì´í„°ë¥¼ ì¶”ê°€í•˜ëŠ” ì½”ë“œë¡œ ë°”ê¿”ì¤ë‹ˆë‹¤. (ê·¸ë¦¬ê³  branch_infos = []ë„ ì§€ì›Œì£¼ì„¸ìš”.)


# ì—‘ì…€
for branch_tag in branch_tags:
    # ê° íƒœê·¸ì—ì„œ ì§€ì  ì´ë¦„, ì „í™”ë²ˆí˜¸ ê°€ì ¸ì˜¤ê¸°
    branch_name = branch_tag.select_one('p.city').get_text()
    address = branch_tag.select_one('p.address').get_text()
    phone_number = branch_tag.select_one('span.phoneNum').get_text()
    ws.append([branch_name, address, phone_number])

# CSV
for branch_tag in branch_tags:
    # ê° íƒœê·¸ì—ì„œ ì§€ì  ì´ë¦„, ì „í™”ë²ˆí˜¸ ê°€ì ¸ì˜¤ê¸°
    branch_name = branch_tag.select_one('p.city').get_text()
    address = branch_tag.select_one('p.address').get_text()
    phone_number = branch_tag.select_one('span.phoneNum').get_text()
    csv_writer.writerow([branch_name, address, phone_number])

ê·¸ë¦¬ê³  print(branch_infos) ë¶€ë¶„ì€ ì§€ì›Œì£¼ê³ , ë§ˆë¬´ë¦¬ ì‘ì—…ì„ í•´ ì¤ë‹ˆë‹¤.


# ì—‘ì…€
wb.save('ì˜¤ë Œì§€_ë³´í‹€.xlsx')

# CSV
csv_file.close()
ëª¨ë²” ë‹µì•ˆ

## ì—‘ì…€

import requests
from bs4 import BeautifulSoup
from openpyxl import Workbook

# ì›Œí¬ë¶ ìƒì„±
wb = Workbook(write_only=True)
ws = wb.create_sheet()
ws.append(['ì§€ì  ì´ë¦„', 'ì£¼ì†Œ', 'ì „í™”ë²ˆí˜¸'])

# HTML ì½”ë“œ ë°›ì•„ì˜¤ê¸°
response = requests.get("https://workey.codeit.kr/orangebottle/index")

# BeautifulSoup ì‚¬ìš©í•´ì„œ HTML ì½”ë“œ ì •ë¦¬
soup = BeautifulSoup(response.text, 'html.parser')

# ëª¨ë“  ì§€ì ì— ëŒ€í•œ íƒœê·¸ ê°€ì ¸ì˜¤ê¸°
branch_tags = soup.select('div.branch')

for branch_tag in branch_tags:
    # ê° íƒœê·¸ì—ì„œ ì§€ì  ì´ë¦„, ì „í™”ë²ˆí˜¸ ê°€ì ¸ì˜¤ê¸°
    branch_name = branch_tag.select_one('p.city').get_text()
    address = branch_tag.select_one('p.address').get_text()
    phone_number = branch_tag.select_one('span.phoneNum').get_text()
    ws.append([branch_name, address, phone_number])

wb.save('ì˜¤ë Œì§€_ë³´í‹€.xlsx')


## CSV

import requests
from bs4 import BeautifulSoup
import csv

# CSV íŒŒì¼ ìƒì„±
csv_file = open('ì˜¤ë Œì§€_ë³´í‹€.csv', 'w')
csv_writer = csv.writer(csv_file)
csv_writer.writerow(['ì§€ì  ì´ë¦„', 'ì£¼ì†Œ', 'ì „í™”ë²ˆí˜¸'])

# HTML ì½”ë“œ ë°›ì•„ì˜¤ê¸°
response = requests.get("https://workey.codeit.kr/orangebottle/index")

# BeautifulSoup ì‚¬ìš©í•´ì„œ HTML ì½”ë“œ ì •ë¦¬
soup = BeautifulSoup(response.text, 'html.parser')

# ëª¨ë“  ì§€ì ì— ëŒ€í•œ íƒœê·¸ ê°€ì ¸ì˜¤ê¸°
branch_tags = soup.select('div.branch')

for branch_tag in branch_tags:
    # ê° íƒœê·¸ì—ì„œ ì§€ì  ì´ë¦„, ì „í™”ë²ˆí˜¸ ê°€ì ¸ì˜¤ê¸°
    branch_name = branch_tag.select_one('p.city').get_text()
    address = branch_tag.select_one('p.address').get_text()
    phone_number = branch_tag.select_one('span.phoneNum').get_text()
    csv_writer.writerow([branch_name, address, phone_number])

csv_file.close()


## ì—°ë„ë³„ ì‹œì²­ë¥  ë°ì´í„° ì—‘ì…€ íŒŒì¼ë¡œ ì •ë¦¬í•´ ë³´ê¸°

import requests
from bs4 import BeautifulSoup
from openpyxl import Workbook


wb = Workbook(write_only=True)

for year in range(2010, 2019):
    ws = wb.create_sheet("{}ë…„".format(year))
    ws.append(['ê¸°ê°„', 'ìˆœìœ„', 'ì±„ë„', 'í”„ë¡œê·¸ë¨', 'ì‹œì²­ë¥ '])

    for month in range(1, 13):
        for weekIndex in range(0, 5):
            url = "https://workey.codeit.kr/ratings/index?year={}&month={}&weekIndex={}".format(year, month, weekIndex)
            response = requests.get(url)
            rating_page = response.text
            soup = BeautifulSoup(rating_page, 'html.parser')

            for tr_tag in soup.select('tr')[1:]:
                td_tags = tr_tag.select('td')
                period = "{}ë…„ {}ì›” {}ì£¼ì°¨".format(year, month, weekIndex + 1)
                row = [
                    period, # ê¸°ê°„
                    td_tags[0].get_text(),  # ìˆœìœ„
                    td_tags[1].get_text(),  # ì±„ë„
                    td_tags[2].get_text(),  # í”„ë¡œê·¸ë¨
                    td_tags[3].get_text(),  # ì‹œì²­ë¥ 
                ]
                ws.append(row)


wb.save('ì‹œì²­ë¥ '.xlsx)



## SBS í”„ë¡œê·¸ë¨ ì—‘ì…€ íŒŒì¼ë¡œ ì €ì¥í•´ ë³´ê¸°

# ì‹¤ìŠµ ì„¤ëª…
ì´ë²ˆ ê³¼ì œëŠ” ì‚¬ì´íŠ¸ ë‚´ ì‹¤í–‰ì´ ì§€ì›ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤. ì§ì ‘ ê³¼ì œë¥¼ í•´ê²°í•˜ê³ , ì½”ë“œì‡ ì‹¤í–‰ê¸°ì˜ 'ì±„ì ' ë²„íŠ¼ì„ ëˆŒëŸ¬ ì§ì ‘ ì±„ì í•´ ë³´ì„¸ìš”.

ì‹ ì… PDë¡œ ì…ì‚¬í•œ ë‚˜PDëŠ” ì„ ë°°ë“¤ê³¼ í•¨ê»˜ ìƒˆë¡œìš´ ì—¬í–‰ ì˜ˆëŠ¥ ë²„ë¼ì´ì–´í‹° í”„ë¡œê·¸ë¨ì„ ê¸°íší•˜ê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤.

í”„ë¡œê·¸ë¨ ê¸°íš ë„ì¤‘ ì„ ë°°ë¡œë¶€í„° SBSì˜ ëª¨ë“  í”„ë¡œê·¸ë¨ë“¤ì˜ ì •ë³´ë¥¼ ëª¨ì•„ì„œ ì—‘ì…€ íŒŒì¼ë¡œ ë³´ë‚´ë‹¬ë¼ëŠ” ìš”ì²­ì„ ë°›ê²Œ ë˜ì—ˆëŠ”ë°ìš”.

ë‚˜PDë¥¼ ë„ì™€ì„œ ì•„ë˜ ì¡°ê±´ì— ë”°ë¼ì„œ í‹°ë¹„ë­í‚¹ë‹·ì»´ì˜ SBS í”„ë¡œê·¸ë¨ ì •ë³´ë“¤ë§Œ ëª¨ì€ ë‹¤ìŒ, 'SBS_ë°ì´í„°.xlsx' (ë˜ëŠ” 'SBS_ë°ì´í„°.csv') íŒŒì¼ì— ì €ì¥í•´ ì£¼ì„¸ìš”.

ë‹¤ë¥¸ ë°©ì†¡ì‚¬ëŠ” ì œì™¸í•˜ê³  ì±„ë„ ì •ë³´ê°€ SBSì¸ í”„ë¡œê·¸ë¨ì˜ ì •ë³´ë“¤ë§Œ ëª¨ì•„ì£¼ì„¸ìš”.
í‹°ë¹„ë­í‚¹ë‹·ì»´ì— ìˆëŠ” ëª¨ë“  ê¸°ê°„ì˜ ë°ì´í„°ë¥¼ ëª¨ì•„ì£¼ì„¸ìš”. ê¸°ê°„ì€ '_ë…„ _ì›” _ì£¼ì°¨' í˜•ì‹ìœ¼ë¡œ ì €ì¥í•´ ì£¼ì„¸ìš”.
ì—°ë„ë³„ë¡œ ì›Œí¬ì‹œíŠ¸ë¥¼ ë§Œë“¤ í•„ìš” ì—†ì´ í•˜ë‚˜ì˜ ì›Œí¬ì‹œíŠ¸ì— ì­‰ ì €ì¥í•´ ì£¼ì‹œë©´ ë©ë‹ˆë‹¤. ì›Œí¬ì‹œíŠ¸ ì´ë¦„ì€ ë”°ë¡œ ì„¤ì • ì•ˆ í•´ì£¼ì…”ë„ ë©ë‹ˆë‹¤.
í—¤ë” í–‰, ì¦‰ í…Œì´ë¸” ì—´ì€ 'ê¸°ê°„', 'ìˆœìœ„', 'í”„ë¡œê·¸ë¨', 'ì‹œì²­ë¥ 'ë¡œ í•´ ì£¼ì‹œê³ , ì—´ì— ë§ê²Œ ë°ì´í„°ë¥¼ ì €ì¥í•´ ì£¼ì„¸ìš”.
ì‹¤ìŠµ ê²°ê³¼


ìœ„ ì‚¬ì§„ì€ 2010ë…„ 1ì›” ë°ì´í„°ê°€ ì €ì¥ë¼ ìˆëŠ” ëª¨ìŠµì…ë‹ˆë‹¤.

ì…€í”„ ì±„ì 
ë‹¤ìŒ í•­ëª©ë“¤ì´ ì œëŒ€ë¡œ êµ¬í˜„ë˜ì—ˆëŠ”ì§€ í™•ì¸í•´ ë³´ì„¸ìš”!

'SBS_ë°ì´í„°.xlsx' ('SBS_ë°ì´í„°.csv') íŒŒì¼ì´ ì˜ ìƒì„±ë¼ìš”.


í—¤ë” í–‰ 'ê¸°ê°„', 'ìˆœìœ„', 'í”„ë¡œê·¸ë¨', 'ì‹œì²­ë¥ 'ì´ ì œì¼ ìœ„ì— ë“¤ì–´ê°€ ìˆì–´ìš”.


ë°ì´í„° í–‰ ì´ 907ê°œê°€ ì•Œë§ì€ í˜•ì‹ìœ¼ë¡œ ì €ì¥ë¼ ìˆì–´ìš”.

# í•´ì„¤
ë¨¼ì € í•„ìš”í•œ ë¼ì´ë¸ŒëŸ¬ë¦¬ë“¤ì„ ê°€ì ¸ì˜¤ê³ , ì›Œí¬ë¶ì„ ë§Œë“¤ì–´ ì¤ì‹œë‹¤.


import requests
from bs4 import BeautifulSoup
from openpyxl import Workbook
ì„¸ ê°€ì§€ ë¼ì´ë¸ŒëŸ¬ë¦¬ê°€ í•„ìš”í•˜ê³ ìš”,


# ì›Œí¬ë¶ ìƒì„±
wb = Workbook(write_only=True)
ws = wb.create_sheet()
ws.append(['ê¸°ê°„', 'ìˆœìœ„', 'í”„ë¡œê·¸ë¨', 'ì‹œì²­ë¥ '])
ì›Œí¬ë¶ì„ ë§Œë“¤ ë•ŒëŠ” Workbook(), ì›Œí¬ì‹œíŠ¸ë¥¼ ë§Œë“¤ ë•ŒëŠ” wb.create_sheet(), ì›Œí¬ì‹œíŠ¸ì— í–‰ì„ ì¶”ê°€í•  ë•ŒëŠ” ws.append().

í‹°ë¹„ë­í‚¹ë‹·ì»´ ë°ì´í„°ì—ì„œ SBS í”„ë¡œê·¸ë¨ë“¤ë§Œ ê±¸ëŸ¬ ë‚¸ë‹¤ê³  í•´ë„, ê²°êµ­ ëª¨ë“  ì›¹ í˜ì´ì§€ë¥¼ ê°€ì ¸ì™€ì•¼ê² ì£ ? ì¼ë‹¨ ëª¨ë“  ì›¹ í˜ì´ì§€ë¥¼ ê°€ì ¸ì™€ì„œ ê° í˜ì´ì§€ë¥¼ BeautifulSoupìœ¼ë¡œ ë§Œë“¤ì–´ ì¤ì‹œë‹¤.


for year in range(2010, 2019):
    for month in range(1, 13):
        for weekIndex in range(0, 5):
            # ì›¹ í˜ì´ì§€ ê°€ì ¸ì™€ì„œ BeautifulSoup ìƒì„±
            url = "https://workey.codeit.kr/ratings/index?year={}&month={}&weekIndex={}".format(year, month, weekIndex)
            response = requests.get(url)
            rating_page = response.text
            soup = BeautifulSoup(rating_page, 'html.parser')
ì´ ì½”ë“œëŠ” ëª‡ ë²ˆ ë³´ì…¨ì£ ? ë°˜ë³µë¬¸ì„ í™œìš©í•´ì„œ year, month, weekIndexë¥¼ ë°”ê¿”ì£¼ë©´ì„œ, ëª¨ë“  urlì— ìš”ì²­ì„ ë³´ë‚´ê³ , ì‘ë‹µìœ¼ë¡œ ë°›ì€ HTML ì½”ë“œë¥¼ BeautifulSoupìœ¼ë¡œ ë§Œë“¤ì–´ ì¤ë‹ˆë‹¤.

ê·¸ë‹¤ìŒì—ëŠ”, ëª¨ë“  ë°ì´í„° í–‰ì„ ê°€ì ¸ì™€ì„œ ë°ì´í„° í–‰ì˜ 'ì±„ë„'ì´ SBS ì¸ì§€ í™•ì¸í•˜ëŠ” ì½”ë“œë¥¼ ì‘ì„±í•´ ë´…ì‹œë‹¤.



í–‰ì€ <tr> íƒœê·¸ë¡œ ì´ë£¨ì–´ì ¸ ìˆëŠ”ë°, ë°ì´í„° í–‰ì€ ë‘ ë²ˆì§¸ í–‰ ë¶€í„°ë‹ˆê¹Œ [1:]ë¡œ ìŠ¬ë¼ì´ì‹±ì„ í•´ ì¤ë‹ˆë‹¤.


            ...            
            soup = BeautifulSoup(rating_page, 'html.parser')

            for tr_tag in soup.select('tr')[1:]:
ê·¸ë¦¬ê³  íƒœê·¸ êµ¬ì¡°ë¥¼ ë³´ì‹œë©´ 'ì±„ë„'ì— í•´ë‹¹í•˜ëŠ” íƒœê·¸ëŠ” <td class="channel">ì…ë‹ˆë‹¤. ê° <tr> íƒœê·¸ ì•ˆì—ì„œ <td class="channel">ì„ ê°€ì§€ê³  ì™€ì„œ, ì•ˆì— ìˆëŠ” í…ìŠ¤íŠ¸ë¥¼ ë¹¼ì™€ ì¤ì‹œë‹¤.


            ...            
            soup = BeautifulSoup(rating_page, 'html.parser')

            for tr_tag in soup.select('tr')[1:]:
                channel = tr_tag.select_one('td.channel').get_text()
ì–´ì°¨í”¼ ê° <tr> íƒœê·¸ ì•ˆì—ëŠ” <td class="channel">ì´ í•˜ë‚˜ë°–ì— ì—†ìœ¼ë‹ˆê¹Œ select_oneì„ ì¨ ì¤¬ìŠµë‹ˆë‹¤.

ì´ì œ ë‚˜ë¨¸ì§€ ì½”ë“œì˜ ë¡œì§ì„ ì§œ ë³´ë©´ ì´ë ‡ê²Œ ë˜ê² ì£ .


            ...            
            soup = BeautifulSoup(rating_page, 'html.parser')

            for tr_tag in soup.select('tr')[1:]:
                # ë°ì´í„° í–‰ì˜ ì±„ë„ì´ SBSì¸ ê²½ìš°ë§Œ ë°ì´í„° í–‰ ì €ì¥
                channel = tr_tag.select_one('td.channel').get_text()
                if channel == 'SBS':
                    # ë°ì´í„° í–‰ì˜ ê¸°ê°„, ìˆœìœ„, í”„ë¡œê·¸ë¨, ì‹œì²­ë¥  ì €ì¥
ìš°ì„  ê¸°ê°„ì€ year , month, weekIndexë¥¼ í™œìš©í•˜ë©´ ë©ë‹ˆë‹¤.


            ...            
            soup = BeautifulSoup(rating_page, 'html.parser')

            for tr_tag in soup.select('tr')[1:]:
                # ë°ì´í„° í–‰ì˜ ì±„ë„ì´ SBSì¸ ê²½ìš°ë§Œ ë°ì´í„° í–‰ ì €ì¥
                channel = tr_tag.select_one('td.channel').get_text()
                if channel == 'SBS':
                    # ë°ì´í„° í–‰ì˜ ê¸°ê°„, ìˆœìœ„, í”„ë¡œê·¸ë¨, ì‹œì²­ë¥  ì €ì¥
                    period = "{}ë…„ {}ì›” {}ì£¼ì°¨".format(year, month, weekIndex + 1)
format()ì„ ì‚¬ìš©í•˜ë©´ {} ê´„í˜¸ ì•ˆì— formatì˜ íŒŒë¼ë¯¸í„°ê°€ ìˆœì„œëŒ€ë¡œ ë“¤ì–´ê°‘ë‹ˆë‹¤.



ì´ì œ ë‚˜ë¨¸ì§€ ì •ë³´ë¥¼ ê°€ì ¸ì˜¤ë©´ ë˜ëŠ”ë°, ì•„ë˜ ë°©ë²• ì¤‘ ë‘ ë²ˆì§¸ ë°©ë²•ì„ í™œìš©í•˜ë„ë¡ í• ê²Œìš”.

tr_tag.select_one('td.rank')ì²˜ëŸ¼ ì„ íƒìë¥¼ ì´ìš©í•´ì„œ í•„ìš”í•œ <td> íƒœê·¸ë¥¼ í•˜ë‚˜ì”© ê°€ì ¸ì˜¨ë‹¤.
tr_tag.select('td')ì²˜ëŸ¼ ëª¨ë“  td íƒœê·¸ë¥¼ ê°€ì ¸ì™€ì„œ ì¸ë±ìŠ¤ë¥¼ í™œìš©í•œë‹¤.

            ...            
            soup = BeautifulSoup(rating_page, 'html.parser')

            for tr_tag in soup.select('tr')[1:]:
                # ë°ì´í„° í–‰ì˜ ì±„ë„ì´ SBSì¸ ê²½ìš°ë§Œ ë°ì´í„° í–‰ ì €ì¥
                channel = tr_tag.select_one('td.channel').get_text()
                if channel == 'SBS':
                    # ë°ì´í„° í–‰ì˜ ê¸°ê°„, ìˆœìœ„, í”„ë¡œê·¸ë¨, ì‹œì²­ë¥  ì €ì¥
                    period = "{}ë…„ {}ì›” {}ì£¼ì°¨".format(year, month, weekIndex + 1)
                    td_tags = tr_tag.select('td')
                    rank = td_tags[0].get_text()
                    program = td_tags[2].get_text()
                    percent = td_tags[3].get_text()
ìˆœìœ„ëŠ” ì²« ë²ˆì§¸, í”„ë¡œê·¸ë¨ì€ ì„¸ ë²ˆì§¸, ì‹œì²­ë¥ ì€ ë„¤ ë²ˆì§¸ <td> íƒœê·¸ì…ë‹ˆë‹¤.

ì´ì œ ì´ê±¸ ì›Œí¬ì‹œíŠ¸ì— ì €ì¥í•´ ì¤ë‹ˆë‹¤.


                    ...
                    percent = td_tags[3].get_text()
                    ws.append([period, rank, program, percent])
ë‹¤ìŒìœ¼ë¡œ ì›Œí¬ë¶ì„ ì €ì¥í•´ ì£¼ë©´ ì½”ë“œê°€ ì™„ì„±ë©ë‹ˆë‹¤.


wb.save('SBS_ë°ì´í„°.xlsx')

## ëª¨ë²” ë‹µì•ˆ

import requests
from bs4 import BeautifulSoup
from openpyxl import Workbook

# ì›Œí¬ë¶ ìƒì„±
wb = Workbook(write_only=True)
ws = wb.create_sheet()
ws.append(['ê¸°ê°„', 'ìˆœìœ„', 'í”„ë¡œê·¸ë¨', 'ì‹œì²­ë¥ '])

for year in range(2010, 2019):
    for month in range(1, 13):
        for weekIndex in range(0, 5):
            # ì›¹ í˜ì´ì§€ ê°€ì ¸ì™€ì„œ BeautifulSoup ìƒì„±
            url = "https://workey.codeit.kr/ratings/index?year={}&month={}&weekIndex={}".format(year, month, weekIndex)
            response = requests.get(url)
            rating_page = response.text
            soup = BeautifulSoup(rating_page, 'html.parser')

            for tr_tag in soup.select('tr')[1:]:
                # ë°ì´í„° í–‰ì˜ ì±„ë„ì´ SBSì¸ ê²½ìš°ë§Œ ë°ì´í„° í–‰ ì €ì¥
                channel = tr_tag.select_one('td.channel').get_text()
                if channel == 'SBS':
                    # ë°ì´í„° í–‰ì˜ ê¸°ê°„, ìˆœìœ„, í”„ë¡œê·¸ë¨, ì‹œì²­ë¥  ì €ì¥
                    period = "{}ë…„ {}ì›” {}ì£¼ì°¨".format(year, month, weekIndex + 1)
                    td_tags = tr_tag.select('td')
                    rank = td_tags[0].get_text()
                    program = td_tags[2].get_text()
                    percent = td_tags[3].get_text()
                    ws.append([period, rank, program, percent])

wb.save('SBS_ë°ì´í„°.xlsx')


### ì›¹ì‚¬ì´íŠ¸ ì œì–´í•˜ê¸°
## Seleniumì´ë€?

## Selenium ì¤€ë¹„í•˜ê¸°

Seleniumì„ ì‘ë™ì‹œí‚¤ë ¤ë©´ ë‘ ê°€ì§€ë¥¼ ì¤€ë¹„í•´ì•¼ í•©ë‹ˆë‹¤.

Seleniumê³¼ ì›¹ ë“œë¼ì´ë²„ (Web Driver)ì…ë‹ˆë‹¤.

ì„¤ì¹˜í•´ ë´…ì‹œë‹¤.

# 1. Selenium
Selenium ì—­ì‹œ ì™¸ë¶€ ë¼ì´ë¸ŒëŸ¬ë¦¬ì…ë‹ˆë‹¤. ìš°ë¦¬ê°€ ì„¤ì¹˜í•´ ë´¤ë˜ requestsì™€ bs4ì²˜ëŸ¼ pipì„ ì´ìš©í•´ì„œ ì„¤ì¹˜í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ê°•ì˜ì—ì„œëŠ” 3.141 ë²„ì „ì„ ì‚¬ìš©í•©ë‹ˆë‹¤. ì›í™œí•œ ì§„í–‰ì„ ìœ„í•´ ê°€ëŠ¥í•œ ë™ì¼ ë²„ì „ ì‚¬ìš©ì„ ê¶Œì¥í•©ë‹ˆë‹¤.


pip3 install selenium==3.141
(PyCharmì˜) í„°ë¯¸ë„ì´ë‚˜ cmdì— ìœ„ ëª…ë ¹ì–´ë¥¼ ì…ë ¥í•´ ì£¼ì„¸ìš”.
(PyCharm - ì„¤ì •ì˜ Project Interpreter íƒ­ì—ì„œ ì„¤ì¹˜í•˜ì…”ë„ ë©ë‹ˆë‹¤)
í˜„ì¬ ì„¤ì¹˜ëœ ë²„ì „ì€ í„°ë¯¸ë„ì´ë‚˜ cmd ì—ì„œ ì•„ë˜ ëª…ë ¹ìœ¼ë¡œ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.


pip3 show selenium
ë§Œì•½ ë²„ì „ì´ ë†’ê±°ë‚˜ ë‹¤ë¥´ë‹¤ë©´ ì•„ë˜ì™€ ê°™ì´ uninstall í›„ install ëª…ë ¹ìœ¼ë¡œ ì¬ì„¤ì¹˜ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.


pip3 uninstall selenium

# 2. ì›¹ ë“œë¼ì´ë²„
ì›¹ ë“œë¼ì´ë²„ë€?
ì›¹ ë“œë¼ì´ë²„ê°€ ë­˜ê¹Œìš”? ì¼ë°˜ì ìœ¼ë¡œ ë“œë¼ì´ë²„(driver)ëŠ” ìš´ì „ìë¥¼ ëœ»í•˜ì£ ? ê°™ì€ ì˜ë¯¸ì…ë‹ˆë‹¤. ì›¹ ë“œë¼ì´ë²„ëŠ” ì›¹ ë¸Œë¼ìš°ì €ë¥¼ ìš´ì „í•œë‹¤ëŠ” ê²ë‹ˆë‹¤.

ë³´í†µì€ ìš°ë¦¬ê°€ ì§ì ‘ ë§ˆìš°ìŠ¤ë¡œ í´ë¦­ì„ í•œë‹¤ê±°ë‚˜, í‚¤ë³´ë“œë¥¼ ì…ë ¥í•œë‹¤ê±°ë‚˜ í•˜ëŠ” ë°©ì‹ìœ¼ë¡œ ì›¹ ë¸Œë¼ìš°ì €ë¥¼ ì‚¬ìš©í•˜ëŠ”ë°, ì´ëŸ° ìš°ë¦¬ì˜ ë™ì‘ì„ ëŒ€ì‹ í•´ì„œ ì›¹ ë“œë¼ì´ë²„ë¼ëŠ” ê²ƒì´ ì›¹ ë¸Œë¼ìš°ì €ë¥¼ ì›€ì§ì´ë„ë¡ í•œë‹¤ëŠ” ê±°ì£ .

ê·¸ë¦¬ê³  ê° ì›¹ ë¸Œë¼ìš°ì €ì— í•´ë‹¹í•˜ëŠ” ì›¹ ë“œë¼ì´ë²„ê°€ ìˆëŠ”ë°ìš”. ì´ë²ˆ í† í”½ì—ì„œëŠ” êµ¬ê¸€ í¬ë¡¬ì„ ì‚¬ìš©í•˜ë‹ˆê¹Œ í¬ë¡¬ ë“œë¼ì´ë²„ë¥¼ ì„¤ì¹˜í•´ì•¼ê² ì£ ?

í¬ë¡¬ ë“œë¼ì´ë²„ ì„¤ì¹˜
í¬ë¡¬ ë“œë¼ì´ë²„ëŠ” í¬ë¡¬ ë²„ì „ë§ˆë‹¤ ë‹¤ë¥´ê¸° ë•Œë¬¸ì— ë¨¼ì € í¬ë¡¬ ë²„ì „ì„ í™•ì¸í•´ì•¼ í•©ë‹ˆë‹¤.



í¬ë¡¬ ë¸Œë¼ìš°ì € ìš°ì¸¡ ìƒë‹¨ì— ë©”ë‰´ ë²„íŠ¼ì„ í´ë¦­í•œ ë‹¤ìŒ Help â†’ About Google Chrome (ë„ì›€ë§ â†’ Chrome ì •ë³´)ì„ í´ë¦­í•˜ì‹œë©´ í¬ë¡¬ ë²„ì „ì„ í™•ì¸í•˜ì‹¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.



ìœ„ ì‚¬ì§„ì€ 107 ë²„ì „ì´ì£ ?

ë§Œì•½ ìµœì‹  ë²„ì „ì´ ì•„ë‹ˆë¼ë©´ ì—…ë°ì´íŠ¸ë¥¼ í•´ë‹¬ë¼ëŠ” ë©”ì‹œì§€ê°€ ìˆì„ ê²ë‹ˆë‹¤. í´ë¦­í•´ì„œ ì—…ë°ì´íŠ¸ë¥¼ í•´ ì£¼ì„¸ìš”.

í¬ë¡¬ ë“œë¼ì´ë²„ëŠ” ì´ ì›¹ì‚¬ì´íŠ¸ì—ì„œ ë‹¤ìš´ë¡œë“œ ë°›ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤: https://chromedriver.chromium.org/downloads



í¬ë¡¬ ë²„ì „ì— ë§ëŠ” ë§í¬ë¥¼ í´ë¦­í•´ ì£¼ì„¸ìš”.



ë‹¤ìŒê³¼ ê°™ì´ ì‚¬ìš©í•˜ëŠ” OSì™€ í”„ë¡œì„¸ì„œì— ë§ê²Œ ë‹¤ìš´ë¡œë“œë¥¼ í•´ì£¼ì„¸ìš”.

Windows: chromedriver_win32.zip
Mac ì¸í…” ì¹©: chromedriver_mac64.zip
Mac M ì‹œë¦¬ì¦ˆ ì¹©: chromedriver_mac_arm64.zip
ë‹¤ìš´ë¡œë“œê°€ ì™„ë£Œë˜ë©´ ì¢Œì¸¡ í•˜ë‹¨ì˜ ë²„íŠ¼ì„ ëˆŒëŸ¬ì£¼ì„¸ìš”.



WindowsëŠ” ì•„ë˜ì™€ ê°™ì´ ì••ì¶• í’€ê¸° ë²„íŠ¼ì„ ëˆŒëŸ¬ì£¼ì„¸ìš”.



Macì€ ìë™ìœ¼ë¡œ ì••ì¶•ì´ í’€ë¦½ë‹ˆë‹¤.

4eniblqsn-a.png

ê·¸ë¦¬ê³  Macì€ chromedriverë¥¼ ì—´ë©´ ì•„ë˜ì™€ ê°™ì€ ì˜¤ë¥˜ê°€ ë‚  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

dvxjmj31y-b.png

ê·¸ë ‡ë‹¤ë©´ ì„¤ì • ë©”ë‰´ë¡œ ê°€ì…”ì„œ Security & Privacy (ë³´ì•ˆ ë° ê°œì¸ ì •ë³´ ë³´í˜¸) ì•„ì´ì½˜ì„ í´ë¦­í•´ ì£¼ì„¸ìš”.

6yzljbtwl-c.png

ê·¸ëŸ° ë‹¤ìŒ ì•„ë˜ Open Anyway (í™•ì¸ ì—†ì´ ì—´ê¸°) ë²„íŠ¼ì„ ëˆŒëŸ¬ì£¼ì„¸ìš”.

rs79jhcap-d.png

ì•„ë˜ì™€ ê°™ì´ chromedriverê°€ ì˜ ì‹¤í–‰ë˜ë©´ ì…‹ì—…ì´ ëë‚œ ê²ë‹ˆë‹¤. ì°½ì„ ë‹«ì•„ ì£¼ì„¸ìš”.

8zfbpwwge-e.png

í¬ë¡¬ ë“œë¼ì´ë²„ ê²½ë¡œ
ì´ì œ chromedriverë¥¼ ì‚¬ìš©í•˜ê¸° í¸í•œ ìœ„ì¹˜ë¡œ ì˜®ê¸°ì…”ë„ ë©ë‹ˆë‹¤. í•˜ì§€ë§Œ ê²½ë¡œë¥¼ ë°˜ë“œì‹œ ë³¸ì¸ì´ ì•Œê³  ìˆì–´ì•¼ í•©ë‹ˆë‹¤.

ë§Œì•½ ê²½ë¡œë¥¼ ëª¨ë¥´ê² ë‹¤ë©´?

Windows:

chromedriverë¥¼ ì„ íƒí•œ í›„ í™ˆ íƒ­ì—ì„œ ê²½ë¡œ ë³µì‚¬ ë²„íŠ¼ì„ ëˆŒëŸ¬ ì£¼ë©´ chromedriver ê²½ë¡œê°€ ë³µì‚¬ë©ë‹ˆë‹¤. ì›¹ ë“œë¼ì´ë²„ë¥¼ ìƒì„±í•  ë•Œ ê·¸ëŒ€ë¡œ ë¶™ì—¬ë„£ìœ¼ì‹œë©´ ë©ë‹ˆë‹¤.



Mac:

chromedriverë¥¼ ìš°í´ë¦­ í•˜ì„¸ìš”.



ì´ ìƒíƒœì—ì„œ option í‚¤ë¥¼ ëˆ„ë¥´ë©´ Copy "chromedriver" â†’ Copy "chromedriver" as Pathname ("chromedriver" ë³µì‚¬ â†’ "chromedriver"ì˜ ê²½ë¡œ ì´ë¦„ ë³µì‚¬) ì´ë ‡ê²Œ ë°”ë€ë‹ˆë‹¤. ê·¸ê±¸ í´ë¦­í•´ ì£¼ì‹œë©´ ê²½ë¡œê°€ ë³µì‚¬ë©ë‹ˆë‹¤. ì›¹ ë“œë¼ì´ë²„ë¥¼ ìƒì„±í•  ë•Œ ê·¸ëŒ€ë¡œ ë¶™ì—¬ë„£ìœ¼ì‹œë©´ ë©ë‹ˆë‹¤.

# Selenium ì‹¤í–‰
ì´ì œ ì¤€ë¹„ê°€ ëª¨ë‘ ëë‚¬ìŠµë‹ˆë‹¤. ì˜ ë˜ëŠ”ì§€ ê°„ë‹¨í•œ ë™ì‘ì„ í•œë²ˆ ì‹œì¼œ ë´…ì‹œë‹¤.


# Selenium ì„í¬íŠ¸
from selenium import webdriver

# í¬ë¡¬ ë“œë¼ì´ë²„ ìƒì„±
driver = webdriver.Chrome('chromedriver ê²½ë¡œë¥¼ ë„£ì–´ ì£¼ì„¸ìš”')

# ì‚¬ì´íŠ¸ ì ‘ì†í•˜ê¸°
driver.get('https://codeit.kr')
ë¨¼ì € selenium ë¼ì´ë¸ŒëŸ¬ë¦¬ì—ì„œ webdriverë¥¼ ê°€ì ¸ì˜¤ê³ , í¬ë¡¬ ë“œë¼ì´ë²„ë¥¼ ìƒì„±í•œ í›„ ì½”ë“œì‡ ì›¹ì‚¬ì´íŠ¸ì— ì ‘ì†í•˜ëŠ” ì½”ë“œì…ë‹ˆë‹¤. ì´ ì½”ë“œë¥¼ ë³µì‚¬í•´ì„œ ì‹¤í–‰í•´ ì£¼ì„¸ìš”. 'chromedriver ê²½ë¡œë¥¼ ë„£ì–´ ì£¼ì„¸ìš”' ì´ ë¶€ë¶„ì„ ê¼­ ìì‹ ì˜ ì»´í“¨í„°ì˜ chromedriver ê²½ë¡œë¡œ ë°”ê¿”ì£¼ì„¸ìš” (ê²½ë¡œë¥¼ ëª¨ë¥´ì‹œê² ë‹¤ë©´ ìœ„ì— í¬ë¡¬ ë“œë¼ì´ë²„ ê²½ë¡œ ë¶€ë¶„ ì°¸ê³ í•˜ì„¸ìš”). ê²½ë¡œ ì˜ˆì‹œ: '/Users/codeit/Desktop/chromedriver'.

êµ¬ê¸€ í¬ë¡¬ì´ ì‹¤í–‰ë˜ê³ , ì½”ë“œì‡ ì›¹ì‚¬ì´íŠ¸ì— ìë™ìœ¼ë¡œ ì ‘ì†ë˜ë©´ ì˜ ì‹¤í–‰ì´ ë˜ëŠ” ê²ë‹ˆë‹¤!

ê·¸ëŸ¼ ë§ˆì§€ë§‰ìœ¼ë¡œ í•œ ê°€ì§€ë§Œ ë” í•´ ì¤„ê²Œìš”. driverë¥¼ ë‹¤ ì‚¬ìš©í–ˆìœ¼ë©´ driverë¥¼ ì¢…ë£Œí•´ ì£¼ëŠ” ê²ƒì´ ì¢‹ìŠµë‹ˆë‹¤ (íŒŒì´ì¬ìœ¼ë¡œ íŒŒì¼ì„ ì—´ì—ˆìœ¼ë©´, ì‚¬ìš©ì´ ëë‚œ í›„ ë‹«ì•„ì£¼ëŠ” ê²ƒê³¼ ë¹„ìŠ·í•©ë‹ˆë‹¤).


# í¬ë¡¬ ë“œë¼ì´ë²„ ì¢…ë£Œ
driver.quit() 
í•˜ì§€ë§Œ ì´ ì½”ë“œë¥¼ ì¨ ì£¼ë©´ ì›¹ ë¸Œë¼ìš°ì €ê°€ ë„ˆë¬´ ë¹¨ë¦¬ ì¢…ë£Œë˜ì–´ì„œ ë¬´ìŠ¨ ë™ì‘ì´ ìˆì—ˆëŠ”ì§€ íŒŒì•…í•˜ê¸°ê°€ í˜ë“¤ ìˆ˜ ìˆê¸° ë•Œë¬¸ì—, ì´ë²ˆ ì±•í„°ì˜ ì˜ìƒë“¤ì—ì„œëŠ” ì¢…ì¢… ì›¹ ë“œë¼ì´ë²„ë¥¼ ì¢…ë£Œí•˜ì§€ ì•Šì„ ë•Œë„ ìˆì„ ê²ë‹ˆë‹¤.

ê²½ë¡œë¥¼ ë§¤ë²ˆ ì„¤ì •í•´ ì£¼ëŠ” ê²ƒì´ ê·€ì°®ë‹¤ë©´?
ì›¹ ë“œë¼ì´ë²„ë¥¼ ìƒì„±í•  ë•Œ ê²½ë¡œë¥¼ ë§¤ë²ˆ ì„¤ì •í•´ ì£¼ëŠ” ê²ƒì´ ê·€ì°®ì„ ìˆ˜ë„ ìˆëŠ”ë°ìš”. chromedriverë¥¼

ìœˆë„ìš°ëŠ” C:\Windows
ë§¥ì€ /usr/local/bin
ê²½ë¡œë¡œ ì˜®ê²¨ì£¼ì‹œë©´ ì›¹ ë“œë¼ì´ë²„ë¥¼ ìƒì„±í•  ë•Œ ë”°ë¡œ ê²½ë¡œë¥¼ ì„¤ì •í•´ ì£¼ì§€ ì•Šì•„ë„ ë©ë‹ˆë‹¤.


 # Selenium ì„í¬íŠ¸
from selenium import webdriver

# í¬ë¡¬ ë“œë¼ì´ë²„ ìƒì„± - ê²½ë¡œ ì„¤ì • í•„ìš” ì—†ìŒ
driver = webdriver.Chrome()

# ì‚¬ì´íŠ¸ ì ‘ì†í•˜ê¸°
driver.get('https://codeit.kr')
ìœ ì˜ì‚¬í•­
í¬ë¡¬ì€ ìë™ìœ¼ë¡œ ì—…ë°ì´íŠ¸ë˜ê¸° ë•Œë¬¸ì— ì˜ ì‹¤í–‰ë˜ë˜ Selenium ì½”ë“œì—ì„œ ê°‘ìê¸° ì˜¤ë¥˜ê°€ ë‚  ìˆ˜ ìˆìŠµë‹ˆë‹¤.


selenium.common.exceptions.SessionNotCreatedException: Message: session not created: This version of ChromeDriver only supports Chrome version XX
í¬ë¡¬ ë²„ì „ê³¼ í¬ë¡¬ ë“œë¼ì´ë²„ ë²„ì „ì´ ì•ˆ ë§ëŠ” ê±°ì£ . ì´ëŸ° ì˜¤ë¥˜ê°€ ë‚˜ë©´ í˜„ì¬ í¬ë¡¬ ë²„ì „ì— ë§ëŠ” í¬ë¡¬ ë“œë¼ì´ë²„ë¥¼ ë‹¤ìš´ë¡œë“œí•´ ì£¼ì…”ì•¼ í•©ë‹ˆë‹¤.



## 
# Selenium ì„í¬íŠ¸
from selenium import webdriver

# í¬ë¡¬ ë“œë¼ì´ë²„ ìƒì„±
driver = webdriver.Chrome()

# ì‚¬ì´íŠ¸ ì ‘ì†í•˜ê¸°
driver.get('https://codeit.kr')




# í¬ë¡¬ ë“œë¼ì´ë²„ ì¢…ë£Œ
driver.quit() 



## ìë™ìœ¼ë¡œ ì•„ì´ë”” ë¹„ë°€ë²ˆí˜¸ ì…ë ¥í›„ ë¡œê·¸ì¸í•˜ê¸°
from selenium import webdriver


driver = webdriver.Chrome('/Users/codeit/web_automation/chromedriver')    # chromedriver ê²½ë¡œ
driver.implicitly_wait(3)

driver.get('https://workey.codeit.kr/costagram/index')

driver.find_element_by_css_selector('.top-nav__login-link').click()
driver.find_element_by_css_selector('.login-container__login-input').send_keys('codeit')
driver.find_element_by_css_selector('.login-container__password-input').send_keys('datascience')

driver.find_element_by_css_selector('.login-container__login-button').click()



## í¬ë¡¬ ê°œë°œì ë„êµ¬ë¡œ CSS ì„ íƒì ê°€ì ¸ì˜¤ê¸°

ì´ë²ˆ ë ˆìŠ¨ì—ì„œëŠ” ìš°ë¦¬ê°€ ì§€ê¸ˆê¹Œì§€ ì‚¬ìš©í•˜ì§€ ì•Šì•˜ë˜ í¬ë¡¬ ê°œë°œì ë„êµ¬ ê¸°ëŠ¥ì„ í•˜ë‚˜ ì†Œê°œí•´ ë“œë¦´ê²Œìš”.

ì´ì „ ì˜ìƒì—ì„œëŠ” ì½”ìŠ¤íƒ€ê·¸ë¨ ì›¹ì‚¬ì´íŠ¸ì— ê°€ì„œ ë¡œê·¸ì¸ í•˜ëŠ” ë™ì‘ì„ ìë™í™”í–ˆì—ˆì£ ?

qiyd3igpl-Untitled(rev).png

ë¡œê·¸ì¸ ë§í¬ë¥¼ ê²€ì‚¬í•´ì„œ í•„ìš”í•œ CSS ì„ íƒìë¥¼ ì‘ì„±í–ˆìŠµë‹ˆë‹¤.

í¬ë¡¬ ê°œë°œì ë„êµ¬ë¥¼ í™œìš©í•˜ë©´ ì›¹ ìš”ì†Œ(íƒœê·¸)ì˜ CSS ì„ íƒìë¥¼ ë°”ë¡œ ë³µì‚¬í•´ ì˜¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì›¹ ìš”ì†Œì— ëŒ€í•œ CSS ì„ íƒìë¥¼ ìš°ë¦¬ê°€ ì‘ì„±í•˜ì§€ ì•Šì•„ë„ ë˜ëŠ” ê±°ì£ .

ë¡œê·¸ì¸ ë§í¬ì— ëŒ€í•œ CSS ì„ íƒìë¥¼ ê°€ì ¸ì™€ ë³´ê² ìŠµë‹ˆë‹¤.



í•„ìš”í•œ ì›¹ ìš”ì†Œ ìœ„ì— ë§ˆìš°ìŠ¤ë¥¼ ì˜¬ë¦¬ê³  ìš°í´ë¦­ì„ í•œ ë‹¤ìŒ Copy â†’ Copy selectorë¥¼ í´ë¦­í•˜ì‹œë©´ ë©ë‹ˆë‹¤. ë³µì‚¬ëœ ì„ íƒìë¥¼ ë¶™ì—¬ë„£ì–´ ë³´ë©´,


#app > nav > div > a
ì´ë ‡ê²Œ ë‚˜ì˜µë‹ˆë‹¤. ì´ê±¸ ê·¸ëŒ€ë¡œ find_element_by_css_selector()ì˜ íŒŒë¼ë¯¸í„°ë¡œ ì“°ë©´ ë˜ëŠ” ê±°ì£ . ë‚˜ë¨¸ì§€ ìš”ì†Œë“¤(ì•„ì´ë”” ì…ë ¥ ì°½, ë¹„ë°€ë²ˆí˜¸ ì…ë ¥ ì°½, ë¡œê·¸ì¸ ë²„íŠ¼)ë„ ë˜‘ê°™ì´ ì„ íƒìë¥¼ ê°€ì ¸ì˜¬ ìˆ˜ ìˆê² ì£ ?

ì„ íƒìë¥¼ ê°€ì ¸ì™€ì„œ find_element_by_css_selector() ì•ˆì— ë¶™ì—¬ë„£ì–´ ì£¼ë©´ ì•„ë˜ ì½”ë“œê°€ ì™„ì„±ë©ë‹ˆë‹¤.


import time
from selenium import webdriver

driver = webdriver.Chrome()
driver.implicitly_wait(3)

driver.get('https://workey.codeit.kr/costagram/index')

driver.find_element_by_css_selector('#app > nav > div > a').click()

driver.find_element_by_css_selector('#app > div > div > div > form > input.login-container__login-input').send_keys('codeit')
driver.find_element_by_css_selector('#app > div > div > div > form > input.login-container__password-input').send_keys('datascience')

driver.find_element_by_css_selector('#app > div > div > div > form > input.login-container__login-button').click()
ì½”ë“œë¥¼ ì‹¤í–‰í•˜ë©´, ìë™ ë¡œê·¸ì¸ì´ ì˜ ë˜ëŠ” ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ì €ë²ˆ ì±•í„°ì—ì„œ ì´ ê¸°ëŠ¥ì„ ì†Œê°œí•´ë“œë¦¬ì§€ ì•Šì€ ì´ìœ ëŠ”, ì–´ì°¨í”¼ ì›¹ ìŠ¤í¬ë˜í•‘ì„ í•˜ë ¤ë©´ CSS ì„ íƒìë¥¼ ì˜ ì´í•´í•˜ê³  ë‹¤ë£° ì¤„ ì•Œì•„ì•¼ í•˜ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.

ì˜ˆë¥¼ ë“¤ì–´, ìš°ë¦¬ëŠ” ë‚˜ì¤‘ì— ì½”ìŠ¤íƒ€ê·¸ë¨ì—ì„œ ëª¨ë“  í¬ìŠ¤íŒ…ì— ëŒ€í•œ ì •ë³´ë¥¼ ê°€ì ¸ì˜¬ ê±´ë°ìš”. ê·¸ëŸ¬ë ¤ë©´ ë¨¼ì € ëª¨ë“  í¬ìŠ¤íŒ…(ì¸ë„¤ì¼)ì„ ê°€ì ¸ì™€ì•¼ í•©ë‹ˆë‹¤.

4addlqqos-Untitled3(rev).png

ì´ê²Œ ì²« ë²ˆì§¸ ì¸ë„¤ì¼ì„ ê²€ì‚¬í•œ ëª¨ìŠµì¸ë°ìš”. ëª¨ë“  ì¸ë„¤ì¼ì„ ê°€ì ¸ì˜¤ë ¤ë©´, ê·¸ëƒ¥ ì¸ë„¤ì¼ì˜ class ì´ë¦„ì„ ì‚¬ìš©í•˜ë©´ ë©ë‹ˆë‹¤.


driver.find_elements_by_css_selector('.post-list__post')
(post-list__post, post ë‘˜ ì¤‘ ì•„ë¬´ê±°ë‚˜ ì‚¬ìš©í•´ë„ ë©ë‹ˆë‹¤.)

ê·¸ëŸ°ë° ê°œë°œì ë„êµ¬ë¥¼ ì´ìš©í•´ì„œ ì„ íƒìë¥¼ ë³µì‚¬í•˜ë©´ ì•„ë˜ì™€ ê°™ì€ ì„ íƒìê°€ ë³µì‚¬ë©ë‹ˆë‹¤.


#app > main > div > div:nth-child(1)
ê½¤ë‚˜ ë³µì¡í•˜ì£ ? ìš°ë¦¬ê°€ ì˜ ëª¨ë¥´ëŠ” nth-child(1) ê°™ì€ ì„ íƒìë„ ë“¤ì–´ê°€ ìˆìŠµë‹ˆë‹¤. ìœ„ ì„ íƒìëŠ” ì²˜ìŒ ì¸ë„¤ì¼ì— ëŒ€í•œ ì„ íƒìì…ë‹ˆë‹¤. ëª¨ë“  ì¸ë„¤ì¼ì„ ê°€ì ¸ì˜¤ë ¤ë©´, ì–´ì°¨í”¼ ì´ ì„ íƒìë¥¼ ìˆ˜ì •í•´ì•¼ í•˜ëŠ” ê±°ì£ .

ë”°ë¼ì„œ ì„ íƒìë¥¼ ë³µì‚¬í•˜ëŠ” ê¸°ëŠ¥ì€ ì›¹ì‚¬ì´íŠ¸ì—ì„œ íŠ¹ì • ìš”ì†Œë¥¼ ì°¾ì•„ì•¼ í•  ë•Œ, ì˜ˆë¥¼ ë“¤ì–´ ë²„íŠ¼ í•˜ë‚˜ë¥¼ í´ë¦­í•´ì•¼ í•œë‹¤ê±°ë‚˜, ì…ë ¥ ì°½ì— ê°’ì„ ë„£ì–´ì¤˜ì•¼ í•œë‹¤ê±°ë‚˜, ì´ëŸ´ ë•Œ ì£¼ë¡œ ìœ ìš©í•˜ê²Œ ì“°ì…ë‹ˆë‹¤.

ì£¼ì˜ì‚¬í•­: ê°œë°œì ë„êµ¬ë¡œ ì„ íƒìë¥¼ ë³µì‚¬í•´ì„œ ì½”ë“œì— ë¶™ì—¬ ë„£ìœ¼ë©´ ê°€ë” ì„ íƒìì— í•´ë‹¹í•˜ëŠ” íƒœê·¸ë¥¼ ëª» ì°¾ëŠ” ê²½ìš°ê°€ ìˆìŠµë‹ˆë‹¤. ê·¸ ì´ìœ ëŠ” ê°œë°œì ë„êµ¬ì—ì„œ ë³´ëŠ” HTML ì½”ë“œì™€ ì›¹ í˜ì´ì§€ì˜ ì‹¤ì œ HTML ì½”ë“œëŠ” ë‹¤ì†Œ ë‹¤ë¥¼ ìˆ˜ ìˆê¸° ë•Œë¬¸ì¸ë°ìš”. ì„ íƒìë¥¼ ê·¸ëŒ€ë¡œ ë³µì‚¬í•´ì„œ ë„£ì—ˆëŠ”ë° íƒœê·¸ë¥¼ ëª» ì°¾ëŠ” ì˜¤ë¥˜ê°€ ë‚œë‹¤ë©´ ì§ì ‘ ì„ íƒìë¥¼ ì‘ì„±í•´ ì£¼ì„¸ìš”.



## ë‹¤ì–‘í•œ find_element ë©”ì†Œë“œ

Seleniumì—ëŠ” CSS ì„ íƒìë¥¼ ì‚¬ìš©í•˜ëŠ” find_element_by_css_selector() ë©”ì†Œë“œ ì™¸ì—ë„ ì›¹ ìš”ì†Œë¥¼ ì°¾ëŠ” ë‹¤ì–‘í•œ ë©”ì†Œë“œë“¤ì´ ìˆìŠµë‹ˆë‹¤.

ë°”ë¡œ ì†Œê°œí•´ë“œë¦´ê²Œìš”.

# íƒœê·¸ ì´ë¦„ìœ¼ë¡œ ì°¾ê¸°
driver.find_element_by_tag_name('tag_name')
íƒœê·¸ ì´ë¦„ìœ¼ë¡œ ìš”ì†Œë¥¼ ì°¾ìŠµë‹ˆë‹¤. íŒŒë¼ë¯¸í„°ë¡œ íƒœê·¸ ì´ë¦„ì„ ê·¸ëŒ€ë¡œ ì¨ ì£¼ë©´ ë©ë‹ˆë‹¤.

# idë¡œ ì°¾ê¸°
driver.find_element_by_id('id-name')
id ê°’ìœ¼ë¡œ ìš”ì†Œë¥¼ ì°¾ìŠµë‹ˆë‹¤. íŒŒë¼ë¯¸í„°ë¡œ id ê°’ì„ ê·¸ëŒ€ë¡œ ì¨ ì£¼ë©´ ë©ë‹ˆë‹¤. id ê°’ì´ 'id-name'ì´ë¼ë©´, '#id-name'ì´ ì•„ë‹Œ 'id-name'ì„ ê·¸ëŒ€ë¡œ ë„£ì–´ì£¼ì‹œë©´ ë©ë‹ˆë‹¤.

# classë¡œ ì°¾ê¸°
driver.find_element_by_class_name('class-name')
class ì´ë¦„ìœ¼ë¡œ ìš”ì†Œë¥¼ ì°¾ìŠµë‹ˆë‹¤. íŒŒë¼ë¯¸í„°ë¡œ class ì´ë¦„ì„ (. ì—†ì´) ê·¸ëŒ€ë¡œ ì¨ ì£¼ë©´ ë©ë‹ˆë‹¤.

ê°„ë‹¨í•˜ê²Œ íƒœê·¸ ì´ë¦„ì´ë‚˜, id ê°’, ë˜ëŠ” class ì´ë¦„ìœ¼ë¡œë§Œ ìš”ì†Œë¥¼ ì°¾ì„ ìˆ˜ ìˆë‹¤ë©´ ë°©ê¸ˆ ì†Œê°œí•´ë“œë¦° ë©”ì†Œë“œë“¤ì„ í™œìš©í•˜ëŠ” ê²Œ ë” í¸ë¦¬í•  ìˆ˜ë„ ìˆê² ì£ ?

# ë³µìˆ˜ ìš”ì†Œ ì°¾ê¸°
find_element ë©”ì†Œë“œë“¤ì€ ë§¤ì¹­ë˜ëŠ” ì›¹ ìš”ì†Œ í•˜ë‚˜ë¥¼ ë¦¬í„´í•´ ì¤ë‹ˆë‹¤. HTML ë¬¸ì„œì—ì„œ ê°€ì¥ ë¨¼ì € ë‚˜íƒ€ë‚˜ëŠ” ìš”ì†Œì¸ë°ìš”. ë§¤ì¹­ë˜ëŠ” ëª¨ë“  ìš”ì†Œë¥¼ ì°¾ê³  ì‹¶ë‹¤ë©´ ì–´ë–»ê²Œ í•´ì•¼ í• ê¹Œìš”?

find_elementsì™€ ê°™ì´ element ë’¤ì— së¥¼ ë¶™ì—¬ì£¼ë©´ ë©ë‹ˆë‹¤. ê·¸ëŸ¬ë‹ˆê¹Œ ì•„ë˜ì™€ ê°™ì´ ì“¸ ìˆ˜ ìˆê² ì£ ?

# CSS ì„ íƒì
driver.find_elements_by_css_selector('selector')

# íƒœê·¸ ì´ë¦„
driver.find_elements_by_tag_name('tag_name')

# class ì´ë¦„
driver.find_elements_by_class_name('class-name')
ì°¸ê³ ë¡œ id ê°’ì„ ì‚¬ìš©í•˜ëŠ” find_element_by_id() ë©”ì†Œë“œëŠ” sê°€ ë¶™ëŠ” ë²„ì „ì´ ì—†ìŠµë‹ˆë‹¤. ì£¼ì–´ì§„ id ê°’ì€ ìµœëŒ€ í•˜ë‚˜ì˜ ìš”ì†Œë§Œ ê°€ì§ˆ ìˆ˜ ìˆê¸° ë•Œë¬¸ì´ì£ . idì˜ íŠ¹ì„± ê¸°ì–µí•˜ì‹œì£ ?

Beautiful Soupì²˜ëŸ¼ find_element ë©”ì†Œë“œë“¤ì€ ì›¹ ìš”ì†Œ ìì²´ë¥¼ ë¦¬í„´í•˜ê³  find_elements ë©”ì†Œë“œë“¤ì€ ì›¹ ìš”ì†Œ ë¦¬ìŠ¤íŠ¸ë¥¼ ë¦¬í„´í•©ë‹ˆë‹¤.


## Selenium Wait

import time
from selenium import webdriver


driver = webdriver.Chrome('/Users/codeit/web_automation/chromedriver')    # chromedriver ê²½ë¡œ
driver.implicitly_wait(3)

driver.get('https://workey.codeit.kr/costagram/index')
time.sleep(1)

driver.find_element_by_css_selector('.top-nav__login-link').click()
time.sleep(1)
driver.find_element_by_css_selector('.login-container__login-input').send_keys('codeit')
driver.find_element_by_css_selector('.login-container__password-input').send_keys('datascience')

driver.find_element_by_css_selector('.login-container__login-button').click()



## Selenium Explicit Wait

# Explicit Waitì´ë€?
ì´ë²ˆ ë ˆìŠ¨ì—ì„œëŠ” ìƒˆë¡œìš´ ì¢…ë¥˜ì˜ wait, explicit waitì„ ì†Œê°œí•´ë“œë¦¬ê² ìŠµë‹ˆë‹¤.

implicit = 'ì•”ì‹œì ì¸', explicit = 'ëª…ì‹œì ì¸', ì´ëŸ° ëœ»ì„ ê°€ì§€ê³  ìˆëŠ”ë°ìš”.

ì €ë²ˆ ì˜ìƒì—ì„œ ë´¤ë˜ implicit waitì€ ì²˜ìŒì— í•œ ë²ˆë§Œ ì„¤ì •í•´ ì£¼ë©´ ëìŠµë‹ˆë‹¤. í•œ ë²ˆë§Œ ì„¤ì •í•´ ì£¼ë©´, ì°¾ìœ¼ë ¤ëŠ” ì›¹ ìš”ì†Œê°€ ì—†ì„ ë•Œë§ˆë‹¤ ìµœëŒ€í•œ Xì´ˆë¥¼ ê¸°ë‹¤ë ¤ ì¤ë‹ˆë‹¤. waitì´ í•„ìš”í•  ë•Œë§ˆë‹¤ ì„¤ì •í•´ ì£¼ëŠ” ê²ƒì´ ì•„ë‹ˆê¸° ë•Œë¬¸ì— ì•”ì‹œì ì´ë¼ê³  í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ë°˜ë©´ explicit waitì€ í•„ìš”í•œ ëª¨ë“  ìš”ì†Œì— ëŒ€í•´ ì •í™•íˆ ì–´ë–¤ ìƒíƒœê°€ ë  ë•Œê¹Œì§€ ê¸°ë‹¤ë¦´ ê²ƒì¸ì§€, ìµœëŒ€ ëª‡ ì´ˆ ê¸°ë‹¤ë¦´ ê²ƒì¸ì§€ë¥¼ ì¼ì¼ì´ ì„¤ì •í•´ ì£¼ëŠ” ë°©ì‹ì…ë‹ˆë‹¤. ì¦‰ ëª…ì‹œì ì¸ wait ë°©ì‹ì¸ ê±°ì£ .

ê·¸ëŸ¼ explicit waitì„ ì–´ë–»ê²Œ ì“°ëŠ”ì§€ ì•Œì•„ë´…ì‹œë‹¤.

# Explicit Wait ì¨ ë³´ê¸°
ì´ì „ ì˜ìƒì—ì„œëŠ” ë¡œê·¸ì¸ì„ í•  ë•Œ implicit waitê³¼ time.sleep()ì„ ì¼ì—ˆìŠµë‹ˆë‹¤.


import time
from selenium import webdriver

driver = webdriver.Chrome()
driver.implicitly_wait(3)

driver.get('https://workey.codeit.kr/costagram/index')
time.sleep(1)

driver.find_element_by_css_selector('.top-nav__login-link').click()
time.sleep(1)

driver.find_element_by_css_selector('.login-container__login-input').send_keys('codeit')
driver.find_element_by_css_selector('.login-container__password-input').send_keys('datascience')

driver.find_element_by_css_selector('.login-container__login-button').click()
ì´ë²ˆì—ëŠ” ë˜‘ê°™ì€ ì‘ì—…ì„ í•´ ë³´ëŠ”ë°, explicit waitì„ ì¨ ë³´ê² ìŠµë‹ˆë‹¤. ì°¸ê³ ë¡œ implicit waitê³¼ explicit waitì„ ë‘˜ ë‹¤ ì‚¬ìš©í•˜ëŠ” ê²ƒì€ ê¶Œì¥ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤. time.sleep()ì€ explicit waitê³¼ ê°™ì´ ì“°ì…”ë„ ë˜ì§€ë§Œ explicit waitì„ ì˜ êµ¬í˜„í•˜ì‹œë©´ time.sleep()ì´ í•„ìš” ì—†ì„ ê²ë‹ˆë‹¤.

ì¼ë‹¨ ì„í¬íŠ¸ ë¬¸ì„ ëª‡ ê°œ ì¶”ê°€í•´ ì¤˜ì•¼ í•©ë‹ˆë‹¤.


from selenium.webdriver.common.by import By
from selenium.webdriver.support.ui import WebDriverWait
from selenium.webdriver.support import expected_conditions as EC
ë¨¼ì € ë¡œê·¸ì¸ ë§í¬ë¥¼ í´ë¦­í•˜ëŠ” ì½”ë“œë¥¼ êµ¬í˜„í•´ ë³¼ ê±´ë°, ë§í¬ë‚˜ ë²„íŠ¼ ê°™ì€ ìš”ì†ŒëŠ”, ì›¹ì‚¬ì´íŠ¸ì— ì¡´ì¬í•˜ì§€ë§Œ í´ë¦­í•  ìˆ˜ ì—†ëŠ” ìƒíƒœì¼ ìˆ˜ ìˆë‹¤ê³  í–ˆì£ ? ìš°ë¦¬ëŠ” ë¡œê·¸ì¸ ë²„íŠ¼ì´ ë¡œë”©ë˜ê¸°ê¹Œì§€ ê¸°ë‹¤ë¦¬ëŠ”ë°, ì •í™•íˆ ë§í•´ì„œ ë¡œê·¸ì¸ ë§í¬ê°€ í´ë¦­ ê°€ëŠ¥í•œ ìƒíƒœì¼ ë•Œê¹Œì§€ ê¸°ë‹¤ë¦¬ê³  ì‹¶ìŠµë‹ˆë‹¤. explicit waitì„ ì´ìš©í•˜ë©´ ì´ê±¸ êµ¬í˜„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.


login_link = WebDriverWait(driver, 3).until(EC.element_to_be_clickable((By.CSS_SELECTOR, '.top-nav__login-link')))
ì´ë ‡ê²Œ êµ¬í˜„í•©ë‹ˆë‹¤. ìƒë‹¹íˆ ë³µì¡í•˜ì£ ? ê° ë¶€ë¶„ì„ ì‚´í´ë´…ì‹œë‹¤.


WebDriverWait(driver, 3)
ìš°ì„  WebDriverWaitì´ë¼ëŠ” ê±¸ ë§Œë“¤ì–´ ì£¼ê³ , wait ê¸°ê°„ì„ ì„¤ì •í•´ ì¤ë‹ˆë‹¤. ì§€ê¸ˆì€ 3ì´ˆë¡œ ë¼ìˆìŠµë‹ˆë‹¤. ë¬´ì¡°ê±´ 3ì´ˆë¥¼ ê¸°ë‹¤ë¦°ë‹¤ëŠ” ê²ƒì´ ì•„ë‹ˆë¼, ìµœëŒ€ 3ì´ˆë¥¼ ê¸°ë‹¤ë¦° ë‹¤ëŠ” ê²ƒì…ë‹ˆë‹¤.


WebDriverWait(driver, 3).until()
ê·¸ë¦¬ê³  .until() ë©”ì†Œë“œë¥¼ í˜¸ì¶œí•´ ì¤ë‹ˆë‹¤. íŠ¹ì • ì¡°ê±´ì´ ì¶©ì¡±ë  ë•Œê¹Œì§€ ê¸°ë‹¤ë¦¬ê² ë‹¤ëŠ” ëœ»ì…ë‹ˆë‹¤.


WebDriverWait(driver, 3).until(EC.element_to_be_clickable((By.CSS_SELECTOR, '.top-nav__login-link')))
ë§ˆì§€ë§‰ìœ¼ë¡œ ì•ˆì— ì¡°ê±´ì„ ë„£ì–´ì£¼ëŠ”ë°, ì´ê±´ CSS ì„ íƒìë¡œ .top-nav__login-linkì— í•´ë‹¹í•˜ëŠ” ìš”ì†Œë¥¼ ì°¾ëŠ”ë°, ê·¸ ìš”ì†Œê°€ clickable, ì¦‰ í´ë¦­ ê°€ëŠ¥í•´ì•¼ í•œë‹¤ëŠ” ëœ»ì…ë‹ˆë‹¤.

ì‚¬ì‹¤ ì´ ì½”ë“œë¥¼ ë³µì‚¬í•´ì„œ ì¡°ê±´ê³¼ ì„ íƒì ë¶€ë¶„ë§Œ ë°”ê¿”ê°€ë©´ì„œ ì“°ë©´ ë˜ë‹ˆê¹Œ ì½”ë“œë¥¼ ê¹Šê²Œ ì´í•´í•˜ì‹¤ í•„ìš”ëŠ” ì—†ìŠµë‹ˆë‹¤.

ì´ì œ login_linkë¥¼ ê°€ì ¸ì™”ìœ¼ë‹ˆ, í´ë¦­í•´ ì¤ì‹œë‹¤.


login_link = WebDriverWait(driver, 3).until(EC.element_to_be_clickable((By.CSS_SELECTOR, '.top-nav__login-link')))
login_link.click()
ê·¸ë¦¬ê³  ë‚˜ë¨¸ì§€ ì½”ë“œë„ ì™„ì„±í•´ ì¤„ê²Œìš”.


login_link = WebDriverWait(driver, 3).until(EC.element_to_be_clickable((By.CSS_SELECTOR, '.top-nav__login-link')))
login_link.click()

id_box = WebDriverWait(driver, 3).until(EC.visibility_of_element_located((By.CSS_SELECTOR, '.login-container__login-input')))
id_box.send_keys('codeit')

pw_box = WebDriverWait(driver, 3).until(EC.visibility_of_element_located((By.CSS_SELECTOR, '.login-container__password-input')))
pw_box.send_keys('datascience')

login_button = WebDriverWait(driver, 3).until(EC.element_to_be_clickable((By.CSS_SELECTOR, '.login-container__login-button')))
login_button.click()
ë™ì‘ 4ê°œ ë‹¤ ë¹„ìŠ·í•œë°, ì•„ì´ë””ì™€ ë¹„ë°€ë²ˆí˜¸ ì¹¸ì€ element_to_be_clickable() ëŒ€ì‹  visibility_of_element_located() ë©”ì†Œë“œë¥¼ ì‚¬ìš©í•´ ì¤¬ìŠµë‹ˆë‹¤. ì›¹ ìš”ì†Œê°€ ì‹¤ì œë¡œ ë³´ì¼ ë•Œê¹Œì§€ ê¸°ë‹¤ë¦¬ë¼ëŠ” ëœ»ì…ë‹ˆë‹¤. ì›¹ ìš”ì†Œê°€ ë³´ì¸ë‹¤ëŠ” ê²ƒì€, ë‹¨ìˆœíˆ ì¡´ì¬í•˜ëŠ” ìƒíƒœë¥¼ ë„˜ì–´ì„  ê²ë‹ˆë‹¤. ì›¹ ìš”ì†Œê°€ ë³´ì´ë©´ ì£¼ë¡œ ìƒí˜¸ ì‘ìš©ì´ ê°€ëŠ¥í•©ë‹ˆë‹¤.

ê° ìš”ì†Œë§ˆë‹¤ wait ê¸°ê°„ì„ ë°”ê¿”ì¤˜ë„ ë˜ëŠ”ë°, ë˜‘ê°™ì€ ê¸°ê°„ì„ ì‚¬ìš©í•  ê²ƒì´ë¼ë©´ WebDriverWaitì„ í•œ ë²ˆë§Œ ë§Œë“¤ì–´ ì¤˜ë„ ë©ë‹ˆë‹¤.


wait = WebDriverWait(driver, 3)

login_link = wait.until(EC.element_to_be_clickable((By.CSS_SELECTOR, '.top-nav__login-link')))
login_link.click()

id_box = wait.until(EC.visibility_of_element_located((By.CSS_SELECTOR, '.login-container__login-input')))
id_box.send_keys('codeit')

pw_box = wait.until(EC.visibility_of_element_located((By.CSS_SELECTOR, '.login-container__password-input')))
pw_box.send_keys('datascience')

login_button = wait.until(EC.element_to_be_clickable((By.CSS_SELECTOR, '.login-container__login-button')))
login_button.click()
ì „ì²´ ì½”ë“œëŠ” ì•„ë˜ì™€ ê°™ìŠµë‹ˆë‹¤.


from selenium import webdriver
from selenium.webdriver.common.by import By
from selenium.webdriver.support.ui import WebDriverWait
from selenium.webdriver.support import expected_conditions as EC

driver = webdriver.Chrome()

driver.get('https://workey.codeit.kr/costagram/index')

wait = WebDriverWait(driver, 3)

login_link = wait.until(EC.element_to_be_clickable((By.CSS_SELECTOR, '.top-nav__login-link')))
login_link.click()

id_box = wait.until(EC.visibility_of_element_located((By.CSS_SELECTOR, '.login-container__login-input')))
id_box.send_keys('codeit')

pw_box = wait.until(EC.visibility_of_element_located((By.CSS_SELECTOR, '.login-container__password-input')))
pw_box.send_keys('datascience')

login_button = wait.until(EC.element_to_be_clickable((By.CSS_SELECTOR, '.login-container__login-button')))
login_button.click()

driver.quit()

# ìœ ìš©í•œ wait ì¡°ê±´ë“¤
element_to_be_clickable() ì›¹ ìš”ì†Œê°€ í´ë¦­ ê°€ëŠ¥í•œ ìƒíƒœì¼ ë•Œê¹Œì§€ ê¸°ë‹¤ë¦¼.
visibility_of_element_located() ì›¹ ìš”ì†Œê°€ ì‹¤ì œë¡œ ë³´ì¼ ë•Œê¹Œì§€ ê¸°ë‹¤ë¦¼.
text_to_be_present_in_element() ì›¹ ìš”ì†Œ ì•ˆì— í…ìŠ¤íŠ¸ê°€ ë¡œë”©ë  ë•Œê¹Œì§€ ê¸°ë‹¤ë¦¼.
invisibility_of_element_located() ì›¹ ìš”ì†Œê°€ ì•ˆ ë³´ì¼ ë•Œê¹Œì§€ ê¸°ë‹¤ë¦¼.

ì—¬ê¸°ì„œ ëª¨ë“  wait ì¡°ê±´ì„ í™•ì¸í•˜ì‹¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤
explicit waitì€ ì½”ë“œê°€ í›¨ì”¬ ë³µì¡í•œ ëŒ€ì‹  ë” ì •í™•í•œ wait ì¡°ê±´ì„ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì´ê±¸ í™œìš©í•˜ë©´ ë¬´ì¡°ê±´ ì •í•´ì§„ ê¸°ê°„ì„ ê¸°ë‹¤ë¦¬ëŠ” time.sleep()ì„ ì“°ëŠ” ê²ƒë³´ë‹¤ ë” íš¨ìœ¨ì ì¸ ì½”ë“œë¥¼ ì§¤ ìˆ˜ ìˆê² ì£ ? ì›¹ ìš”ì†Œì— ì•Œë§ì€ ì¡°ê±´ì„ ì˜ ì‚¬ìš©í•˜ë©´ ë¡œë”© ë¬¸ì œ ë•Œë¬¸ì— ì½”ë“œê°€ ì‹¤íŒ¨í•  í™•ë¥ ë„ ë‚®ì•„ì§‘ë‹ˆë‹¤. ë§ì€ ë™ì‘ì´ ì‹¤íŒ¨ ì—†ì´ ì—°ì†ì ìœ¼ë¡œ ì´ë£¨ì–´ì €ì•¼ í•  ë•ŒëŠ” explicit waitì„ í™œìš©í•´ ë³´ì„¸ìš”!


### Selenium ì•¡ì…˜ ì²´ì¸

## ì•¡ì…˜ ì²´ì¸ì´ë€?
Seleniumì—ì„œ ì•¡ì…˜ ì²´ì¸(Action Chain)ì€ ì‚¬ìš©ìì˜ ë§ˆìš°ìŠ¤, í‚¤ë³´ë“œ ë™ì‘(action)ì„ ì‚¬ìŠ¬(chain)ì²˜ëŸ¼ ì´ì–´ì„œ ì‹¤í–‰í•˜ëŠ” ê²ƒì„ ëœ»í•©ë‹ˆë‹¤.

ì•¡ì…˜ ì²´ì¸ì„ ì‚¬ìš©í•˜ë©´:

ìš°ë¦¬ê°€ ë°°ìš´ í´ë¦­, í‚¤ë³´ë“œ ì…ë ¥ë¿ë§Œì´ ì•„ë‹ˆë¼ ë”ë¸” í´ë¦­, ë“œë˜ê·¸ ë“± ì‚¬ìš©ìì˜ ëª¨ë“  ë§ˆìš°ìŠ¤, í‚¤ë³´ë“œ ë™ì‘ì„ ìë™í™”í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. í´ë¦­, í‚¤ë³´ë“œ ì…ë ¥ ì™¸ì˜ ë™ì‘ì€ ì•¡ì…˜ ì²´ì¸ì´ ê¼­ í•„ìš”í•©ë‹ˆë‹¤.
ë§ì€ ë™ì‘ì„ í•œ ë²ˆì— ë¬¶ì–´ì„œ ì‹¤í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì‚¬ìš©ì ë™ì‘ ì‹œë‚˜ë¦¬ì˜¤ê°€ ë³µì¡í•´ì§ˆ ë•Œ ìœ ìš©í•©ë‹ˆë‹¤.
ì „ì— ë§ì”€ë“œë ¸ë“¯ì´ ë§ì€ ì‘ì—…ì€ í´ë¦­, í‚¤ë³´ë“œ ì…ë ¥ìœ¼ë¡œ í•´ê²°ë˜ê¸° ë•Œë¬¸ì— ë‚˜ì¤‘ì— ë” ì‹¬í™”ëœ ì•¡ì…˜ì´ í•„ìš”í•  ë•Œ ì´ ë…¸íŠ¸ë¥¼ ì½ì–´ë³´ì…”ë„ ì¢‹ìŠµë‹ˆë‹¤.

## ì•¡ì…˜ ì²´ì¸ ì‚¬ìš©í•˜ê¸°
ì•¡ì…˜ ì²´ì¸ì„ ì‚¬ìš©í•˜ëŠ” ë°©ë²•ì—ëŠ” ë‘ ê°€ì§€ê°€ ìˆìŠµë‹ˆë‹¤.

í•œ ì¤„ì˜ ì½”ë“œì—ì„œ, ê¼¬ë¦¬ì— ê¼¬ë¦¬ë¥¼ ë¬´ëŠ” ë°©ì‹ìœ¼ë¡œ ì—°ê²°í•˜ëŠ” ë°©ì‹.
í•˜ë‚˜ì˜ ì•¡ì…˜ì„ í•œ ì¤„ë¡œ ë§Œë“¤ì–´ì„œ, ë‚˜ì—´í•˜ëŠ” ë°©ì‹ì…ë‹ˆë‹¤.
ë‘ ë°©ë²• ëª¨ë‘, í•˜ë‚˜ì˜ ë™ì‘ì´ ì™„ë£Œë˜ë©´ ê·¸ë‹¤ìŒ ë™ì‘ì´ ìˆœì„œëŒ€ë¡œ ì‹¤í–‰ë©ë‹ˆë‹¤.

1. ì—°ê²°í•˜ëŠ” ë°©ì‹


from selenium.webdriver.common.action_chains import ActionChains

# ì‚¬ìš©ì ë™ì‘ì— í•„ìš”í•œ ì›¹ ìš”ì†Œë“¤ ì°¾ê¸°

(ActionChains(driver)
    # ì‚¬ìš©ì ì•¡ì…˜ ì •ì˜ 
    .perform())
2. ë‚˜ì—´í•˜ëŠ” ë°©ì‹


from selenium.webdriver.common.action_chains import ActionChains

# ì‚¬ìš©ì ë™ì‘ì— í•„ìš”í•œ ì›¹ ìš”ì†Œë“¤ ì°¾ê¸°

actions = ActionChains(driver)

# ì‚¬ìš©ì ì•¡ì…˜ ì •ì˜

actions.perform()
# ì‚¬ìš©ì ì•¡ì…˜ ì •ì˜ ë¶€ë¶„ì—ëŠ” ì•¡ì…˜ì„ ìˆ˜í–‰í•˜ëŠ” ë©”ì†Œë“œë“¤ì„ ì­‰ ì¨ ì£¼ë©´ ë©ë‹ˆë‹¤. ì•¡ì…˜ ë©”ì†Œë“œë“¤ì€ ë§ˆì§€ë§‰ ì„¹ì…˜ì— ì •ë¦¬ë¼ ìˆìŠµë‹ˆë‹¤.

ì˜ˆì‹œë¡œ ì „ì— ë´¤ë˜ ì½”ìŠ¤íƒ€ê·¸ë¨ ë¡œê·¸ì¸ ë™ì‘ì„ ë‹¤ì‹œ ì•¡ì…˜ ì²´ì¸ì„ í†µí•´ êµ¬í˜„í•´ ë³¼ê²Œìš”.

1. ì—°ê²°í•˜ëŠ” ë°©ì‹


import time
from selenium import webdriver
from selenium.webdriver import ActionChains

driver = webdriver.Chrome()
driver.implicitly_wait(3)

driver.get('https://workey.codeit.kr/costagram/index')

# ë¡œê·¸ì¸ ë§í¬ í´ë¦­
driver.find_element_by_css_selector('.top-nav__login-link').click()
time.sleep(1)

# ì•„ì´ë”” ë°•ìŠ¤, ë¹„ë°€ë²ˆí˜¸ ë°•ìŠ¤, ë¡œê·¸ì¸ ë²„íŠ¼ ì°¾ì•„ë†“ê¸°
id_box = driver.find_element_by_css_selector('.login-container__login-input')
pw_box = driver.find_element_by_css_selector('.login-container__password-input')
login_button = driver.find_element_by_css_selector('.login-container__login-button')

# ì•¡ì…˜ ì‹¤í–‰
(ActionChains(driver)
    .send_keys_to_element(id_box, 'codeit')
    .send_keys_to_element(pw_box, 'datascience')
    .click(login_button)
    .perform())

driver.quit()
ì•¡ì…˜ ì‹¤í–‰ ë¶€ë¶„ì—ì„œëŠ” ActionChainsë¥¼ ë§Œë“¤ì–´ ì£¼ê³ , í•„ìš”í•œ ë™ì‘ì„ ëª¨ë‘ ì •ì˜í•´ ì£¼ê³ , ëì— .perform() ë©”ì†Œë“œë¥¼ í˜¸ì¶œí•´ ì¤ë‹ˆë‹¤. ì½”ë“œë¥¼ ë‹¤ í•œ ì¤„ì— ì¨ë„ ë˜ì§€ë§Œ, ê·¸ëŸ¬ë©´ í•œ ì¤„ì´ ë„ˆë¬´ ê¸¸ì–´ì§€ê¸° ë•Œë¬¸ì— ê´„í˜¸ ()ë¡œ ì½”ë“œë¥¼ ê°ì‹¸ì¤¬ìŠµë‹ˆë‹¤. ê´„í˜¸ ì•ˆì— ìˆëŠ” ì½”ë“œëŠ” ì½”ë“œ í•œ ì¤„ë¡œ ì¸ì‹ë©ë‹ˆë‹¤.

ì•¡ì…˜ ì²´ì¸ì„ ì‚¬ìš©í•  ë•ŒëŠ” ì•¡ì…˜ ì²´ì¸ì— í•„ìš”í•œ ì›¹ ìš”ì†Œë“¤ì„ ë¨¼ì € ë‹¤ ì°¾ì•„ë†”ì•¼ í•©ë‹ˆë‹¤. ê·¸ëŸ°ë° ë¡œê·¸ì¸ ê³¼ì •ì„ ìƒê°í•´ ë³´ë©´, ë¡œê·¸ì¸ ë§í¬ë¥¼ í´ë¦­í•´ì•¼ ë¡œê·¸ì¸ ì°½ì´ ëœ¨ì£ ? ë¡œê·¸ì¸ ë§í¬ë¥¼ í´ë¦­í•œ ë‹¤ìŒì—ë§Œ ì•„ì´ë”” ì…ë ¥ ë°•ìŠ¤ ê°™ì€ ìš”ì†Œë“¤ì„ ì°¾ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë¡œê·¸ì¸ ë§í¬ë¥¼ í´ë¦­í•˜ê¸° ì „ì—ëŠ” í•„ìš”í•œ ìš”ì†Œë“¤ì„ ë‹¤ ì°¾ì•„ë†“ì„ ìˆ˜ ì—†ëŠ” ê±°ì£ . ë”°ë¼ì„œ ì²˜ìŒì— ë¡œê·¸ì¸ ë§í¬ë¥¼ í´ë¦­í•˜ëŠ” ê²ƒì€ ì²´ì¸ìœ¼ë¡œ ì—°ê²°í•  ìˆ˜ ì—†ê³ , ë‚˜ë¨¸ì§€ ì•„ì´ë”” ì…ë ¥, ë¹„ë°€ë²ˆí˜¸ ì…ë ¥, ë¡œê·¸ì¸ ë²„íŠ¼ í´ë¦­ë§Œ ì—°ê²°í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ì•„ë˜ ì½”ë“œëŠ” ì˜¤ë¥˜ê°€ ë‚©ë‹ˆë‹¤. ë¡œê·¸ì¸ ë§í¬ë¥¼ í´ë¦­í•˜ê¸° ì „ì— ì•„ì´ë”” ì…ë ¥ ë°•ìŠ¤ë¥¼ ì°¾ìœ¼ë ¤ê³  í•˜ê¸° ë•Œë¬¸ì´ì£ .


import time
from selenium import webdriver
from selenium.webdriver import ActionChains

driver = webdriver.Chrome()
driver.implicitly_wait(3)

driver.get('https://workey.codeit.kr/costagram/index')

# ë¡œê·¸ì¸ ë§í¬, ì•„ì´ë”” ë°•ìŠ¤, ë¹„ë°€ë²ˆí˜¸ ë°•ìŠ¤, ë¡œê·¸ì¸ ë²„íŠ¼ ì°¾ì•„ë†“ê¸°
login_link = driver.find_element_by_css_selector('.top-nav__login-link')
id_box = driver.find_element_by_css_selector('.login-container__login-input')
pw_box = driver.find_element_by_css_selector('.login-container__password-input')
login_button = driver.find_element_by_css_selector('.login-container__login-button')

# ì•¡ì…˜ ì‹¤í–‰
(ActionChains(driver)
    .click(login_link)
    .send_keys_to_element(id_box, 'codeit')
    .send_keys_to_element(pw_box, 'datascience')
    .click(login_button)
    .perform())

driver.quit()
2. ë‚˜ì—´í•˜ëŠ” ë°©ì‹


import time
from selenium import webdriver
from selenium.webdriver import ActionChains

driver = webdriver.Chrome()
driver.implicitly_wait(3)

driver.get('https://workey.codeit.kr/costagram/index')

# ë¡œê·¸ì¸ ë§í¬ í´ë¦­
driver.find_element_by_css_selector('.top-nav__login-link').click()
time.sleep(1)

# ì•„ì´ë”” ë°•ìŠ¤, ë¹„ë°€ë²ˆí˜¸ ë°•ìŠ¤, ë¡œê·¸ì¸ ë²„íŠ¼ ì°¾ì•„ë†“ê¸°
id_box = driver.find_element_by_css_selector('.login-container__login-input')
pw_box = driver.find_element_by_css_selector('.login-container__password-input')
login_button = driver.find_element_by_css_selector('.login-container__login-button')

# ì•¡ì…˜ ì‹¤í–‰
actions = ActionChains(driver)
actions.send_keys_to_element(id_box, 'codeit')
actions.send_keys_to_element(pw_box, 'datascience')
actions.click(login_button)
actions.perform()

driver.quit()
ë‚˜ì—´í•˜ëŠ” ë°©ì‹ì€ í•œ ì¤„ì— í•˜ë‚˜ì˜ ì•¡ì…˜ì„ ì¨ ì¤ë‹ˆë‹¤.

ì—°ê²°í•˜ëŠ” ë°©ì‹ê³¼ ë‚˜ì—´í•˜ëŠ” ë°©ì‹ ì¤‘ í¸í•˜ì‹  ë°©ë²•ì„ ì‚¬ìš©í•˜ì‹œë©´ ë©ë‹ˆë‹¤.

## ì•¡ì…˜ ì²´ì¸ ê¸°ëŠ¥
ì•¡ì…˜ ì²´ì¸ìœ¼ë¡œ êµ¬í˜„í•  ìˆ˜ ìˆëŠ” ê¸°ëŠ¥ì„ ì •ë¦¬í•´ë“œë¦´ê²Œìš”.

í•¨ìˆ˜ì— parameter=Noneì€ íŒŒë¼ë¯¸í„°ê°€ ì„ íƒì ì´ë¼ëŠ” ëœ»ì…ë‹ˆë‹¤. ë‚˜ë¨¸ì§€ íŒŒë¼ë¯¸í„°ëŠ” í•„ìˆ˜ì…ë‹ˆë‹¤.

# í´ë¦­
.click(element=None)
ì›¹ ìš”ì†Œ elementë¥¼ íŒŒë¼ë¯¸í„°ë¡œ ì „ë‹¬í•´ ì£¼ë©´ elementë¥¼ í´ë¦­í•˜ê³  ê·¸ë ‡ì§€ ì•Šìœ¼ë©´ í˜„ì¬ ë§ˆìš°ìŠ¤ê°€ ìœ„ì¹˜í•´ ìˆëŠ” ê³³ì„ í´ë¦­í•©ë‹ˆë‹¤.

# ë”ë¸” í´ë¦­
.double_click(element=None)
ì›¹ ìš”ì†Œ elementë¥¼ íŒŒë¼ë¯¸í„°ë¡œ ì „ë‹¬í•´ ì£¼ë©´ elementë¥¼ ë”ë¸” í´ë¦­í•˜ê³  ê·¸ë ‡ì§€ ì•Šìœ¼ë©´ í˜„ì¬ ë§ˆìš°ìŠ¤ê°€ ìœ„ì¹˜í•´ ìˆëŠ” ê³³ì„ ë”ë¸” í´ë¦­í•©ë‹ˆë‹¤.

# ìš°í´ë¦­
.context_click(element=None)
ì›¹ ìš”ì†Œ elementë¥¼ íŒŒë¼ë¯¸í„°ë¡œ ì „ë‹¬í•´ ì£¼ë©´ elementë¥¼ ìš°í´ë¦­í•˜ê³  ê·¸ë ‡ì§€ ì•Šìœ¼ë©´ í˜„ì¬ ë§ˆìš°ìŠ¤ê°€ ìœ„ì¹˜í•´ ìˆëŠ” ê³³ì„ ìš°í´ë¦­í•©ë‹ˆë‹¤.

# ë“œë˜ê·¸ ì•¤ ë“œë¡­
.drag_and_drop(source, target)
source ì›¹ ìš”ì†Œë¥¼ í´ë¦­í•´ì„œ target ì›¹ ìš”ì†Œê¹Œì§€ ë“œë˜ê·¸í•œ ë‹¤ìŒ, ë“œë¡­í•´ ì¤ë‹ˆë‹¤.

# ë§ˆìš°ìŠ¤ ì´ë™
.move_to_element(element)
element ì›¹ ìš”ì†Œê¹Œì§€ ë§ˆìš°ìŠ¤ë¥¼ ì›€ì§ì…ë‹ˆë‹¤.

# í‚¤ë³´ë“œ ì…ë ¥
.send_keys(keys)
.send_keys_to_element(element, keys)
send_keys()ëŠ” í˜„ì¬ ì„ íƒëœ ì›¹ ìš”ì†Œì— í‚¤ë³´ë“œ ì…ë ¥ì„ ë³´ë‚´ê³ , send_keys_to_element()ëŠ” element ìš”ì†Œì— í‚¤ë³´ë“œ ì…ë ¥ì„ ë³´ëƒ…ë‹ˆë‹¤.

# ë™ì‘ ì¤‘ì§€
.pause(seconds)
secondsì´ˆ ë™ì•ˆ ë™ì‘ì„ ë©ˆì¶¥ë‹ˆë‹¤. ì•¡ì…˜ ì²´ì¸ì—ëŠ” time.sleep() ëŒ€ì‹  .pause()ë¥¼ ì¨ ì£¼ì„¸ìš”.

ë‚˜ë¨¸ì§€ ì‚¬ìš©ì ë™ì‘ì€ ì—¬ê¸°ì„œ í™•ì¸í•´ ë³´ì„¸ìš”.


### ì›¹ì‚¬ì´íŠ¸ ì œì–´í•˜ê¸° ì •ë¦¬ ë…¸íŠ¸

## Selenium ë¼ì´ë¸ŒëŸ¬ë¦¬
Seleniumì€ ì›¹ ë¸Œë¼ìš°ì €ë¥¼ ìë™í™”í•˜ëŠ” ë„êµ¬ì…ë‹ˆë‹¤.

Seleniumì„ í™œìš©í•˜ë©´ í´ë¦­ì´ë‚˜ ìŠ¤í¬ë¡¤, í‚¤ë³´ë“œ ì…ë ¥ ê°™ì€ ì‚¬ìš©ìì˜ ë™ì‘ì„ ì œì–´í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì½”ë“œë¡œ ì‘ì„±ëœ ë‚´ê°€ ì›í•˜ëŠ” ë™ì‘ë“¤ì´ ë¸Œë¼ìš°ì €ì—ì„œ ìë™ìœ¼ë¡œ ì‹¤í–‰ë˜ëŠ” ê±°ì£ .

Seleniumì„ í™œìš©í•˜ë©´ ë¡œê·¸ì¸, ê²€ìƒ‰, ë²„íŠ¼ í´ë¦­ ê°™ì€ ì‘ì—…ì„ ìë™í™”í•  ìˆ˜ ìˆê¸° ë•Œë¬¸ì—, ë°ì´í„° ìˆ˜ì§‘ ë“± ì›¹ì„ ë‹¤ë°©ë©´ìœ¼ë¡œ ì‘ìš©í•˜ëŠ”ë° ì“¸ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

Selenium ë¬¸ì„œ 1, ë¬¸ì„œ 2 ì°¸ê³ í•˜ì„¸ìš”!

## Selenium ì„í¬íŠ¸
selenium ë¼ì´ë¸ŒëŸ¬ë¦¬ì—ì„œ webdriverë¥¼ ì„í¬íŠ¸í•´ ì¤ë‹ˆë‹¤.


from selenium import webdriver

## ì›¹ ë“œë¼ì´ë²„ ìƒì„±
ì›¹ ë“œë¼ì´ë²„ëŠ” ì›¹ ë¸Œë¼ìš°ì €ë¥¼ ìš´ì „(drive) í•˜ëŠ” ë„êµ¬ì…ë‹ˆë‹¤. ì›¹ ë“œë¼ì´ë²„ê°€ ì‚¬ìš©ì ë™ì‘ì„ ì‹¤í–‰í•´ ì¤ë‹ˆë‹¤.

ë¨¼ì € ì›¹ ë“œë¼ì´ë²„ë¥¼ ìƒì„±í•´ ì¤ë‹ˆë‹¤. í¬ë¡¬ ë¸Œë¼ìš°ì €ë¥¼ ì‚¬ìš©í•˜ë‹ˆê¹Œ, í¬ë¡¬ ë“œë¼ì´ë²„ë¥¼ ë§Œë“¤ì–´ ì¤ë‹ˆë‹¤.


driver = webdriver.Chrome('chromedriver ê²½ë¡œ')
ê·¸ë¦¬ê³  get() ë©”ì†Œë“œë¥¼ í™œìš©í•˜ë©´ ì›í•˜ëŠ” ì›¹ì‚¬ì´íŠ¸ì— ì ‘ì†í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.


driver.get('https://www.example.com')

## ì›¹ ìš”ì†Œ ì°¾ê¸°
ë¨¼ì € ì œì–´í•˜ë ¤ëŠ” ì›¹ ìš”ì†Œë¥¼ ì°¾ì•„ì•¼ í•©ë‹ˆë‹¤. ì›¹ ìš”ì†Œë¥¼ ì°¾ê¸° ìœ„í•´ì„  CSS ì„ íƒìë¥¼ í™œìš©í•˜ëŠ” find_element_by_css_selector() ë©”ì†Œë“œë¥¼ ì“¸ ìˆ˜ ìˆìŠµë‹ˆë‹¤.


driver.find_element_by_css_selector(selector)
ì„ íƒì selectorì— ë§¤ì¹­ë˜ëŠ” ì›¹ ìš”ì†Œê°€ ì„ íƒë©ë‹ˆë‹¤.

## ì›¹ ìš”ì†Œ ì œì–´í•˜ê¸°
ì›¹ ìš”ì†Œì— ê°€ì¥ ë§ì´ ì“°ì´ëŠ” ë™ì‘ì€ í´ë¦­ê³¼ í‚¤ë³´ë“œ ì…ë ¥ì…ë‹ˆë‹¤. click() ê³¼ send_keys() ë©”ì†Œë“œë¥¼ í™œìš©í•˜ë©´ ë©ë‹ˆë‹¤.


driver.find_element_by_css_selector(selector).click()
driver.find_element_by_css_selector(selector).send_keys('input')
í•„ìš”í•œ ì›¹ ìš”ì†Œë¥¼ ì°¾ê³ , ê·¸ê±¸ í´ë¦­í•˜ê±°ë‚˜ í‚¤ë³´ë“œ ì¸í’‹ì„ ì „ë‹¬í•´ ì¤ë‹ˆë‹¤.

## Wait ì„¤ì •í•˜ê¸°
ì›¹ì€ ë¡œë”©ë˜ëŠ” ë° ì‹œê°„ì´ ê±¸ë¦½ë‹ˆë‹¤. ì›¹ ìš”ì†Œê°€ ë¡œë”©ë˜ì§€ ì•Šì•˜ëŠ”ë° ê·¸ê±¸ ì°¾ìœ¼ë ¤ê³  í•˜ê±°ë‚˜, í´ë¦­í•˜ë ¤ê³  í•˜ë©´ ì˜¤ë¥˜ê°€ ë‚©ë‹ˆë‹¤. Seleniumì„ ì‚¬ìš©í•  ë•ŒëŠ” ì›¹ ìš”ì†Œì˜ ë¡œë”©ì„ ê¸°ë‹¤ë ¤ ì£¼ëŠ” ê²ƒì´ ì¤‘ìš”í•©ë‹ˆë‹¤.

ë‘ ê°€ì§€ wait ë°©ì‹ì„ ì˜ìƒìœ¼ë¡œ ì•Œì•„ë´¤ìŠµë‹ˆë‹¤.

# implicit wait
ì›¹ ë“œë¼ì´ë²„ì— implicit waitì„ ì„¤ì •í•´ ì£¼ë©´ ì°¾ìœ¼ë ¤ê³  í•˜ëŠ” ì›¹ ìš”ì†Œê°€ ì—†ì„ ë•Œ, ìµœëŒ€ ì„¤ì •í•´ ì¤€ ê¸°ê°„ë§Œí¼ ê¸°ë‹¤ë ¤ ì¤ë‹ˆë‹¤.


driver = webdriver.Chrome('chromedriver ê²½ë¡œ')
driver.implicitly_wait(3)
ë“œë¼ì´ë²„ë¥¼ ìƒì„±í•˜ê³ , í•œ ë²ˆë§Œ ì„¤ì •í•´ ì£¼ë©´ ë©ë‹ˆë‹¤. ìœ„ ì½”ë“œëŠ” ìµœëŒ€ 3ì´ˆë¥¼ ê¸°ë‹¤ë ¤ ì¤€ë‹¤ëŠ” ëœ»ì…ë‹ˆë‹¤. 3ì´ˆê°€ ì§€ë‚˜ë„ ì›¹ ìš”ì†Œë¥¼ ì°¾ì§€ ëª»í•˜ë©´ ì˜¤ë¥˜ê°€ ë‚©ë‹ˆë‹¤.

í•˜ì§€ë§Œ implicit waitì€ ì›¹ ìš”ì†Œê°€ ì¡´ì¬í•˜ëŠ”ì§€ ë§Œì„ í™•ì¸í•©ë‹ˆë‹¤. ì›¹ ìš”ì†Œê°€ ì¡´ì¬í•˜ì§€ë§Œ ì•„ì§ í´ë¦­ì€ ëª»í•˜ëŠ” ìƒíƒœì¼ ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.

ë”°ë¼ì„œ ì¶”ê°€ì ì¸ wait ë°©ì‹ì´ í•„ìš”í•©ë‹ˆë‹¤.

# time.sleep
time.sleepì€ ì •í•´ì§„ ê¸°ê°„ë§Œí¼ ë™ì‘ì„ ë©ˆì¶¥ë‹ˆë‹¤. í•­ìƒ ì •í•´ì§„ ê¸°ê°„ë§Œí¼ ê¸°ë‹¤ë ¤ ì£¼ëŠ” ê±°ì£ .

ë¨¼ì € time ëª¨ë“ˆì„ ì„í¬íŠ¸í•´ ì£¼ê³ 


import time
í•„ìš”í•œ ê³³ì— time.sleepì„ ì¶”ê°€í•´ ì¤ë‹ˆë‹¤.


time.sleep(1)
ìœ„ ì½”ë“œëŠ” 1ì´ˆ ë™ì•ˆ ê¸°ë‹¤ë¦°ë‹¤ëŠ” ëœ»ì´ê² ì£ ?

time.sleepì€ ë³´í†µ ì›¹ì‚¬ì´íŠ¸ ì½”ë“œê°€ ë¡œë”©ë˜ê±°ë‚˜ ë°”ë€Œê³  ë‚œ ì§í›„ì— ì¶”ê°€í•´ ì£¼ëŠ” ê²ƒì´ ì¢‹ìŠµë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´ ì›¹ì‚¬ì´íŠ¸ì— ì²˜ìŒ ì ‘ì†í•˜ê±°ë‚˜, ì–´ë–¤ ë²„íŠ¼ì„ í´ë¦­í•´ì„œ ìƒˆë¡œìš´ ì°½ì´ ëœ¬ë‹¤ë©´ (ìƒˆë¡œìš´ ì°½ì— ëŒ€í•œ HTML ì½”ë“œê°€ ì–´ë”˜ê°€ ë¡œë”©ë˜ê² ì£ ?), ì§í›„ì— time.sleepì„ ê±¸ì–´ ì£¼ëŠ” ê±°ì£ .




### Seleniumìœ¼ë¡œ ì›¹ ìŠ¤í¬ë˜í•‘í•˜ê¸°

import time
from selenium import webdriver

dirver = webdriver.Chrome('/Users/codeit/web_automation/chromedriver')
driver.implicitly_wait(3)

driver.get('https://workey.codeit.kr/music')
time.sleep(1)

popular_artists =[]

for artist in driver.find_elements_by_css_selector('ul.popular__order li'):
    popular_artists.append(artist.text.strip())

print(popular_artists)



### ê¿ˆì˜ ì§ì¥ ì „í™”ë²ˆí˜¸ ëª¨ìœ¼ê¸° IV

import requests
from bs4 import BeautifulSoup

# HTML ì½”ë“œ ë°›ì•„ì˜¤ê¸°
response = requests.get("https://workey.codeit.kr/orangebottle/index")

# BeautifulSoup ì‚¬ìš©í•´ì„œ HTML ì½”ë“œ ì •ë¦¬
soup = BeautifulSoup(response.text, 'html.parser')

branch_infos = []

# ëª¨ë“  ì§€ì ì— ëŒ€í•œ íƒœê·¸ ê°€ì ¸ì˜¤ê¸°
branch_tags = soup.select('div.branch')

for branch_tag in branch_tags:
    # ê° íƒœê·¸ì—ì„œ ì§€ì  ì´ë¦„, ì „í™”ë²ˆí˜¸ ê°€ì ¸ì˜¤ê¸°
    branch_name = branch_tag.select_one('p.city').get_text()
    address = branch_tag.select_one('p.address').get_text()
    phone_number = branch_tag.select_one('span.phoneNum').get_text()
    branch_infos.append([branch_name, address, phone_number])

# í…ŒìŠ¤íŠ¸ ì½”ë“œ
print(branch_infos)



## í•´ì„¤
ì •ë¦¬ëœ Selenium ë©”ì†Œë“œë“¤ì…ë‹ˆë‹¤.



ì´ì „ ê³¼ì œì˜ ì½”ë“œë¥¼ í•œ ì¤„ì”© Selenium ì½”ë“œë¡œ ë°”ê¿” ë³¼ê²Œìš”.

ë¨¼ì € imoprtë¬¸ì„ ë°”ê¿”ì¤˜ì•¼ í•©ë‹ˆë‹¤. requestsì™€ BeautifulSoup ëŒ€ì‹  seleniumì—ì„œ webdriverë¥¼ ê°€ì ¸ì˜µë‹ˆë‹¤.


import requests
from bs4 import BeautifulSoup

from selenium import webdriver
ì´ì „ì—ëŠ” requestsë¡œ ìš”ì²­ì„ ë³´ë‚´ê³ , ì‘ë‹µìœ¼ë¡œ ëŒì•„ì˜¨ HTML ì½”ë“œë¥¼ BeautifulSoupì„ í†µí•´ ì •ë¦¬í–ˆë‹¤ë©´, Seleniumì—ì„œëŠ” ì›¹ ë“œë¼ì´ë²„ë¥¼ ìƒì„±í•˜ê³ , ì›¹ ë“œë¼ì´ë²„ë¡œ ìš”ì²­ì„ ë³´ë‚´ë©´ ë©ë‹ˆë‹¤.


# HTML ì½”ë“œ ë°›ì•„ì˜¤ê¸°
response = requests.get("https://workey.codeit.kr/orangebottle/index")

# BeautifulSoup ì‚¬ìš©í•´ì„œ HTML ì½”ë“œ ì •ë¦¬
soup = BeautifulSoup(response.text, 'html.parser')

# ì›¹ ë“œë¼ì´ë²„ ì„¤ì •
driver = webdriver.Chrome()
driver.implicitly_wait(3)

driver.get('https://workey.codeit.kr/orangebottle/index')
ì´ì œ ëª¨ë“  ì§€ì ì— ëŒ€í•œ íƒœê·¸ë¥¼ ê°€ì ¸ì˜¤ë©´ ë˜ëŠ”ë°, soup.select()ëŠ” driver.find_elements_by_css_selector()ë¡œ ëŒ€ì²´í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ê·¸ë¦¬ê³  seleniumì—ì„œëŠ” ë³´í†µ 'íƒœê·¸' ëŒ€ì‹  'ì›¹ ìš”ì†Œ'ë¼ëŠ” ìš©ì–´ë¥¼ ì‚¬ìš©í•˜ê¸° ë•Œë¬¸ì—, ì½”ë“œì˜ ë™ì‘ì—ëŠ” ìƒê´€ì´ ì—†ì§€ë§Œ, ë³€ìˆ˜ ì´ë¦„ì„ ì•½ê°„ ë°”ê¿” ì¤¬ìŠµë‹ˆë‹¤.


# ëª¨ë“  ì§€ì ì— ëŒ€í•œ íƒœê·¸ ê°€ì ¸ì˜¤ê¸°
branch_tags = soup.select('div.branch')

# ëª¨ë“  ì§€ì ì— ëŒ€í•œ ì›¹ ìš”ì†Œ ê°€ì ¸ì˜¤ê¸°
branches = driver.find_elements_by_css_selector('div.branch')
ì´ì œ ê° ì§€ì ì— ëŒ€í•œ ì •ë³´ë¥¼ ê°€ì ¸ì˜¤ë©´ ë˜ëŠ”ë°, ì•„ë˜ì™€ ê°™ì´ ì½”ë“œë¥¼ ë°”ê¿”ì£¼ë©´ ë©ë‹ˆë‹¤.


for branch_tag in branch_tags:
    # ê° íƒœê·¸ì—ì„œ ì§€ì  ì´ë¦„, ì „í™”ë²ˆí˜¸ ê°€ì ¸ì˜¤ê¸°
    branch_name = branch_tag.select_one('p.city').get_text()
    address = branch_tag.select_one('p.address').get_text()
    phone_number = branch_tag.select_one('span.phoneNum').get_text()
    branch_infos.append([branch_name, address, phone_number])

for branch in branches:
    # ê° branch ìš”ì†Œì—ì„œ ì§€ì  ì´ë¦„, ì „í™”ë²ˆí˜¸ ê°€ì ¸ì˜¤ê¸°
    branch_name = branch.find_element_by_css_selector('p.city').text
    address = branch.find_element_by_css_selector('p.address').text
    phone_number = branch.find_element_by_css_selector('span.phoneNum').text
    branch_infos.append([branch_name, address, phone_number])
.select_one() â†’ .find_element_by_css_selector()
.get_text() â†’ .text

ê·¸ë¦¬ê³  ë§ˆì§€ë§‰ìœ¼ë¡œ, seleniumì€ ì›¹ ë“œë¼ì´ë²„ë¥¼ ì¢…ë£Œí•´ ì¤˜ì•¼ í•œë‹¤ëŠ” ê²ƒ ìŠì§€ ë§ˆì„¸ìš”!


driver.quit()

## ëª¨ë²” ë‹µì•ˆ

from selenium import webdriver

# ì›¹ ë“œë¼ì´ë²„ ì„¤ì •
driver = webdriver.Chrome()
driver.implicitly_wait(3)

driver.get('https://workey.codeit.kr/orangebottle/index')

branch_infos = []

# ëª¨ë“  ì§€ì ì— ëŒ€í•œ ì›¹ ìš”ì†Œ ê°€ì ¸ì˜¤ê¸°
branches = driver.find_elements_by_css_selector('div.branch')

for branch in branches:
    # ê° branch ìš”ì†Œì—ì„œ ì§€ì  ì´ë¦„, ì „í™”ë²ˆí˜¸ ê°€ì ¸ì˜¤ê¸°
    branch_name = branch.find_element_by_css_selector('p.city').text
    address = branch.find_element_by_css_selector('p.address').text
    phone_number = branch.find_element_by_css_selector('span.phoneNum').text
    branch_infos.append([branch_name, address, phone_number])

driver.quit()


### Seleniumìœ¼ë¡œ JavaScript ì‚¬ìš©í•˜ê¸°

import time
from selenium import webdriver

# ì›¹ ë“œë¼ì´ë²„ ì„¤ì •

# í˜„ì¬ scrollHeight ê°€ì ¸ì˜¤ê¸°
last_height = driver.execute_script("return document.body.scrollHeight")

while True:
    # scrollHeightê¹Œì§€ ìŠ¤í¬ë¡¤
    driver.execute_script("window.scrollTo(0, document.body.scrollHeight);")

    # ìƒˆë¡œìš´ ë‚´ìš© ë¡œë”©ë ë•Œê¹Œì§€ ê¸°ë‹¤ë¦¼
    time.sleep(0.5)

    # ìƒˆë¡œìš´ ë‚´ìš© ë¡œë”©ëëŠ”ì§€ í™•ì¸
    new_height = driver.execute_script("return document.body.scrollHeight")
    if new_height == last_height:
        break
    last_height = new_height



### í”Œë ˆì´ë¦¬ìŠ¤íŠ¸ ì •ë³´ ìŠ¤í¬ë˜í•‘

#

import time
from selenium import webdriver
from openpyxl import Workbook


wb = Workbook(write_only=True)
ws = wb.create_sheet('í”Œë ˆì´ ë¦¬ìŠ¤íŠ¸')
ws.append(['ì œëª©', 'í•´ì‹œíƒœê·¸', 'ì¢‹ì•„ìš” ìˆ˜', 'ê³¡ ìˆ˜'])

dirver = webdriver.Chrome('/Users/codeit/web_automation/chromedriver')
driver.implicitly_wait(3)

driver.get('https://workey.codeit.kr/music')
time.sleep(3)

# í˜„ì¬ scrollHeight ê°€ì ¸ì˜¤ê¸°
last_height = driver.execute_script("return document.body.scrollHeight")

while True:
    # scrollHeightê¹Œì§€ ìŠ¤í¬ë¡¤
    driver.execute_script("window.scrollTo(0, document.body.scrollHeight);")

    # ìƒˆë¡œìš´ ë‚´ìš© ë¡œë”©ë ë•Œê¹Œì§€ ê¸°ë‹¤ë¦¼
    time.sleep(0.5)

    # ìƒˆë¡œìš´ ë‚´ìš© ë¡œë”©ëëŠ”ì§€ í™•ì¸
    new_height = driver.execute_script("return document.body.scrollHeight")
    if new_height == last_height:
        break
    last_height = new_height

playlists = driver.find_elements_by_css_selector('div.playlist__meta')

for playlist in playlists:
    title = playlist.find_element_by_css_selector('h3.title').text
    hashtags = playlist.find_element_by_css_selector('p.tags').text
    like_cunt = playlist.find_element_by_css_selector('span.data__like-count').text
    music_count = playlist.find_element_by_css_selector('span.data__music-count').text

    ws.apend([title, hashtags, like_cunt,music_count])

driver.quit()
wb.save('í”Œë ˆì´ë¦¬ìŠ¤íŠ¸_ì •ë³´.xlsx')



### Seleniumê³¼ Beautiful Soup

ì›¹ ìŠ¤í¬ë˜í•‘ì„ í•  ë•ŒëŠ” ë¡œê·¸ì¸, ìŠ¤í¬ë¡¤ ê°™ì€ ë™ì‘ì´ í•„ìš”í•œ ê²½ìš°ê°€ ë§ì€ë°ìš”. ì´ëŸ° ë™ì‘ì€ Beautiful Soupìœ¼ë¡œ í•  ìˆ˜ ì—†ê¸° ë•Œë¬¸ì— Seleniumì„ í™œìš©í–ˆìŠµë‹ˆë‹¤.

ì›¹ì—ì„œ í•„ìš”í•œ ë™ì‘ (ë¡œê·¸ì¸, ìŠ¤í¬ë¡¤ ë“±)ê³¼ ì›¹ì—ì„œ ë°ì´í„°ë¥¼ ì¶”ì¶œí•´ ë‚´ëŠ” ê³¼ì •ì„ ëª¨ë‘ Seleniumìœ¼ë¡œ í•´ê²°í–ˆëŠ”ë°, ì‚¬ì‹¤ Seleniumê³¼ Beautiful Soupì„ ê°™ì´ ì¨ë„ ë©ë‹ˆë‹¤. Seleniumìœ¼ë¡œ í•„ìš”í•œ ë™ì‘ì„ ì‹¤í–‰í•˜ê³ , Beautiful Soupìœ¼ë¡œ ë°ì´í„°ë¥¼ ì¶”ì¶œí•´ ë‚´ëŠ” ê±°ì£ .

ë¨¼ì € Seleniumìœ¼ë¡œ ì›¹ì‚¬ì´íŠ¸ì— ì ‘ì†í•´ì„œ, í•„ìš”í•œ ë™ì‘ì„ ë‹¤ ì‹¤í–‰í•˜ë©´ ë™ì‘ì— ë”°ë¼ ì›¹ì‚¬ì´íŠ¸ì˜ HTML ì½”ë“œê°€ ë°”ë€” ê²ë‹ˆë‹¤. ê·¸ëŸ¼ ê·¸ HTML ì½”ë“œë¥¼ ê°€ì ¸ì™€ì„œ BeautifulSoupì„ ë§Œë“¤ê³  Beautiful Soupìœ¼ë¡œ í•„ìš”í•œ ë°ì´í„°ë¥¼ ì¶”ì¶œí•´ ë‚´ëŠ” ê±°ì£ . (ì•ìœ¼ë¡œ HTML ì½”ë“œì—ì„œ í•„ìš”í•œ ì •ë³´ë¥¼ ì¶”ì¶œí•´ ë‚´ëŠ” ê²ƒì„ íŒŒì‹±(parsing)ì´ë¼ê³  í• ê²Œìš”.)

ì´ë ‡ê²Œ í•˜ë©´ ì¢‹ì€ ì ì´ ë­˜ê¹Œìš”?

ì¼ë‹¨ì€ Beautiful Soup ë¬¸ë²•ì„ ì“¸ ìˆ˜ ìˆë‹¤ëŠ” ê²ë‹ˆë‹¤. Beautiful Soupì€ HTML íŒŒì‹±ì— ìµœì í™”ëœ ë¼ì´ë¸ŒëŸ¬ë¦¬ê¸° ë•Œë¬¸ì— íƒœê·¸ë¥¼ ì„ íƒí•˜ëŠ” ë‹¤ì–‘í•œ ë¬¸ë²•ì´ ì¡´ì¬í•˜ê³  (.find(), .select_one(), .tagname ë“±) ë¬¸ë²•ì´ Selenium ë³´ë‹¤ ë” ê°„ê²°í•©ë‹ˆë‹¤. Beautiful Soup ë¬¸ë²•ì´ ìµìˆ™í•˜ì‹œë‹¤ë©´ ì´ ë°©ë²•ìœ¼ë¡œ ì›¹ ìŠ¤í¬ë˜í•‘ì„ í•˜ëŠ” ê²ƒë„ ì¢‹ê² ì£ ?

ê·¸ë¦¬ê³  íŒŒì‹± ì‘ì—…ì„ í•  ë•ŒëŠ” Beatufiul Soupì´ ë” íš¨ìœ¨ì ì…ë‹ˆë‹¤. ì¦‰, Seleniumë³´ë‹¤ ë” ë¹ ë¥´ë‹¤ëŠ” ê±°ì£ . ë¬¼ë¡  ê°„ë‹¨í•œ ì‘ì—…ì„ í•  ë•ŒëŠ” í° ì°¨ì´ê°€ ì—†ê² ì§€ë§Œ, HTML ì½”ë“œê°€ ì—„ì²­ë‚˜ê²Œ ë³µì¡í•˜ê³  ì½”ë“œì—ì„œ ë§ì€ ì •ë³´ë¥¼ ì¶”ì¶œí•´ ë‚´ì•¼ í•œë‹¤ë©´ ì†ë„ ì°¨ì´ê°€ ìˆì„ ê²ë‹ˆë‹¤.

í•˜ì§€ë§Œ Beautiful Soupê³¼ Seleniumì„ ë‘˜ ë‹¤ í™œìš©í•˜ëŠ” ê±´ ë²ˆê±°ë¡œìš¸ ìˆ˜ ìˆê³ , ê¼­ Seleniumìœ¼ë¡œ ì›¹ ìŠ¤í¬ë˜í•‘ ì‘ì—…ì„ ë‹¤ í•´ì•¼ í•˜ëŠ” ê²½ìš°ë„ ìˆìŠµë‹ˆë‹¤. Seleniumìœ¼ë¡œ í•„ìš”í•œ ëª¨ë“  ë™ì‘ì„ ìˆ˜í–‰í•œ ë‹¤ìŒ í•œêº¼ë²ˆì— íŒŒì‹±ì„ í•˜ëŠ” ê²ƒì´ ì•„ë‹ˆë¼, ìŠ¤í¬ë˜í•‘ ì¤‘ê°„ì¤‘ê°„ì— ê³„ì† Selenium ë™ì‘ì´ í•„ìš”í•œ ê²½ìš°ì£ . (ë§ˆì§€ë§‰ ê³¼ì œë¡œ í•´ ë³´ì‹¤ ì½”ìŠ¤íƒ€ê·¸ë¨ ìŠ¤í¬ë˜í•‘ë„ ì´ë ‡ìŠµë‹ˆë‹¤).

ìƒí™©ê³¼ ì·¨í–¥ì— ë”°ë¼ Seleniumë§Œ ì“°ê±°ë‚˜, Selenium + Beautiful Soupì„ ê°™ì´ ì“°ì‹œë©´ ë©ë‹ˆë‹¤.

ê·¸ëŸ¼ ì´ì œ Seleniumê³¼ Beautiful Soupì„ ë‘˜ ë‹¤ ì‚¬ìš©í•˜ëŠ” ê±¸ ì§ì ‘ ë³´ì—¬ë“œë¦´ê²Œìš”. ì¼ë‹¨ ì•„ë˜ëŠ” ì €ë²ˆ ì˜ìƒì—ì„œ ë´¤ë˜ í”Œë ˆì´ë¦¬ìŠ¤íŠ¸ ìŠ¤í¬ë˜í•‘ ì½”ë“œì…ë‹ˆë‹¤.


import time
from selenium import webdriver
from openpyxl import Workbook

wb = Workbook(write_only=True)
ws = wb.create_sheet('í”Œë ˆì´ë¦¬ìŠ¤íŠ¸')
ws.append(['ì œëª©', 'íƒœê·¸', 'ì¢‹ì•„ìš” ìˆ˜', 'ë…¸ë˜ ìˆ˜'])

driver = webdriver.Chrome()
driver.implicitly_wait(3)

driver.get('https://workey.codeit.kr/music')
time.sleep(1)

# í˜ì´ì§€ ëê¹Œì§€ ìŠ¤í¬ë¡¤
last_height = driver.execute_script("return document.body.scrollHeight")

while True:
    driver.execute_script("window.scrollTo(0, document.body.scrollHeight);")
    time.sleep(0.5)

    new_height = driver.execute_script("return document.body.scrollHeight")
    if new_height == last_height:
        break
    last_height = new_height

### ìŠ¤í¬ë¡¤ ì™„ë£Œ ### 

playlists = driver.find_elements_by_css_selector('.playlist__meta')

for playlist in playlists:
    title = playlist.find_element_by_css_selector('h3.title').text
    hashtags = playlist.find_element_by_css_selector('p.tags').text
    like_count = playlist.find_element_by_css_selector('span.data__like-count').text
    music_count = playlist.find_element_by_css_selector('span.data__music-count').text
    ws.append([title, hashtags, like_count, music_count])

driver.quit()

wb.save('í”Œë ˆì´ë¦¬ìŠ¤íŠ¸.xlsx')
ì¤‘ê°„ì— 'ìŠ¤í¬ë¡¤ ì™„ë£Œ' ë¶€ë¶„ì— ë„ë‹¬í•˜ë©´, ìŠ¤í¬ë¡¤ì´ ë‹¤ ëë‚¬ì„ ê²ë‹ˆë‹¤. ê·¸ëŸ¬ë‹ˆê¹Œ í•„ìš”í•œ HTML ì½”ë“œê°€ ë‹¤ ë¡œë”©ëœ ìƒíƒœì¸ ê±°ì£ . ì—¬ê¸°ì„œ ì›¹ í˜ì´ì§€ì˜ HTML ì½”ë“œë¥¼ ê°€ì ¸ì™€ì„œ, BeautifulSoupì„ ë§Œë“¤ë©´ ë©ë‹ˆë‹¤.

í˜„ì¬ ì›¹ í˜ì´ì§€ì˜ HTML ì½”ë“œëŠ” driver.page_sourceë¡œ ê°€ì ¸ì˜¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤.


music_page = driver.page_source
driver.quit()

soup = BeautifulSoup(music_page, 'html.parser')
driverë¥¼ í†µí•´ ì›¹ í˜ì´ì§€ì˜ ì½”ë“œë¥¼ ê°€ì ¸ì™”ìœ¼ë©´, ë” ì´ìƒ driverë¥¼ ì“¸ ì¼ì´ ì—†ê¸° ë•Œë¬¸ì— driver.quit()ì„ ìœ„ë¡œ ì˜®ê²¨ì¤¬ìŠµë‹ˆë‹¤.

ì´ë ‡ê²Œ soupì„ ë§Œë“¤ì–´ ì¤¬ìœ¼ë©´, Beautiful Soupìœ¼ë¡œ ì •ë³´ë¥¼ ì¶”ì¶œí•˜ë©´ ë©ë‹ˆë‹¤. Beautiful Soup ë¬¸ë²•ì„ ì‚¬ìš©í•´ì„œ ì•„ë˜ì™€ ê°™ì´ ë°”ê¿”ì¤„ ìˆ˜ ìˆê² ì£ ?


soup = BeautifulSoup(music_page, 'html.parser')

playlists = soup.select('.playlist__meta')

for playlist in playlists:
    title = playlist.select_one('h3.title').get_text()
    hashtags = playlist.select_one('p.tags').get_text()
    like_count = playlist.select_one('span.data__like-count').get_text()
    music_count = playlist.select_one('span.data__music-count').get_text()
    ws.append([title, hashtags, like_count, music_count])
ì½”ë“œì˜ ë¡œì§ì€ ë˜‘ê°™ì€ë°, Selenium ëŒ€ì‹  Beautiful Soupì„ í™œìš©í•œ ê²ë‹ˆë‹¤. ì „ì²´ ì½”ë“œëŠ” ì•„ë˜ì™€ ê°™ìŠµë‹ˆë‹¤.


import time
from selenium import webdriver
from openpyxl import Workbook
from bs4 import BeautifulSoup

wb = Workbook(write_only=True)
ws = wb.create_sheet('í”Œë ˆì´ë¦¬ìŠ¤íŠ¸')
ws.append(['ì œëª©', 'íƒœê·¸', 'ì¢‹ì•„ìš” ìˆ˜', 'ë…¸ë˜ ìˆ˜'])

driver = webdriver.Chrome()
driver.implicitly_wait(3)

driver.get('https://workey.codeit.kr/music')
time.sleep(1)

# í˜ì´ì§€ ëê¹Œì§€ ìŠ¤í¬ë¡¤
last_height = driver.execute_script("return document.body.scrollHeight")

while True:
    driver.execute_script("window.scrollTo(0, document.body.scrollHeight);")
    time.sleep(0.5)

    new_height = driver.execute_script("return document.body.scrollHeight")
    if new_height == last_height:
        break
    last_height = new_height

### ìŠ¤í¬ë¡¤ ì™„ë£Œ ### 
music_page = driver.page_source
driver.quit()

soup = BeautifulSoup(music_page, 'html.parser')

playlists = soup.select('.playlist__meta')

for playlist in playlists:
    title = playlist.select_one('h3.title').get_text()
    hashtags = playlist.select_one('p.tags').get_text()
    like_count = playlist.select_one('span.data__like-count').get_text()
    music_count = playlist.select_one('span.data__music-count').get_text()
    ws.append([title, hashtags, like_count, music_count])

wb.save('í”Œë ˆì´ë¦¬ìŠ¤íŠ¸.xlsx')
ê·¸ëŸ¬ë‹ˆê¹Œ ê³¼ì •ì„ ì •ë¦¬í•´ ë³´ë©´ ì•„ë˜ì™€ ê°™ìŠµë‹ˆë‹¤:

Seleniumìœ¼ë¡œ ì›¹ì‚¬ì´íŠ¸ ì ‘ì† í›„ í•„ìš”í•œ ë™ì‘ì„ ìˆ˜í–‰í•˜ê¸°
driver.page_sourceë¡œ í˜„ì¬ ì›¹ì‚¬ì´íŠ¸ HTML ì½”ë“œ ê°€ì ¸ì˜¤ê¸°
ê°€ì ¸ì˜¨ HTML ì½”ë“œë¡œ BeautifulSoup ë§Œë“¤ê¸°
Beautiful Soupìœ¼ë¡œ ë°ì´í„° ì¶”ì¶œí•˜ê¸°


#### Seleniumê³¼ ì›¹ ìŠ¤í¬ë˜í•‘ ì •ë¦¬ ë…¸íŠ¸

# Selenium VS Beautiful Soup
Beautiful Soupìœ¼ë¡œ í•˜ëŠ” ì›¹ ìŠ¤í¬ë˜í•‘ì„ ëŒ€ë¶€ë¶„ Seleniumìœ¼ë¡œë„ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì•„ë˜ëŠ” Beautiful Soupì˜ ë©”ì†Œë“œë“¤ê³¼ ë§¤ì¹­ë˜ëŠ” Selenium ë©”ì†Œë“œë“¤ì„ ì •ë¦¬í•´ ë†“ì€ í‘œì…ë‹ˆë‹¤. í•„ìš”í•  ë•Œ ì°¸ê³ í•˜ì„¸ìš”.

(ì°¸ê³ ë¡œ Seleniumê³¼ BeautifulSoupì„ ê°™ì´ ì‚¬ìš©í•  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤. Seleniumê³¼ Beautiful Soup ë…¸íŠ¸ë¥¼ ì°¸ê³ í•˜ì„¸ìš”!)

# Beautiful Soup / Selenium
soup.select_one() / driver.find_element_by_css_selector()
soup.select() / driver.find_elements_by_css_selector()
Tag / webElement
tag.select() / web_element.find_elements_by_css_selector()
tag.get_text() / web_element.text
tag.strings / -
tag.stripped_strings / -
ta['attr'] / web_element.get_attribute('attr')


ìš°ë¦¬ê°€ ìƒê°í•˜ëŠ” HTML íƒœê·¸ë¥¼ Beautiful Soupì—ì„œëŠ” ê·¸ëƒ¥ íƒœê·¸(tag)ë¼ê³  ë¶ˆë €ì§€ë§Œ, Seleniumì—ì„œëŠ” ë³´í†µ ì›¹ ìš”ì†Œ(web element)ë¼ê³  ë¶€ë¦…ë‹ˆë‹¤.

Beautiful Soupì„ ì‚¬ìš©í•  ë•ŒëŠ” ë‹¨ìˆœíˆ HTML íƒœê·¸ì˜ ë‚´ìš©ë§Œ ë´¤ì§€ë§Œ, Seleniumì„ ì‚¬ìš©í•  ë•ŒëŠ” HTML íƒœê·¸ì— í•´ë‹¹í•˜ëŠ” ì›¹ ìš”ì†Œì™€ ìƒí˜¸ ì‘ìš©ì´ ìˆê¸° ë•Œë¬¸ì´ì£ . (íƒœê·¸ë¥¼ í´ë¦­í•œë‹¤ê±°ë‚˜ íƒœê·¸ì— ë¬´ì–¸ê°€ë¥¼ ì…ë ¥í•œë‹¤ê³  í•˜ë©´ ì´ìƒí•˜ê² ì£ ?)

ì›¹ ìš”ì†Œ ê°€ì ¸ì˜¤ê¸°

driver.find_element_by_css_selector(selector) # HTML ë¬¸ì„œì—ì„œ ë§¤ì¹­ë˜ëŠ” ì²˜ìŒ ìš”ì†Œ
driver.find_elements_by_css_selector(selector) # HTML ë¬¸ì„œì—ì„œ ë§¤ì¹­ë˜ëŠ” ëª¨ë“  ìš”ì†Œ
ìœ„ì™€ ê°™ì´ HTML ì½”ë“œ ì „ì²´ì—ì„œ ì›¹ ìš”ì†Œë¥¼ ì°¾ì„ ìˆ˜ë„ ìˆê³ 


web_element.find_element_by_css_selector(selector) # web_element ì•ˆì—ì„œ ë§¤ì¹­ë˜ëŠ” ì²˜ìŒ ìš”ì†Œ
web_element.find_elements_by_css_selector(selector) # web_element ì•ˆì—ì„œ ë§¤ì¹­ë˜ëŠ” ëª¨ë“  ìš”ì†Œ
ì›¹ ìš”ì†Œ ì•ˆì—ì„œ ë‹¤ë¥¸ ì›¹ ìš”ì†Œë¥¼ ì°¾ì„ ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.

find_element_by_css_selector()ëŠ” í•­ìƒ ì›¹ ìš”ì†Œë¥¼ ë¦¬í„´í•˜ê³  find_elements_by_css_selector()ëŠ” ì›¹ ìš”ì†Œê°€ ìˆëŠ” ë¦¬ìŠ¤íŠ¸ë¥¼ ë¦¬í„´í•©ë‹ˆë‹¤.

ì›¹ ìš”ì†Œì—ì„œ ë°ì´í„° ì¶”ì¶œí•˜ê¸°

web_element.text
ì›¹ ìš”ì†Œì˜ í…ìŠ¤íŠ¸ë¥¼ ê°€ì ¸ì˜¤ë ¤ë©´ .textë¥¼ í™œìš©í•©ë‹ˆë‹¤. Beautiful Soupì˜ .get_text()ì²˜ëŸ¼ ì›¹ ìš”ì†Œ ì•ˆì˜ ëª¨ë“  í…ìŠ¤íŠ¸ë¥¼ í•˜ë‚˜ë¡œ í•©ì³ì„œ ë¦¬í„´í•´ ì¤ë‹ˆë‹¤.


web_element.get_attribute('attr')
ì›¹ ìš”ì†Œì˜ ì†ì„±ì„ ê°€ì ¸ì˜¤ë ¤ë©´ .get_attribute()ì„ ì”ë‹ˆë‹¤. íŒŒë¼ë¯¸í„°ë¡œ ì†ì„± ì´ë¦„ì„ ë„£ì–´ì£¼ë©´ ë©ë‹ˆë‹¤.

Seleniumê³¼ JavaScript
ìë°”ìŠ¤í¬ë¦½íŠ¸ëŠ” ì›¹ í˜ì´ì§€ì— ë‹¤ì–‘í•œ ê¸°ëŠ¥ì„ ë„£ëŠ”ë° ì‚¬ìš©ë˜ëŠ” í”„ë¡œê·¸ë˜ë° ì–¸ì–´ì…ë‹ˆë‹¤.

ì›¹ì‚¬ì´íŠ¸ì—ì„œ ë¬´ì–¸ê°€ë¥¼ í´ë¦­í•˜ë©´ ì›¹ì‚¬ì´íŠ¸ê°€ ë°”ë€ë‹¤ë“ ê°€, ìŠ¤í¬ë¡¤ì„ í•˜ë©´ ìƒˆë¡œìš´ ë‚´ìš©ì´ ë¡œë”©ëœë‹¤ë“ ê°€, ì´ëŸ° ê²Œ ëª¨ë‘ ìë°”ìŠ¤í¬ë¦½íŠ¸ì˜ ì—­í• ì…ë‹ˆë‹¤.

Seleniumìœ¼ë¡œ ìë°”ìŠ¤í¬ë¦½íŠ¸ ì½”ë“œë¥¼ ì‹¤í–‰í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.


driver.execute_script("ìë°”ìŠ¤í¬ë¦½íŠ¸ ì½”ë“œ")
driver.execute_script() ë©”ì†Œë“œë¥¼ í™œìš©í•˜ë©´ ë©ë‹ˆë‹¤. íŒŒë¼ë¯¸í„°ë¡œ ì‹¤í–‰í•˜ê³  ì‹¶ì€ ìë°”ìŠ¤í¬ë¦½íŠ¸ ì½”ë“œë¥¼ ë„£ì–´ ì¤ë‹ˆë‹¤.

ìë°”ìŠ¤í¬ë¦½íŠ¸ë¡œëŠ” ë§ì€ ê±¸ í•  ìˆ˜ ìˆì§€ë§Œ, ì›¹ ìŠ¤í¬ë˜í•‘ì„ í•  ë•Œ ê°€ì¥ ë§ì´ ì“°ì´ëŠ” ë™ì‘ì€ ìŠ¤í¬ë¡¤ì…ë‹ˆë‹¤. ìŠ¤í¬ë¡¤ì„ í•´ì•¼ ì¶”ê°€ì ì¸ ë°ì´í„°ê°€ ë‚˜ì˜¤ëŠ” ê²½ìš°ê°€ ë§ê¸° ë•Œë¬¸ì´ì£ .


driver.execute_script("window.scrollTo(0, 200);")
ìœ„ ì½”ë“œëŠ” (0, 200) ìœ„ì¹˜ê¹Œì§€ ìŠ¤í¬ë¡¤ì„ í•˜ë¼ëŠ” ëœ»ì…ë‹ˆë‹¤.

ì´ëŸ° ìë°”ìŠ¤í¬ë¦½íŠ¸ ì½”ë“œë¥¼ ì´ìš©í•´ì„œ, ë” ì´ìƒ ë°ì´í„°ê°€ ì—†ì„ ë•Œê¹Œì§€, ì›¹ í˜ì´ì§€ ëê¹Œì§€ ìŠ¤í¬ë¡¤ì„ í•˜ëŠ” Selenium ì½”ë“œë¥¼ ì§¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.


# í˜„ì¬ scrollHeight ê°€ì ¸ì˜¤ê¸°
last_height = driver.execute_script("return document.body.scrollHeight")

while True:
    # scrollHeightê¹Œì§€ ìŠ¤í¬ë¡¤                               
    driver.execute_script("window.scrollTo(0, document.body.scrollHeight);")

    # ìƒˆë¡œìš´ ë‚´ìš© ë¡œë”©ë ë•Œê¹Œì§€ ê¸°ë‹¤ë¦¼
    time.sleep(0.5)
    
    # ìƒˆë¡œìš´ ë‚´ìš©ì´ ë¡œë”©ëëŠ”ì§€ í™•ì¸
    new_height = driver.execute_script("return document.body.scrollHeight")
    if new_height == last_height:
        break
    last_height = new_height
ì›¹ í˜ì´ì§€ ëê¹Œì§€ ìŠ¤í¬ë¡¤ì„ í•´ì•¼ í•˜ëŠ” ê²½ìš° ì´ ì½”ë“œë¥¼ ì“°ì‹œë©´ ë©ë‹ˆë‹¤.


### ì½”ìŠ¤íƒ€ê·¸ë¨ ìŠ¤í¬ë˜í•‘ I

# í•´ì„¤
1. í•„ìš” ë¼ì´ë¸ŒëŸ¬ë¦¬ë“¤ import

import time
from selenium import webdriver
ë‹¤ìŒì€ ì›¹ ë“œë¼ì´ë²„ë¥¼ ìƒì„±í•˜ê³  implicit_waitì„ ì„¤ì •í•´ ì¤„ê²Œìš”.


# ì›¹ ë“œë¼ì´ë²„ ì„¤ì •
driver = webdriver.Chrome()
driver.implicitly_wait(3)
ê·¸ë¦¬ê³  ì½”ìŠ¤íƒ€ê·¸ë¨ (https://workey.codeit.kr/costagram/index)ì— ì ‘ì†í•œ ë‹¤ìŒ, ì›¹ì‚¬ì´íŠ¸ê°€ ë¡œë”©ë˜ë„ë¡ 1ì´ˆ ê¸°ë‹¤ë ¤ ì¤ë‹ˆë‹¤.


driver.get('https://workey.codeit.kr/costagram/index')
time.sleep(1)
2. ì½”ìŠ¤íƒ€ê·¸ë¨ ë¡œê·¸ì¸
ì´ì œ ë¡œê·¸ì¸ì„ í•˜ë©´ ë˜ëŠ”ë°ìš”, ë¡œê·¸ì¸ ì½”ë“œëŠ” ì´ì „ì— ë§ì´ ë³´ì…¨ì£ ? ê·¸ëŒ€ë¡œ ì“°ì‹œë©´ ë©ë‹ˆë‹¤.


# ë¡œê·¸ì¸
driver.find_element_by_css_selector('.top-nav__login-link').click()

driver.find_element_by_css_selector('.login-container__login-input').send_keys('codeit')
driver.find_element_by_css_selector('.login-container__password-input').send_keys('datascience')

driver.find_element_by_css_selector('.login-container__login-button').click()
ì—¬ê¸°ì— ì ì ˆí•œ waitì„ ì¶”ê°€í•´ ì¤„ê²Œìš”.


# ë¡œê·¸ì¸
driver.find_element_by_css_selector('.top-nav__login-link').click()
time.sleep(1)

driver.find_element_by_css_selector('.login-container__login-input').send_keys('codeit')
driver.find_element_by_css_selector('.login-container__password-input').send_keys('datascience')

driver.find_element_by_css_selector('.login-container__login-button').click()
time.sleep(1)
ì›¹ì‚¬ì´íŠ¸ ì½”ë“œê°€ ë°”ë€ŒëŠ” ë¶€ë¶„ë§ˆë‹¤, ë’¤ì— sleepì„ 1ì´ˆê°„ ë„£ì–´ì¤¬ìŠµë‹ˆë‹¤.

3. ì›¹ í˜ì´ì§€ ëê¹Œì§€ ìŠ¤í¬ë¡¤
ìŠ¤í¬ë¡¤ë„ ì´ ì „ì— ë³´ì‹  ì  ìˆì£ ? ìŒì•… ì›¹ì‚¬ì´íŠ¸ë¥¼ ìŠ¤í¬ë¡¤í•  ë•Œ ì‚¬ìš©í–ˆë˜ ì½”ë“œë¥¼ ë˜‘ê°™ì´ ì“°ë©´ ë©ë‹ˆë‹¤.


# í˜ì´ì§€ ëê¹Œì§€ ìŠ¤í¬ë¡¤
last_height = driver.execute_script("return document.body.scrollHeight")

while True:
    driver.execute_script("window.scrollTo(0, document.body.scrollHeight);")

    time.sleep(0.5)

    new_height = driver.execute_script("return document.body.scrollHeight")
    if new_height == last_height:
        break
    last_height = new_height
sleepì´ ì´ë¯¸ ë“¤ì–´ê°€ ìˆìœ¼ë‹ˆ, ë”°ë¡œ ì¶”ê°€í•´ ì£¼ì§€ ì•Šê² ìŠµë‹ˆë‹¤.

4. ê° ì¸ë„¤ì¼(í¬ìŠ¤íŒ…)ì„ í´ë¦­í•˜ê³ , ì°½ì´ ëœ¨ë©´ ë‹«ê¸° ë²„íŠ¼ ëˆ„ë¥´ê¸°
ê° ì¸ë„¤ì¼ì„ í´ë¦­í•˜ë ¤ë©´, ì¸ë„¤ì¼ì— í•´ë‹¹í•˜ëŠ” ì›¹ ìš”ì†Œë¥¼ ëª¨ë‘ ê°€ì§€ê³  ì™€ì•¼ê² ì£ ?



í•˜ì´ë¼ì´íŠ¸ëœ ë¶€ë¶„ì´ ì²« ë²ˆì§¸ ì¸ë„¤ì¼ì— í•´ë‹¹í•˜ëŠ” ë¶€ë¶„ì¸ë°ìš”. div íƒœê·¸ì—, class ì´ë¦„ì€ post-list__post, ê·¸ë¦¬ê³  postë¡œ ë¼ìˆì£ ? class ì†ì„±ì— ì—¬ëŸ¬ ê°’ì„ ì „ë‹¬í•´ ì¤„ ë•ŒëŠ”, "post-list__post post"ì²˜ëŸ¼ ë„ì–´ì“°ê¸°ë¥¼ í™œìš©í•œë‹¤ê³  í–ˆìŠµë‹ˆë‹¤.

ì‚¬ì‹¤ post-list__post, post ë‘˜ ë‹¤ ì¸ë„¤ì¼ì—ë§Œ ì‚¬ìš©ë˜ê¸° ë•Œë¬¸ì— ë‘˜ ì¤‘ ì•„ë¬´ê±°ë‚˜ ì„ íƒìë¡œ ì¨ë„ ë©ë‹ˆë‹¤. ë‘˜ì„ AND ì—°ì‚°ìœ¼ë¡œ ì¡°í•©í•´ë„ ë˜ê³ ìš”. ì—¬ê¸°ì„œëŠ” ê·¸ëƒ¥ post-list__postë¥¼ ì“¸ê²Œìš”.


# ëª¨ë“  ì¸ë„¤ì¼ ìš”ì†Œ ê°€ì ¸ì˜¤ê¸°
posts = driver.find_elements_by_css_selector('.post-list__post')
ì ì´ì œ, ê° ì¸ë„¤ì¼ì„ í´ë¦­í•˜ê³ , í¬ìŠ¤íŠ¸ ìƒì„¸ ì°½ì´ ëœ¨ë©´, ë‹«ì•„ì£¼ë©´ ë©ë‹ˆë‹¤. ë°˜ë³µì ì¸ ì‘ì—…ì„ ì‹¤í–‰í•˜ê¸° ìœ„í•´ì„œ for ë¬¸ì„ ì¨ ì£¼ë©´ ë˜ê² ì£ ?


for post in posts:
    # ì¸ë„¤ì¼ í´ë¦­

    # ë‹«ê¸° ë²„íŠ¼ í´ë¦­
í¬ìŠ¤íŠ¸ë¥¼ í´ë¦­í•˜ëŠ” ê±´ ì•„ì£¼ ê°„ë‹¨í•œë°ìš”,  postëŠ” ì¸ë„¤ì¼ì— í•´ë‹¹í•˜ëŠ” ì›¹ ìš”ì†Œë‹ˆê¹Œ postë¥¼ í´ë¦­í•´ ì£¼ë©´ ë©ë‹ˆë‹¤.


for post in posts:
    # ì¸ë„¤ì¼ í´ë¦­
    post.click()
    time.sleep(0.5)

    # ë‹«ê¸° ë²„íŠ¼ í´ë¦­
í¬ìŠ¤íŠ¸ ìƒì„¸ ì°½ì´ ëœ¨ë„ë¡ 0.5ì´ˆ ì •ë„ ê¸°ë‹¤ë ¤ ì£¼ëŠ” ì½”ë“œë„ ì¶”ê°€í•´ ì¤¬ìŠµë‹ˆë‹¤.

ê·¸ëŸ¼ ì´ì œ ë‹«ê¸° ë²„íŠ¼ì„ ì°¾ì•„ì•¼ í•˜ëŠ”ë°ìš”.



close-btnì´ë¼ëŠ” í´ë˜ìŠ¤ ì´ë¦„ì€ ë‹«ê¸° ë²„íŠ¼ì—ë§Œ ì“°ì´ê¸° ë•Œë¬¸ì— ì´ê±¸ ê·¸ëŒ€ë¡œ ì„ íƒìë¡œ ì‚¬ìš©í•˜ì‹œë©´ ë©ë‹ˆë‹¤.


for post in posts:
    # ì¸ë„¤ì¼ í´ë¦­
    post.click()
    time.sleep(0.5)

    # ë‹«ê¸° ë²„íŠ¼ í´ë¦­
    driver.find_element_by_css_selector('.close-btn')
ì°¸ê³ ë¡œ ì—¬ê¸°ì„œ post.find_element_by_css_selector('.close-btn')ì„ í•˜ì‹œë©´ ì•ˆë©ë‹ˆë‹¤. ì´ì „ì— ì„¤ëª…ë“œë ¸ë“¯ì´, í¬ìŠ¤íŒ… ìƒì„¸ ì°½ì— ëŒ€í•œ ì½”ë“œëŠ” post ì•ˆì— ìƒê¸°ëŠ” ê²Œ ì•„ë‹ˆë¼, ë³„ë„ë¡œ ìƒê¸°ê¸° ë•Œë¬¸ì´ì£ .

ê·¸ëŸ¼ ë‹«ê¸° ë²„íŠ¼ì„ í´ë¦­í•˜ê³ , ì°½ì´ ì—†ì–´ì§€ë„ë¡ ë˜ 0.5ì´ˆë¥¼ ê¸°ë‹¤ë ¤ ì¤„ê²Œìš”.


for post in posts:
    # ì¸ë„¤ì¼ í´ë¦­
    post.click()
    time.sleep(0.5)

    # ë‹«ê¸° ë²„íŠ¼ í´ë¦­
    driver.find_element_by_css_selector('.close-btn').click()
    time.sleep(0.5)
5. ì›¹ ë“œë¼ì´ë²„ ì¢…ë£Œ
ì›¹ ë“œë¼ì´ë²„ë¥¼ ì¢…ë£Œí•˜ë ¤ë©´ .quit() ë©”ì†Œë“œë¥¼ ì“°ë©´ ë©ë‹ˆë‹¤.


driver.quit()
ì´ì œ ì½”ë“œê°€ ì™„ì„±ëëŠ”ë°ìš”. ì½”ë“œë¥¼ ì‹¤í–‰í•´ ë³´ì‹œë©´ ì›¹ ë¸Œë¼ìš°ì €ê°€ ìë™ìœ¼ë¡œ ì‹¤í–‰ë˜ê³ , ë¡œê·¸ì¸, ìŠ¤í¬ë¡¤, ëª¨ë“  í¬ìŠ¤íŠ¸ë¥¼ ì—´ê³  ë‹«ëŠ” ì‘ì—…ì´ ìë™í™”ëœ ê±¸ í™•ì¸í•˜ì‹¤ ìˆ˜ ìˆì„ ê²ë‹ˆë‹¤.

ëª¨ë²” ë‹µì•ˆ

import time
from selenium import webdriver

# ì›¹ ë“œë¼ì´ë²„ ì„¤ì •
driver = webdriver.Chrome()
driver.implicitly_wait(3)

driver.get('https://workey.codeit.kr/costagram/index')
time.sleep(1)

# ë¡œê·¸ì¸
driver.find_element_by_css_selector('.top-nav__login-link').click()
time.sleep(1)

driver.find_element_by_css_selector('.login-container__login-input').send_keys('codeit')
driver.find_element_by_css_selector('.login-container__password-input').send_keys('datascience')

driver.find_element_by_css_selector('.login-container__login-button').click()
time.sleep(1)

# í˜ì´ì§€ ëê¹Œì§€ ìŠ¤í¬ë¡¤
last_height = driver.execute_script("return document.body.scrollHeight")

while True:
    driver.execute_script("window.scrollTo(0, document.body.scrollHeight);")

    time.sleep(0.5)

    new_height = driver.execute_script("return document.body.scrollHeight")
    if new_height == last_height:
        break
    last_height = new_height

# ëª¨ë“  ì¸ë„¤ì¼ ìš”ì†Œ ê°€ì ¸ì˜¤ê¸°
posts = driver.find_elements_by_css_selector('.post-list__post')

for post in posts:
    # ì¸ë„¤ì¼ í´ë¦­
    post.click()
    time.sleep(0.5)

    # ë‹«ê¸° ë²„íŠ¼ í´ë¦­
    driver.find_element_by_css_selector('.close-btn').click()
    time.sleep(0.5)

driver.quit()


### ì½”ìŠ¤íƒ€ê·¸ë¨ ìŠ¤í¬ë˜í•‘ II

# í•´ì„¤
vd2sog4hi-prac10-1.png

ë¨¼ì € ì´ë¯¸ì§€ì— í•´ë‹¹í•˜ëŠ” <div> íƒœê·¸ë¥¼ ê°€ì ¸ì˜µì‹œë‹¤. ì´ë¯¸ì§€ë¥¼ ë‹´ê³  ìˆëŠ” <div> íƒœê·¸ì˜ class ì´ë¦„ì€ post-container__imageì£ ? ì´ê±¸ ì„ íƒìë¡œ ì“°ê² ìŠµë‹ˆë‹¤.


for post in posts:
    ...

    # ì´ë¯¸ì§€ ì£¼ì†Œ ê°€ì ¸ì˜¤ê¸°
    driver.find_element_by_css_selector('.post-container__image')

    ...
ê·¸ë¦¬ê³  ì´ <div> íƒœê·¸ì˜ style ì†ì„±ì„ ê°€ì ¸ì˜¤ë©´ ë˜ëŠ”ë°ìš”, ì†ì„±ì„ ê°€ì ¸ì˜¤ë ¤ë©´ .get_attribute() ë©”ì†Œë“œë¥¼ ì“°ë©´ ë©ë‹ˆë‹¤.


for post in posts:
    ...

    # ì´ë¯¸ì§€ ì£¼ì†Œ ê°€ì ¸ì˜¤ê¸°
    style_attr = driver.find_element_by_css_selector('.post-container__image').get_attribute('style')

    ...
style_attrì˜ ê°’ì€ ì•„ë˜ì™€ ê°™ê² ì£ ?


background-image: url("/images/costagram/posts/post0.jpg"); background-position: center center; background-size: cover;
ì—¬ê¸°ì„œ "" ì•ˆì— ìˆëŠ” /images/costagram/posts/post0.jpg ë¶€ë¶„ì„ ë¹¼ ë‚´ì•¼ í•©ë‹ˆë‹¤. ì–´ë–»ê²Œ í•˜ë©´ ì¢‹ì„ê¹Œìš”?

ì´ëŸ´ ë•ŒëŠ” ë¬¸ìì—´ì„ " ê¸°ì¤€ìœ¼ë¡œ ë‚˜ëˆ ì£¼ë©´ ë©ë‹ˆë‹¤. íŠ¹ì • ë¬¸ìë¥¼ ê¸°ì¤€ìœ¼ë¡œ ë¬¸ìì—´ì„ ë‚˜ëˆŒ ë•ŒëŠ” .split() ë©”ì†Œë“œë¥¼ í™œìš©í•˜ë©´ ë˜ëŠ”ë°ìš”, style_attrì— .split('"')ì„ í•˜ë©´ ì•„ë˜ì™€ ê°™ì€ ê²°ê³¼ê°€ ë‚˜ì˜µë‹ˆë‹¤.


print(style_attr.split('"'))

['background-image: url(', '/images/costagram/posts/post0.jpg', '); background-position: center center; background-size: cover;']
" ê¸°ì¤€ìœ¼ë¡œ ë¬¸ìì—´ì´ ì„¸ ë¶€ë¶„ìœ¼ë¡œ ë‚˜ëˆ ì¡Œì£ ? ì´ë¯¸ì§€ ì£¼ì†ŒëŠ” ë‘ ë²ˆì§¸ ë¬¸ìì—´ì´ë‹ˆê¹Œ, ê·¸ê±¸ ê·¸ëŒ€ë¡œ ê°€ì ¸ì˜¤ë©´ ë©ë‹ˆë‹¤.


for post in posts:
    ...

    # ì´ë¯¸ì§€ ì£¼ì†Œ ê°€ì ¸ì˜¤ê¸°
    style_attr = driver.find_element_by_css_selector('.post-container__image').get_attribute('style')
    image_url = style_attr.split('"')[1]

    ...
ë§ˆì§€ë§‰ìœ¼ë¡œ ì´ë¯¸ì§€ ì£¼ì†Œë¥¼ ì¶œë ¥í•´ ì£¼ë©´ ì½”ë“œê°€ ì™„ì„±ë˜ê² ì£ ?


for post in posts:
    ...

    # ì´ë¯¸ì§€ ì£¼ì†Œ ê°€ì ¸ì˜¤ê¸°
    style_attr = driver.find_element_by_css_selector('.post-container__image').get_attribute('style')
    image_url = style_attr.split('"')[1]
    print(image_url)

    ...
ëª¨ë²” ë‹µì•ˆ

import time
from selenium import webdriver

# ì›¹ ë“œë¼ì´ë²„ ì„¤ì •
driver = webdriver.Chrome()
driver.implicitly_wait(3)

driver.get('https://workey.codeit.kr/costagram/index')
time.sleep(1)

# ë¡œê·¸ì¸
driver.find_element_by_css_selector('.top-nav__login-link').click()
time.sleep(1)

driver.find_element_by_css_selector('.login-container__login-input').send_keys('codeit')
driver.find_element_by_css_selector('.login-container__password-input').send_keys('datascience')

driver.find_element_by_css_selector('.login-container__login-button').click()
time.sleep(1)

# í˜ì´ì§€ ëê¹Œì§€ ìŠ¤í¬ë¡¤
last_height = driver.execute_script("return document.body.scrollHeight")

while True:
    driver.execute_script("window.scrollTo(0, document.body.scrollHeight);")

    time.sleep(0.5)

    new_height = driver.execute_script("return document.body.scrollHeight")
    if new_height == last_height:
        break
    last_height = new_height

# ëª¨ë“  ì¸ë„¤ì¼ ìš”ì†Œ ê°€ì ¸ì˜¤ê¸°
posts = driver.find_elements_by_css_selector('.post-list__post')

for post in posts:
    # ì¸ë„¤ì¼ í´ë¦­
    post.click()
    time.sleep(0.5)

    # ì´ë¯¸ì§€ ì£¼ì†Œ ê°€ì ¸ì˜¤ê¸°
    style_attr = driver.find_element_by_css_selector('.post-container__image').get_attribute('style')
    image_url = style_attr.split('"')[1]
    print(image_url)

    # ë‹«ê¸° ë²„íŠ¼ í´ë¦­
    driver.find_element_by_css_selector('.close-btn').click()
    time.sleep(0.5)

driver.quit()



### ì›¹ì—ì„œ ì´ë¯¸ì§€ ê°€ì ¸ì˜¤ê¸°

ì´ë²ˆ í† í”½ì—ì„œëŠ” ì´ë¯¸ì§€ ì£¼ì†Œë¥¼ ëª‡ ë²ˆ ê°€ì ¸ì™€ ë´¤ëŠ”ë°ìš”, ì‚¬ì‹¤ ìš°ë¦¬ê°€ ì›í•˜ëŠ” ê±´ ì´ë¯¸ì§€ ì£¼ì†Œê°€ ì•„ë‹ˆë¼ ì‹¤ì œ ì´ë¯¸ì§€ê² ì£ ? ì´ë²ˆ ë ˆìŠ¨ì—ì„œëŠ” ì›¹ì—ì„œ ì´ë¯¸ì§€ë¥¼ ê°€ì ¸ì˜¤ëŠ” ë°©ë²•ì— ëŒ€í•´ ì•Œì•„ë³´ê² ìŠµë‹ˆë‹¤.

ë¨¼ì € ì´ë¯¸ì§€ ì£¼ì†Œì— ëŒ€í•´ ì•Œì•„ë´…ì‹œë‹¤.

ì´ë¯¸ì§€ ì£¼ì†Œë€?
ì´ë¯¸ì§€ ì£¼ì†Œ (image URL)ëŠ” ì´ë¯¸ì§€ê°€ ì €ì¥ë¼ ìˆëŠ” ìœ„ì¹˜ë¥¼ ëœ»í•©ë‹ˆë‹¤. ì´ë¯¸ì§€ë„ ê²°êµ­ ì–´ë–¤ URLì— ì €ì¥ë¼ ìˆìŠµë‹ˆë‹¤.

ì˜ˆë¥¼ ë“¤ì–´ ì´ ì£¼ì†Œë¡œ ê°€ì‹œë©´ codeit ì´ë¯¸ì§€ê°€ ë³´ì¼ ê²ë‹ˆë‹¤: https://www.codeit.kr/static/images/brand/logo_white.png

ê·¸ëŸ°ë° ìš°ë¦¬ê°€ ì§€ê¸ˆê¹Œì§€ ê°€ì ¸ì™€ ë´¤ë˜ ì´ë¯¸ì§€ ì£¼ì†ŒëŠ” ì¡°ê¸ˆ ë‹¤ë¥´ê²Œ ìƒê²¼ì£ ? ì˜ˆë¥¼ ë“¤ì–´ ì´ì „ ê³¼ì œì—ì„œ ê°€ì ¸ì˜¨ ì´ë¯¸ì§€ ì£¼ì†ŒëŠ” ì´ë ‡ê²Œ ìƒê²¼ì—ˆìŠµë‹ˆë‹¤.


/images/costagram/posts/post0.jpg
ì´ "ì£¼ì†Œ"ëŠ” ì´ë¯¸ì§€ URL ì „ì²´ê°€ ì•„ë‹ˆë¼ URLì˜ ê²½ë¡œ ë¶€ë¶„ì…ë‹ˆë‹¤.

ìš°ë¦¬ê°€ ì²˜ìŒ URLì— ëŒ€í•´ ë°°ìš¸ ë•Œ, URLì€ ë„ë©”ì¸ ì´ë¦„ ë¶€ë¶„ì´ ìˆê³ , ê²½ë¡œ ë¶€ë¶„ì´ ìˆë‹¤ê³  í–ˆì£ ?


https://www.codeit.kr/ - ë„ë©”ì¸ ì´ë¦„
static/images/brand/logo_white.png - ê²½ë¡œ
https:// ë‹¤ìŒ ì²« / ë¶€ë¶„ ê¹Œì§€ë¥¼ ë„ë©”ì¸ ì´ë¦„ì´ë¼ê³  í•˜ê³  ë‚˜ë¨¸ì§€ë¥¼ ê²½ë¡œë¼ê³  í•©ë‹ˆë‹¤.

HTML ì½”ë“œì— ìˆëŠ” ì´ë¯¸ì§€ ì£¼ì†ŒëŠ” ê²½ë¡œ ë¶€ë¶„ë§Œ í¬í•¨ë¼ ìˆëŠ” ê²½ìš°ê°€ ë§ìŠµë‹ˆë‹¤. ì´ë¯¸ì§€ë¥¼ ê°€ì ¸ì˜¤ê¸° ìœ„í•´ì„œëŠ” URL ì „ì²´ê°€ í•„ìš”í•˜ê¸° ë•Œë¬¸ì—, ê²½ë¡œ ë¶€ë¶„ì— ì›¹ì‚¬ì´íŠ¸ì˜ ë„ë©”ì¸ ì´ë¦„ì„ ë”í•´ì¤˜ì„œ URLì„ ë§Œë“¤ì–´ ì¤˜ì•¼ í•©ë‹ˆë‹¤.

'https://workey.codeit.kr/costagram/index'ì˜ ê²½ìš° ë„ë©”ì¸ ì´ë¦„ì´ 'https://workey.codeit.kr/'ì´ê² ì£ ? (ì°¸ê³ ë¡œ 'https://workey.codeit.kr/costagram', 'https://workey.codeit.kr/costagram/index' ë‘˜ ë‹¤ ì½”ìŠ¤íƒ€ê·¸ë¨ í™ˆí˜ì´ì§€ë¡œ ì—°ê²°ë©ë‹ˆë‹¤.) 'https://workey.codeit.kr/'ì— ì €ë²ˆ ê³¼ì œì—ì„œ ê°€ì ¸ì˜¨ ì´ë¯¸ì§€ ì£¼ì†Œë¥¼ ë”í•´ì£¼ë©´ ë©ë‹ˆë‹¤.


https://workey.codeit.kr/images/costagram/posts/post0.jpg
...
https://workey.codeit.kr/images/costagram/posts/post35.jpg
ì´ë ‡ê²Œ ë˜ê² ì£ ? ìœ„ ì£¼ì†Œ ì¤‘ í•˜ë‚˜ë¡œ ë“¤ì–´ê°€ ë³´ì‹œë©´ ì½”ìŠ¤íƒ€ê·¸ë¨ì— ìˆëŠ” ì´ë¯¸ì§€ê°€ ìˆì„ ê²ë‹ˆë‹¤.

ì´ê±´ ì €ë²ˆ ê³¼ì œì˜ í•´ë‹µ ì½”ë“œì¸ë°ìš”.


import time
from selenium import webdriver

# ì›¹ ë“œë¼ì´ë²„ ì„¤ì •
driver = webdriver.Chrome()
driver.implicitly_wait(3)

driver.get('https://workey.codeit.kr/costagram/index')
time.sleep(1)

# ë¡œê·¸ì¸
driver.find_element_by_css_selector('.top-nav__login-link').click()
time.sleep(1)

driver.find_element_by_css_selector('.login-container__login-input').send_keys('codeit')
driver.find_element_by_css_selector('.login-container__password-input').send_keys('datascience')

driver.find_element_by_css_selector('.login-container__login-button').click()
time.sleep(1)

# í˜ì´ì§€ ëê¹Œì§€ ìŠ¤í¬ë¡¤
last_height = driver.execute_script("return document.body.scrollHeight")

while True:
    driver.execute_script("window.scrollTo(0, document.body.scrollHeight);")

    time.sleep(0.5)

    new_height = driver.execute_script("return document.body.scrollHeight")
    if new_height == last_height:
        break
    last_height = new_height

# ëª¨ë“  ì¸ë„¤ì¼ ìš”ì†Œ ê°€ì ¸ì˜¤ê¸°
posts = driver.find_elements_by_css_selector('.post-list__post')

for post in posts:
    # ì¸ë„¤ì¼ í´ë¦­
    post.click()
    time.sleep(0.5)

    # ì´ë¯¸ì§€ ì£¼ì†Œ ê°€ì ¸ì˜¤ê¸°
    style_attr = driver.find_element_by_css_selector('.post-container__image').get_attribute('style')
    image_url = style_attr.split('"')[1]
    print(image_url)

    # ë‹«ê¸° ë²„íŠ¼ í´ë¦­
    driver.find_element_by_css_selector('.close-btn').click()
    time.sleep(0.5)

driver.quit()
ì½”ë“œë¥¼ ì¡°ê¸ˆ ë°”ê¿”ì„œ ì´ë¯¸ì§€ URL ì „ì²´ë¥¼ image_urlsë¼ëŠ” ë¦¬ìŠ¤íŠ¸ì— ì €ì¥í•´ ì£¼ê² ìŠµë‹ˆë‹¤.


image_urls = []

for post in posts:
    # ì¸ë„¤ì¼ í´ë¦­
    post.click()
    time.sleep(0.5)

    # ì´ë¯¸ì§€ URL ì €ì¥
    style_attr = driver.find_element_by_css_selector('.post-container__image').get_attribute('style')
    image_path = style_attr.split('"')[1]
    image_url = "https://workey.codeit.kr" + image_path
    image_urls.append(image_url)

    # ë‹«ê¸° ë²„íŠ¼ í´ë¦­
    driver.find_element_by_css_selector('.close-btn').click()
    time.sleep(0.5)
ì›¹ì—ì„œ ê°€ì ¸ì˜¨ 'ì´ë¯¸ì§€ ì£¼ì†Œ' ë¶€ë¶„ ì•ì— https://workey.codeit.krë¥¼ ë”í•´ì¤¬ìŠµë‹ˆë‹¤.

íŒŒì´ì¬ìœ¼ë¡œ ì´ë¯¸ì§€ ë‹¤ìš´ë¡œë“œí•˜ê¸°
ì´ì œ íŒŒì´ì¬ì„ ì´ìš©í•´ì„œ ì´ë¯¸ì§€ë¥¼ ë‹¤ìš´ë¡œë“œí•´ ë´…ì‹œë‹¤. íŒŒì´ì¬ìœ¼ë¡œ ì´ë¯¸ì§€ë¥¼ ë‹¤ìš´ë¡œë“œí•  ë•Œë„ requests ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ í™œìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ì´ë¯¸ì§€ë¥¼ ë‹¤ìš´ë¡œë“œí•˜ëŠ” ë°©ë²•ì€ ì•„ë˜ì™€ ê°™ìŠµë‹ˆë‹¤.


response = requests.get(image_url)
with open('image.jpg', 'wb+') as f:
    f.write(response.content)
ì´ë¯¸ì§€ URL image_urlì— ìš”ì²­ì„ ë³´ë‚´ê³ , ì‘ë‹µì˜ ë‚´ìš©ì„ 'image.jpg' íŒŒì¼ì— ì €ì¥í•´ ì£¼ëŠ” ì½”ë“œì…ë‹ˆë‹¤. ì´ë¯¸ì§€ë¥¼ ë‹¤ìš´ë¡œë“œí•  ë•ŒëŠ” ì´ ì½”ë“œë¥¼ ì‚¬ìš©í•˜ì‹œë©´ ë©ë‹ˆë‹¤.

ê·¸ëŸ¼ ì½”ìŠ¤íƒ€ê·¸ë¨ì— ìˆëŠ” ëª¨ë“  ì´ë¯¸ì§€ë¥¼ ë‹¤ìš´ë¡œë“œ ë°›ê³  ì‹¶ë‹¤ë©´ ì•„ë˜ì™€ ê°™ì´ ì½”ë“œë¥¼ ì¨ ì£¼ë©´ ë˜ê² ì£ ?


for i in range(len(image_urls)):
    image_url = image_urls[i]
    response = requests.get(image_url)
    filename = 'image{}.jpg'.format(i)
    with open(filename, 'wb+') as f:
        f.write(response.content)
image_urls ë¦¬ìŠ¤íŠ¸ì— ìˆëŠ” ëª¨ë“  URLì— ìš”ì²­ì„ ë³´ë‚´ê³  ì‹¶ê¸° ë•Œë¬¸ì— for ë¬¸ì„ ì¨ ì¤¬ê³ , ê° ì´ë¯¸ì§€ë¥¼ ìƒˆë¡œìš´ íŒŒì¼ì— ì €ì¥í•´ ì¤˜ì•¼ í•˜ê¸° ë•Œë¬¸ì— ë°˜ë³µë¬¸ì´ ì‹¤í–‰ë  ë•Œë§ˆë‹¤ íŒŒì¼ ì´ë¦„ì„ ë°”ê¿”ì£¼ëŠ” ì½”ë“œë¥¼ ì¨ ì¤¬ìŠµë‹ˆë‹¤.

ì „ì²´ ì½”ë“œëŠ” ì•„ë˜ì™€ ê°™ìŠµë‹ˆë‹¤.


import time
import requests
from selenium import webdriver

# ì›¹ ë“œë¼ì´ë²„ ì„¤ì •
driver = webdriver.Chrome()
driver.implicitly_wait(3)

driver.get('https://workey.codeit.kr/costagram/index')
time.sleep(1)

# ë¡œê·¸ì¸
driver.find_element_by_css_selector('.top-nav__login-link').click()
time.sleep(1)

driver.find_element_by_css_selector('.login-container__login-input').send_keys('codeit')
driver.find_element_by_css_selector('.login-container__password-input').send_keys('datascience')

driver.find_element_by_css_selector('.login-container__login-button').click()
time.sleep(1)

# í˜ì´ì§€ ëê¹Œì§€ ìŠ¤í¬ë¡¤
last_height = driver.execute_script("return document.body.scrollHeight")

while True:
    driver.execute_script("window.scrollTo(0, document.body.scrollHeight);")

    time.sleep(0.5)

    new_height = driver.execute_script("return document.body.scrollHeight")
    if new_height == last_height:
        break
    last_height = new_height

# ëª¨ë“  ì¸ë„¤ì¼ ìš”ì†Œ ê°€ì ¸ì˜¤ê¸°
posts = driver.find_elements_by_css_selector('.post-list__post')

image_urls = []

for post in posts:
    # ì¸ë„¤ì¼ í´ë¦­
    post.click()
    time.sleep(0.5)

    # ì´ë¯¸ì§€ URL ê°€ì ¸ì˜¤ê¸°
    style_attr = driver.find_element_by_css_selector('.post-container__image').get_attribute('style')
    image_path = style_attr.split('"')[1]
    image_url = "https://workey.codeit.kr" + image_path
    image_urls.append(image_url)

    # ë‹«ê¸° ë²„íŠ¼ í´ë¦­
    driver.find_element_by_css_selector('.close-btn').click()
    time.sleep(0.5)

driver.quit()

# ì´ë¯¸ì§€ ë‹¤ìš´ë¡œë“œ
for i in range(len(image_urls)):
    image_url = image_urls[i]
    response = requests.get(image_url)
    filename = 'image{}.jpg'.format(i)
    with open(filename, 'wb+') as f:
        f.write(response.content)



### ì½”ìŠ¤íƒ€ê·¸ë¨ ìŠ¤í¬ë˜í•‘ III

# í•´ì„¤
1. 'ì½”ìŠ¤íƒ€ê·¸ë¨.xlsx' (ë˜ëŠ” 'ì½”ìŠ¤íƒ€ê·¸ë¨.csv') ë¼ëŠ” ì´ë¦„ìœ¼ë¡œ ì—‘ì…€ íŒŒì¼ì„ ë§Œë“¤ì–´ ì£¼ì„¸ìš”.
ì—‘ì…€ íŒŒì¼ì„ ë§Œë“¤ë ¤ë©´, openpyxl ë¼ì´ë¸ŒëŸ¬ë¦¬ì˜ Workbookì´ í•„ìš”í•©ë‹ˆë‹¤. importí•´ ì¤ì‹œë‹¤.


import time
from selenium import webdriver
from openpyxl import Workbook
ì•„ë˜ì™€ ê°™ì´ ì›Œí¬ë¶ì„ ë§Œë“­ë‹ˆë‹¤.


import time
from selenium import webdriver
from openpyxl import Workbook

# ì›Œí¬ë¶ ìƒì„±
wb = Workbook(write_only=True)
ws = wb.create_sheet()
ë¯¸ë¦¬ ì €ì¥í•´ ì£¼ëŠ” ì½”ë“œë„ ì‘ì„±í•´ ì¤ì‹œë‹¤.


driver.quit()

wb.save('ì½”ìŠ¤íƒ€ê·¸ë¨.xlsx')
ì›Œí¬ë¶ì„ ì €ì¥í•˜ëŠ” ì½”ë“œëŠ” ì½”ë“œ ë§¨ ëì— ì¶”ê°€í•´ ì£¼ì„¸ìš” (driver.quit() ë°”ë¡œ ì „ì— ì¨ ì£¼ì…”ë„ ë©ë‹ˆë‹¤).

2. íŒŒì¼ì˜ í—¤ë” í–‰ì€ 'ì´ë¯¸ì§€ ì£¼ì†Œ', 'ë‚´ìš©', 'í•´ì‹œíƒœê·¸', 'ì¢‹ì•„ìš” ìˆ˜', 'ëŒ“ê¸€ ìˆ˜'ë¡œ ì‘ì„±í•´ ì£¼ì„¸ìš”.
í—¤ë” í–‰ë„ ì¶”ê°€í•´ ì¤ì‹œë‹¤.


wb = Workbook(write_only=True)
ws = wb.create_sheet()
ws.append(['ì´ë¯¸ì§€ ì£¼ì†Œ', 'ë‚´ìš©', 'í•´ì‹œíƒœê·¸', 'ì¢‹ì•„ìš” ìˆ˜', 'ëŒ“ê¸€ ìˆ˜'])
í–‰ì„ ì¶”ê°€í•˜ë ¤ë©´ ws.append()ë¥¼ ì“°ë©´ ë˜ê² ì£ ?

3. ì €ë²ˆ ê³¼ì œì—ì„œ ê°€ì ¸ì˜¨ ì´ë¯¸ì§€ ì£¼ì†Œì— ì´ì–´ì„œ, ê° í¬ìŠ¤íŒ…ì˜ ë‚´ìš©, í•´ì‹œíƒœê·¸ë“¤, ì¢‹ì•„ìš” ìˆ˜, ëŒ“ê¸€ ìˆ˜ë¥¼ ê°€ì ¸ì˜¨ ë‹¤ìŒ ì—‘ì…€ íŒŒì¼ì— ì €ì¥í•´ ì£¼ì„¸ìš”. (ì´ë¯¸ì§€ ì£¼ì†Œë¥¼ ì¶œë ¥í•˜ëŠ” ì½”ë“œëŠ” ì§€ì›Œì£¼ì„¸ìš”.)
ê° í¬ìŠ¤íŒ…ë§ˆë‹¤ ìƒì„¸ ì •ë³´ë¥¼ ê°€ì ¸ì™€ì•¼ í•˜ë‹ˆê¹Œ ë°˜ë³µë¬¸ì˜ # ë‚˜ë¨¸ì§€ ì •ë³´ ê°€ì ¸ì˜¤ê¸° ë¶€ë¶„ì— ì½”ë“œë¥¼ ì‘ì„±í•˜ë„ë¡ í• ê²Œìš”.


for post in posts:
    # ì¸ë„¤ì¼ í´ë¦­
    post.click()
    time.sleep(0.5)

    # ì´ë¯¸ì§€ ì£¼ì†Œ ê°€ì ¸ì˜¤ê¸°
    style_attr = driver.find_element_by_css_selector('.post-container__image').get_attribute('style')
    image_url = style_attr.split('"')[1]
    # ë‚˜ë¨¸ì§€ ì •ë³´ ê°€ì ¸ì˜¤ê¸°

    # ë‹«ê¸° ë²„íŠ¼ í´ë¦­
    driver.find_element_by_css_selector('.close-btn').click()
    time.sleep(0.5)
ë¨¼ì € ìƒì„¸ ì •ë³´ ë¶€ë¶„ì— í•´ë‹¹í•˜ëŠ” HTML ì½”ë“œë¥¼ ë´…ì‹œë‹¤. ì²« ë²ˆì§¸ ì‚¬ì§„ì—ì„œëŠ” ë‚´ìš©ê³¼ í•´ì‹œíƒœê·¸ ë¶€ë¶„ì„ ë³¼ ìˆ˜ ìˆê³ , ë‘ ë²ˆì§¸ ì‚¬ì§„ì—ì„œëŠ” ì¢‹ì•„ìš” ìˆ˜ì™€ ëŒ“ê¸€ ìˆ˜ ë¶€ë¶„ì„ ë³¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

jno1vm3bp-prac11-2(rev).png

ad7y178gp-prac11-3(rev).png

ê° class ì´ë¦„ì€ ê° íƒœê·¸ì—ë§Œ ì‚¬ìš©ë˜ê¸° ë•Œë¬¸ì—, class ì´ë¦„ì„ ì„ íƒìë¡œ ì‚¬ìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. (ì„ íƒìì— ë‹¤ë¥¸ ì¶”ê°€ ì¡°ê±´ì„ ë”í•´ì£¼ì§€ ì•Šì•„ë„ ë©ë‹ˆë‹¤.) ì•„ë˜ì™€ ê°™ì´ ì½”ë“œë¥¼ ì§¤ ìˆ˜ ìˆê² ì£ ?


    # ì´ë¯¸ì§€ ì£¼ì†Œ ê°€ì ¸ì˜¤ê¸°
    style_attr = driver.find_element_by_css_selector('.post-container__image').get_attribute('style')
    image_url = style_attr.split('"')[1]
    # ë‚˜ë¨¸ì§€ ì •ë³´ ê°€ì ¸ì˜¤ê¸°
    content = driver.find_element_by_css_selector('.content__text')
    hashtags = driver.find_element_by_css_selector('.content__tag-cover')
    like_count = driver.find_element_by_css_selector('.content__like-count')
    comment_count = driver.find_element_by_css_selector('.content__comment-count')
í•´ì‹œíƒœê·¸ì˜ ê²½ìš° ê°ìì˜ í•´ì‹œíƒœê·¸ë¥¼ ê°€ì ¸ì˜¤ëŠ” ê²ƒì´ ì•„ë‹ˆë¼ ëª¨ë“  í•´ì‹œíƒœê·¸ê°€ ë“¤ì–´ìˆëŠ” 

ë¥¼ ê°€ì ¸ì™”ëŠ”ë°ìš”. ì—¬ê¸°ì— .textë¥¼ í•´ ì£¼ë©´ ì•ˆì— ìˆëŠ” í•´ì‹œíƒœê·¸ë“¤ì´ í•˜ë‚˜ë¡œ í•©ì³ì ¸ì„œ ë¦¬í„´ë˜ê¸° ë•Œë¬¸ì´ì£ . í”Œë ˆì´ë¦¬ìŠ¤íŠ¸ ì •ë³´ ìŠ¤í¬ë˜í•‘ ì˜ìƒì—ì„œ í•´ì‹œíƒœê·¸ë¥¼ ê°€ì ¸ì˜¬ ë•Œ ì‚¬ìš©í–ˆë˜ ë¡œì§ê³¼ ë˜‘ê°™ìŠµë‹ˆë‹¤.
ê·¸ëŸ¼ ëª¨ë“  íƒœê·¸(ì›¹ ìš”ì†Œ)ì— .textë¥¼ í•´ì£¼ê³ , ë¬¸ìì—´ ì–‘ì˜†ì— ê³µë°±ì„ ì œê±°í•´ ì£¼ëŠ” .strip() ë©”ì†Œë“œë„ ì ìš©í•´ ì¤„ê²Œìš”.


    # ì´ë¯¸ì§€ ì£¼ì†Œ ê°€ì ¸ì˜¤ê¸°
    style_attr = driver.find_element_by_css_selector('.post-container__image').get_attribute('style')
    image_url = style_attr.split('"')[1]
    # ë‚˜ë¨¸ì§€ ì •ë³´ ê°€ì ¸ì˜¤ê¸°
    content = driver.find_element_by_css_selector('.content__text').text.strip()
    hashtags = driver.find_element_by_css_selector('.content__tag-cover').text.strip()
    like_count = driver.find_element_by_css_selector('.content__like-count').text.strip()
    comment_count = driver.find_element_by_css_selector('.content__comment-count').text.strip()
ê·¸ëŸ¼ ì´ì œ ê°€ì ¸ì˜¨ ì •ë³´ë¥¼ ì—‘ì…€ íŒŒì¼ì— ì¨ ì£¼ê¸°ë§Œ í•˜ë©´, ì½”ë“œê°€ ì™„ì„±ë©ë‹ˆë‹¤.


    ...
    comment_count = driver.find_element_by_css_selector('.content__comment-count').text.strip()
    ws.append([image_url, content, hashtags, like_count, comment_count])
ì›¹ì‚¬ì´íŠ¸ë¥¼ ì—´ì–´ì„œ ë¡œê·¸ì¸ì„ í•˜ê³ , ìŠ¤í¬ë¡¤ì„ í•œ ë‹¤ìŒ, ëª¨ë“  í¬ìŠ¤íŒ…ì„ ì—´ê³  ë‹«ìœ¼ë©´ì„œ ì •ë³´ë¥¼ ê¸ì–´ì˜¤ê³ , ê¸ì–´ì˜¨ ì •ë³´ë¥¼ ì—‘ì…€ íŒŒì¼ì— ì €ì¥í•˜ëŠ” ì‘ì—…ì„ ëª¨ë‘ ìë™í™”í–ˆìŠµë‹ˆë‹¤. ì›¹ ìë™í™”ì˜ í˜ì´ ëŠê»´ì§€ì‹œë‚˜ìš”?

ì´ë²ˆ í† í”½ì—ì„œ ë°°ìš´ ë‚´ìš©ì„ í™œìš©í•´ì„œ, í•­ìƒ ìˆ˜ë™ì ìœ¼ë¡œ ì²˜ë¦¬í–ˆë˜ ì›¹ ì‘ì—…ì„ ìë™í™”í•´ ë³´ì„¸ìš”!

ëª¨ë²” ë‹µì•ˆ

import time
from selenium import webdriver
from openpyxl import Workbook

# ì›Œí¬ë¶ ìƒì„±
wb = Workbook(write_only=True)
ws = wb.create_sheet()
ws.append(['ì´ë¯¸ì§€ ì£¼ì†Œ', 'ë‚´ìš©', 'í•´ì‹œíƒœê·¸', 'ì¢‹ì•„ìš” ìˆ˜', 'ëŒ“ê¸€ ìˆ˜'])

# ì›¹ ë“œë¼ì´ë²„ ì„¤ì •
driver = webdriver.Chrome()
driver.implicitly_wait(3)

driver.get('https://workey.codeit.kr/costagram/index')
time.sleep(1)

# ë¡œê·¸ì¸
driver.find_element_by_css_selector('.top-nav__login-link').click()
time.sleep(1)

driver.find_element_by_css_selector('.login-container__login-input').send_keys('codeit')
driver.find_element_by_css_selector('.login-container__password-input').send_keys('datascience')

driver.find_element_by_css_selector('.login-container__login-button').click()
time.sleep(1)

# í˜ì´ì§€ ëê¹Œì§€ ìŠ¤í¬ë¡¤
last_height = driver.execute_script("return document.body.scrollHeight")

while True:
    driver.execute_script("window.scrollTo(0, document.body.scrollHeight);")
    time.sleep(0.5)

    new_height = driver.execute_script("return document.body.scrollHeight")
    if new_height == last_height:
        break
    last_height = new_height

# ëª¨ë“  ì¸ë„¤ì¼ ìš”ì†Œ ê°€ì ¸ì˜¤ê¸°
posts = driver.find_elements_by_css_selector('.post-list__post')

for post in posts:
    # ì¸ë„¤ì¼ í´ë¦­
    post.click()
    time.sleep(0.5)

    # í¬ìŠ¤íŒ… ì •ë³´ ê°€ì ¸ì˜¤ê¸°
    style_attr = driver.find_element_by_css_selector('.post-container__image').get_attribute('style')
    image_url = style_attr.split('"')[1]
    content = driver.find_element_by_css_selector('.content__text').text.strip()
    hashtags = driver.find_element_by_css_selector('.content__tag-cover').text.strip()
    like_count = driver.find_element_by_css_selector('.content__like-count').text.strip()
    comment_count = driver.find_element_by_css_selector('.content__comment-count').text.strip()
    ws.append([image_url, content, hashtags, like_count, comment_count])

    # ë‹«ê¸° ë²„íŠ¼ í´ë¦­
    driver.find_element_by_css_selector('.close-btn').click()
    time.sleep(0.5)

driver.quit()

wb.save('ì½”ìŠ¤íƒ€ê·¸ë¨.xlsx')



###  Selenium ê¸°ëŠ¥ ë” ì•Œì•„ë³´ê¸°: ì˜µì…˜ ê³ ë¥´ê¸°

ì´ë²ˆ ì±•í„°ì˜ ë§ˆì§€ë§‰ ë¶€ë¶„ì—ì„œëŠ” ìš°ë¦¬ê°€ ì•„ì§ ë‹¤ë£¨ì§€ ì•Šì€ Selenium ê¸°ëŠ¥ ëª‡ ê°€ì§€ë¥¼ ì•Œì•„ë³´ë„ë¡ í• ê²Œìš”. ì´ ì±•í„°ì˜ ëª¨ë“  ë‚´ìš©ì„ ì˜ ìˆ™ì§€í•˜ì‹œë©´, ì›¬ë§Œí•œ ì›¹ ì‘ì—…ì€ ìë™í™”í•˜ì‹¤ ìˆ˜ ìˆì„ ê±°ì—ìš”.

ì²« ë²ˆì§¸ëŠ” ì˜µì…˜ ê³ ë¥´ê¸°ì…ë‹ˆë‹¤.

ì—¬ê¸° ì„ ê±° ì •ë³´ë¥¼ í™•ì¸í•  ìˆ˜ ìˆëŠ” ì›¹ì‚¬ì´íŠ¸ê°€ ìˆëŠ”ë°ìš”, 'êµ­íšŒì˜ì›ì„ ê±°' íƒ­ì„ ëˆ„ë¥´ë©´, ì´ë ‡ê²Œ ì‹œ/ë„ë¥¼ ê³ ë¥´ëŠ” ì˜µì…˜ ë°•ìŠ¤ê°€ ë‚˜ì˜µë‹ˆë‹¤.



ì•„ë˜ì™€ ê°™ì´ ë§ì€ ì˜µì…˜ë“¤ì´ ìˆìŠµë‹ˆë‹¤.



ì´ ì¤‘ì— í•˜ë‚˜ë¥¼ ì„ íƒí•˜ë©´, ì„ íƒí•œ ì‹œ/ë„ì— í•´ë‹¹í•˜ëŠ” ì„ ê±°êµ¬ ì˜µì…˜ë“¤ì´ ë‚˜ì˜µë‹ˆë‹¤.



ì„ ê±°êµ¬ë¥¼ ì„ íƒí•˜ê³ , ê²€ìƒ‰ ë²„íŠ¼ì„ ëˆ„ë¥´ë©´ ë°ì´í„°ë¥¼ ì¡°íšŒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.



ì›¹ì—ì„œ ë°ì´í„°ë¥¼ ì¡°íšŒí•˜ë ¤ê³  í•  ë•ŒëŠ” ì´ë ‡ê²Œ ì˜µì…˜ì„ ê³¨ë¼ì•¼ í•˜ëŠ” ê²½ìš°ê°€ ë§ìŠµë‹ˆë‹¤. ì°¸ê³ ë¡œ ì´ ì›¹ì‚¬ì´íŠ¸ëŠ” í‹°ë¹„ë­í‚¹ë‹·ì»´ê³¼ ë‹¬ë¦¬ ì˜µì…˜ìœ¼ë¡œ ê³ ë¥´ëŠ” íŒŒë¼ë¯¸í„°ê°€ URLì— ë“¤ì–´ê°€ì§€ ì•ŠìŠµë‹ˆë‹¤. í‹°ë¹„ë­í‚¹ë‹·ì»´ì€ ì•„ë˜ì™€ ê°™ì´ ì¡°íšŒí•˜ê³  ì‹¶ì€ ê¸°ê°„ì„ URLì— ë„£ì–´ì¤¬ìœ¼ë©´ ëì—ˆì£ ?


https://workey.codeit.kr/ratings/index?year=2010&month=1&weekIndex=0
ê·¸ëŸ°ë° ì„ ê±° ì›¹ì‚¬ì´íŠ¸ëŠ” URLì— ì¡°íšŒ íŒŒë¼ë¯¸í„°ê°€ ë“¤ì–´ê°€ì§€ ì•Šê¸° ë•Œë¬¸ì— ê¼­ ë°©ê¸ˆ í•œ ê²ƒì²˜ëŸ¼ ì˜µì…˜ì„ ë§ˆìš°ìŠ¤ë¡œ ì„ íƒí•´ ì¤˜ì•¼ í•˜ëŠ” ê±°ì£  (ì„ ê±° ì›¹ì‚¬ì´íŠ¸ì˜ URLì„ ë³´ì‹œë©´ ì˜µì…˜ì´ ë°”ë€Œì–´ë„ URLì´ ë°”ë€Œì§€ ì•ŠìŠµë‹ˆë‹¤).

ìœ„ì—ì„œ ë´¤ë˜ ë“œë¡­ë‹¤ìš´ ë©”ë‰´ì—ì„œ ì—¬ëŸ¬ ì˜µì…˜ ì¤‘ í•˜ë‚˜ë¥¼ ì„ íƒí•˜ëŠ” ì›¹ ìš”ì†Œë¥¼ select ìš”ì†Œë¼ê³  í•˜ëŠ”ë°ìš”. Seleniumì—ì„œëŠ” select ìš”ì†Œë¥¼ ë‹¤ë£¨ëŠ” ê°„í¸í•œ ë¬¸ë²•ì´ ë”°ë¡œ ìˆìŠµë‹ˆë‹¤. ê°™ì´ ì‚´í´ë´…ì‹œë‹¤.

Seleniumìœ¼ë¡œ Select ìš”ì†Œ ë‹¤ë£¨ê¸°
ë¨¼ì € select ìš”ì†Œì˜ HTML ì½”ë“œë¥¼ ì‚´í´ë´…ì‹œë‹¤.



Select ìš”ì†ŒëŠ” select íƒœê·¸ë¡œ ë¼ìˆê³ , ì•ˆì— ìˆëŠ” ì˜µì…˜ë“¤ì€ option íƒœê·¸ë¡œ ë¼ìˆìŠµë‹ˆë‹¤. option íƒœê·¸ì˜ value ì†ì„±ì€ ì˜µì…˜ì„ ì„ íƒí–ˆì„ ë•Œ ì‹¤ì œë¡œ ì„œë²„ì— ì „ë‹¬ë˜ëŠ” ê°’ì…ë‹ˆë‹¤. ê·¸ëŸ¬ë‹ˆê¹Œ ì„œìš¸íŠ¹ë³„ì‹œë¥¼ ì„ íƒí•˜ë©´ '1100'ì´ ì „ë‹¬ë˜ëŠ” ê±°ì£ . ì„œë²„ëŠ” '1100'ì´ë¼ëŠ” ê°’ì„ ë°›ì•„ì„œ ì–´ë–»ê²Œ ì²˜ë¦¬ë¥¼ í•˜ê² ì£ ?

ì‚¬ì‹¤ ìš°ë¦¬ê°€ ì´ë¯¸ ë°°ìš´ ì›¹ ìš”ì†Œë¥¼ ì°¾ëŠ” ë°©ë²•ê³¼, í´ë¦­í•˜ëŠ” ë°©ë²•ì„ ì‚¬ìš©í•´ì„œ ì˜µì…˜ì„ ê³ ë¥¼ ìˆ˜ë„ ìˆëŠ”ë°, ê·¸ëŸ¬ë ¤ë©´ ì„ íƒí•˜ê³  ì‹¶ì€ ì˜µì…˜(ì˜ˆë¥¼ ë“¤ì–´ 'ì„œìš¸íŠ¹ë³„ì‹œ')ì˜ value ê°’ì„ ì°¾ì•„ì„œ, ì„ íƒìë¥¼ ë§Œë“¤ì–´ì•¼ í•©ë‹ˆë‹¤. í•˜ì§€ë§Œ select ì „ìš© ë¬¸ë²•ì„ ì‚¬ìš©í•˜ë©´ ì˜µì…˜ ì´ë¦„, value, ë˜ëŠ” ì˜µì…˜ ìœ„ì¹˜ë¥¼ ì‚¬ìš©í•´ì„œ ì‰½ê²Œ ì˜µì…˜ì„ ì„ íƒí•  ìˆ˜ ìˆê¸° ë•Œë¬¸ì— í›¨ì”¬ ë” ê°„í¸í•©ë‹ˆë‹¤.

Select ë¬¸ë²•ì„ ì‚¬ìš©í•˜ë ¤ë©´ ë¨¼ì € Selectë¼ëŠ” íˆ´ì„ ì„í¬íŠ¸í•´ ì¤ë‹ˆë‹¤.


from selenium.webdriver.support.ui import Select
ê·¸ë¦¬ê³  select ì›¹ ìš”ì†Œë¥¼ ì°¾ì•„ì„œ, Select ì•ˆì— ë„£ì–´ ì¤ë‹ˆë‹¤.


cityCode_select = Select(driver.find_element_by_css_selector('#cityCode'))
select íƒœê·¸ëŠ” 'cityCode'ë¼ëŠ” id ê°’ì„ ê°€ì§€ê³  ìˆì£ ?

ê·¸ë¦¬ê³  Selectë¥¼ ì´ìš©í•´ì„œ ì˜µì…˜ ì´ë¦„, ì˜µì…˜ value, ë˜ëŠ” ì˜µì…˜ ì¸ë±ìŠ¤ë¡œ ì˜µì…˜ì„ ì„ íƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.


# ì˜µì…˜ ì´ë¦„ìœ¼ë¡œ ì„ íƒ (ì›¹ì‚¬ì´íŠ¸ì—ì„œ ë³´ì´ëŠ” ì˜µì…˜ ì´ë¦„)
cityCode_select.select_by_visible_text('ì„œìš¸íŠ¹ë³„ì‹œ')

# ì˜µì…˜ì˜ valueë¡œ ì„ íƒ ('ì„œìš¸íŠ¹ë³„ì‹œ' ì˜µì…˜ì˜ valueëŠ” 1100)
cityCode_select.select_by_value('1100')

# ì˜µì…˜ì˜ ì¸ë±ìŠ¤ë¡œ ì„ íƒ ('ì„œìš¸íŠ¹ë³„ì‹œ'ëŠ” ë‘ ë²ˆì§¸ ì˜µì…˜)
cityCode_select.select_by_index(1)
ì„ ê±°êµ¬ë¥¼ ì„ íƒí•˜ëŠ” ê²ƒë„ ë¹„ìŠ·í•˜ê²Œ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì„ ê±°êµ¬ select ìš”ì†ŒëŠ” 'sggCityCode'ë¼ëŠ” id ê°’ì„ ê°€ì§€ê³  ìˆìŠµë‹ˆë‹¤.




sggCityCode_select = Select(driver.find_element_by_css_selector('#sggCityCode'))

# ì˜µì…˜ ì´ë¦„ìœ¼ë¡œ ì„ íƒ (ì›¹ì‚¬ì´íŠ¸ì—ì„œ ë³´ì´ëŠ” ì˜µì…˜ ì´ë¦„)
sggCityCode_select.select_by_visible_text('ì¢…ë¡œêµ¬')

# ì˜µì…˜ì˜ valueë¡œ ì„ íƒ ('ì¢…ë¡œêµ¬' ì˜µì…˜ì˜ valueëŠ” 2110101)
sggCityCode_select.select_by_value('2110101')

# ì˜µì…˜ì˜ ì¸ë±ìŠ¤ë¡œ ì„ íƒ ('ì¢…ë¡œêµ¬'ëŠ” ë‘ ë²ˆì§¸ ì˜µì…˜)
sggCityCode_select.select_by_index(1)
ì„œìš¸íŠ¹ë³„ì‹œì™€ ì¢…ë¡œêµ¬ë¥¼ ì„ íƒí•˜ê³ , í•„ìš”í•œ êµ­íšŒì˜ì› ì •ë³´ë¥¼ ê°€ì ¸ì˜¤ëŠ” ì½”ë“œë¥¼ ì§œ ë³´ë©´ ì•„ë˜ì™€ ê°™ê² ì£ ?


import time
from selenium import webdriver
from selenium.webdriver.support.ui import Select

driver = webdriver.Chrome()
driver.implicitly_wait(3)

# ì„ ê±° ì›¹ì‚¬ì´íŠ¸ ì ‘ì†
driver.get('http://info.nec.go.kr/main/showDocument.xhtml?electionId=0020200415&topMenuId=CP&secondMenuId=CPRI03')
time.sleep(1)

# 'êµ­íšŒì˜ì›ì„ ê±°'íƒ­ í´ë¦­ 
driver.find_element_by_css_selector('#electionId2').click()

# ì„œìš¸íŠ¹ë³„ì‹œ ì„ íƒ
cityCode_select = Select(driver.find_element_by_css_selector('#cityCode'))
cityCode_select.select_by_visible_text('ì„œìš¸íŠ¹ë³„ì‹œ')

# ì¢…ë¡œêµ¬ ì„ íƒ
sggCityCode_select = Select(driver.find_element_by_css_selector('#sggCityCode'))
sggCityCode_select.select_by_visible_text('ì¢…ë¡œêµ¬') 

# 'ê²€ìƒ‰'ë²„íŠ¼ í´ë¦­
driver.find_element_by_css_selector('#spanSubmit').click()

# í•„ìš”í•œ êµ­íšŒì˜ì› ì •ë³´ ê°€ì ¸ì˜¤ê¸°

# ì›¹ ë“œë¼ì´ë²„ ì¢…ë£Œ
driver.quit()



Selenium SelectëŠ” ì˜µì…˜ì„ ì„ íƒí•˜ëŠ” ê²ƒ ì™¸ì—ë„ í˜„ì¬ ì„ íƒëœ ì˜µì…˜ì„ ì¡°íšŒí•œë‹¤ë“ ì§€, ëª¨ë“  ì˜µì…˜ì„ ë¦¬ìŠ¤íŠ¸ë¡œ í™•ì¸í•œë‹¤ë“ ì§€, ì—¬ëŸ¬ ê¸°ëŠ¥ì„ ì œê³µí•©ë‹ˆë‹¤. ê·¸ë¦¬ê³  ìš°ë¦¬ê°€ ì´ë²ˆ ë ˆìŠ¨ì—ì„œ ë´¤ë˜ select ìš”ì†ŒëŠ” ì˜µì…˜ì„ í•˜ë‚˜ë§Œ ê³ ë¥¼ ìˆ˜ ìˆì—ˆëŠ”ë°ìš”, ì˜µì…˜ ì—¬ëŸ¬ ê°œë¥¼ ê³ ë¥¼ ìˆ˜ ìˆëŠ” mutliple select ìš”ì†Œë„ ìˆìŠµë‹ˆë‹¤ (<select multiple>ì²˜ëŸ¼ select íƒœê·¸ì— multipleì´ë¼ëŠ” ë¶ˆë¦° ì†ì„±ì´ ìˆìŠµë‹ˆë‹¤). multiple selectë„ ë°©ê¸ˆ ë³¸ ì˜ˆì‹œì™€ ë‹¤ë¥¼ ê²ƒ ì—†ì´ .select_by ë©”ì†Œë“œë“¤ì„ ì“°ë©´ ë©ë‹ˆë‹¤.

ì—¬ê¸°ì„œ Selectì˜ ëª¨ë“  ê¸°ëŠ¥ì„ í™•ì¸í•˜ì‹¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.



### Selenium ê¸°ëŠ¥ ë” ì•Œì•„ë³´ê¸°: ì›¹ ë¸Œë¼ìš°ì € ì œì–´í•˜ê¸°

## ê¸°ë³¸ ê¸°ëŠ¥
ë¨¼ì € ê¸°ë³¸ì ì¸ ê¸°ëŠ¥ë“¤ì„ ì†Œê°œí•´ ë“œë¦´ê²Œìš”.

ì›¹ í˜ì´ì§€ ë‚´ë¹„ê²Œì´ì…˜
ì›¹ í˜ì´ì§€ë¡œ ì´ë™

driver.get('URL')
ë’¤ë¡œê°€ê¸°(ì´ì „ í˜ì´ì§€ë¡œ ì´ë™)

driver.back()
ì•ìœ¼ë¡œê°€ê¸°(ì´í›„ í˜ì´ì§€ë¡œ ì´ë™)

driver.forward()
ìƒˆë¡œê³ ì¹¨

driver.refresh()
í˜„ì¬ URL ê°€ì ¸ì˜¤ê¸°

driver.current_url
ì›¹ ë¸Œë¼ìš°ì € ì°½ (window) ì œì–´
*ì–´ë–¤ ì›¹ì‚¬ì´íŠ¸ë“¤ì€ ë¸Œë¼ìš°ì € ì°½ í¬ê¸°ì— ë”°ë¼ ì½˜í…ì¸ ê°€ ë‹¤ë¥´ê²Œ ë””ìŠ¤í”Œë ˆì´ë˜ê±°ë‚˜, ì°½ í¬ê¸°ê°€ ë„ˆë¬´ ì‘ìœ¼ë©´ ì•„ì˜ˆ ë¡œë”©ì´ ì•ˆë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

í’€ìŠ¤í¬ë¦°

driver.fullscreen_window()
ìµœëŒ€í™”

driver.maximize_window()
ìµœì†Œí™”

driver.minimize_window()
í¬ê¸° ì¡°ì ˆ

driver.set_window_size(800, 600) # ì°½ í¬ê¸° (800, 600)ìœ¼ë¡œ ì„¤ì •
ìŠ¤í¬ë¦°ìƒ·

driver.get_screenshot_as_file('image_name.png') # image_name.pngë¼ëŠ” íŒŒì¼ì— ì €ì¥
ë” ì•Œê³  ì‹¶ë‹¤ë©´?
ì—¬ê¸°ì„œ ì›¹ ë“œë¼ì´ë²„ì˜ ëª¨ë“  ê¸°ëŠ¥ì„ ì•Œì•„ë³´ì„¸ìš”!


## ì›¹ ë¸Œë¼ìš°ì € ì°½ ì—¬ëŸ¬ ê°œ ë‹¤ë£¨ê¸°

ì›¹ì‚¬ì´íŠ¸ì—ì„œ ë§í¬ë¥¼ í´ë¦­í•˜ë©´ ìƒˆë¡œìš´ ì°½ì— ì›¹ì‚¬ì´íŠ¸ê°€ ì—´ë¦¬ëŠ” ê²½ìš°ë„ ìˆìŠµë‹ˆë‹¤. Seleniumìœ¼ë¡œ ì—¬ëŸ¬ ì°½ì„ ë‹¤ë£¨ëŠ” ë°©ë²•ì„ ì•Œë ¤ë“œë¦´ê²Œìš”.

ì•„ë˜ ì½”ë“œë¥¼ ì‹¤í–‰í•˜ë©´ ì¿ íŒ¡ì˜ 'ì»¤í”¼' ê²€ìƒ‰ í˜ì´ì§€ë¡œ ì´ë™í•©ë‹ˆë‹¤.


import time
from selenium import webdriver

driver = webdriver.Chrome()
driver.implicitly_wait(3)

# ì¿ íŒ¡ 'ì»¤í”¼' ê²€ìƒ‰ ê²°ê³¼ í˜ì´ì§€ ì ‘ì†
driver.get('https://www.coupang.com/np/search?component=&q=%EC%BB%A4%ED%94%BC&channel=user')
time.sleep(1)


ê° ì•„ì´í…œì€ li íƒœê·¸ì— ìˆëŠ”ë°ìš”. 'li.search-product' ì„ íƒìë¥¼ ì´ìš©í•˜ë©´ ëª¨ë“  ì•„ì´í…œì„ ê°€ì ¸ì˜¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤.


products = driver.find_elements_by_css_selector('li.search-product')
ê·¸ë¦¬ê³  ì•„ì´í…œì„ í´ë¦­í•˜ë©´ ì•„ì´í…œ ìƒì„¸ í˜ì´ì§€ê°€ ìƒˆë¡œìš´ íƒ­ì— ëœ¹ë‹ˆë‹¤.


products[0].click()
ì²« ë²ˆì§¸ ì•„ì´í…œì— ëŒ€í•œ ìƒì„¸ í˜ì´ì§€ê°€ ìƒˆë¡œìš´ íƒ­ì— ì—´ë ¸ìŠµë‹ˆë‹¤.



í•˜ì§€ë§Œ ì—¬ê¸°ì„œ ì£¼ì˜í•˜ì…”ì•¼ í•  ì ì€ í˜„ì¬ ì›¹ ë¸Œë¼ìš°ì €ì—ì„œ ì—´ë¦° íƒ­ê³¼, Seleniumì´ í¬ì»¤ìŠ¤ëœ íƒ­ì€ ë‹¤ë¦…ë‹ˆë‹¤. Seleniumì´ í¬ì»¤ìŠ¤ëœ íƒ­ì€, Selenium ì›¹ ë“œë¼ì´ë²„ê°€ í˜„ì¬ 'ë‹¤ë£¨ê³  ìˆëŠ”' íƒ­ì…ë‹ˆë‹¤. ì´ê±´ ìš°ë¦¬ê°€ ì„¤ì •í•´ ì£¼ì§€ ì•ŠëŠ” í•œ ë°”ë€Œì§€ ì•ŠìŠµë‹ˆë‹¤. ê·¸ëŸ¬ë‹ˆê¹Œ ì§€ê¸ˆì²˜ëŸ¼ ìƒˆë¡œìš´ ìƒì„¸ í˜ì´ì§€ê°€ ì—´ë ¸ì–´ë„, Seleniumì€ .get()ìœ¼ë¡œ ì ‘ì†í•œ ì²« ë²ˆì§¸ íƒ­, ê²€ìƒ‰ í˜ì´ì§€ì— í¬ì»¤ìŠ¤ë˜ì–´ ìˆëŠ” ê±°ì£ .

ê·¸ë˜ì„œ ì´ë ‡ê²Œ ìƒˆë¡œìš´ íƒ­ì´ ì—´ë ¸ì–´ë„, ê³„ì† ê²€ìƒ‰ ê²°ê³¼ í˜ì´ì§€ì— ìˆëŠ” ê²ƒì²˜ëŸ¼ ìƒˆë¡œìš´ ì•„ì´í…œë“¤ì„ í´ë¦­í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.


import time
from selenium import webdriver

driver = webdriver.Chrome()
driver.implicitly_wait(3)

# ì¿ íŒ¡ 'ì»¤í”¼' ê²€ìƒ‰ ê²°ê³¼ í˜ì´ì§€ ì ‘ì†
driver.get('https://www.coupang.com/np/search?component=&q=%EC%BB%A4%ED%94%BC&channel=user')
time.sleep(1)

products = driver.find_elements_by_css_selector('li.search-product')

products[0].click()
products[1].click()
products[2].click()


ì´ 3ê°œì˜ ìƒì„¸ í˜ì´ì§€ê°€ ì—´ë ¸ìŠµë‹ˆë‹¤.

Seleniumì´ í¬ì»¤ìŠ¤ëœ íƒ­ì„ ë°”ê¾¸ë ¤ë©´ ì•„ë˜ ì½”ë“œë¥¼ ì‹¤í–‰í•˜ë©´ ë©ë‹ˆë‹¤. ì•„ë˜ ì½”ë“œë¥¼ ì‹¤í–‰í•˜ë©´ i ë²ˆì§¸ íƒ­ìœ¼ë¡œ í¬ì»¤ìŠ¤ê°€ ë°”ë€ë‹ˆë‹¤.


driver.switch_to.window(driver.window_handles[i])
driver.window_handlesëŠ” í˜„ì¬ ì—´ë ¤ìˆëŠ” íƒ­ ë¦¬ìŠ¤íŠ¸ë¼ê³  ìƒê°í•˜ì‹œë©´ ë©ë‹ˆë‹¤. i ë²ˆì§¸ íƒ­ì„ driver.window_handles[i]ë¡œ ê°€ì ¸ì˜¨ ë‹¤ìŒ, driver.switch_to.window() ë©”ì†Œë“œì— ë„£ì–´ ì£¼ë©´ ë©ë‹ˆë‹¤.

ì°¸ê³ ë¡œ í˜„ì¬ í¬ì»¤ìŠ¤ëœ íƒ­ì€ driver.current_window_handleë¡œ í™•ì¸í•˜ì‹¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.


import time
from selenium import webdriver

driver = webdriver.Chrome()
driver.implicitly_wait(3)

# ì¿ íŒ¡ 'ì»¤í”¼' ê²€ìƒ‰ ê²°ê³¼ í˜ì´ì§€ ì ‘ì†
driver.get('https://www.coupang.com/np/search?component=&q=%EC%BB%A4%ED%94%BC&channel=user')
time.sleep(1)

products = driver.find_elements_by_css_selector('li.search-product')

products[0].click()
products[1].click()
products[2].click()

# ëª¨ë“  íƒ­ ë¦¬ìŠ¤íŠ¸
print(driver.window_handles)

# í˜„ì¬ í¬ì»¤ìŠ¤ëœ íƒ­ - ì•„ì§ íƒ­ì„ ë°”ê¿”ì£¼ì§€ ì•Šì•˜ê¸° ë•Œë¬¸ì— ì²˜ìŒ .get()ìœ¼ë¡œ ì ‘ì†í•œ íƒ­
print(driver.current_window_handle)

# ë‘ ë²ˆì§¸ íƒ­ìœ¼ë¡œ ë°”ê¿”ì£¼ê¸°
driver.switch_to.window(driver.window_handles[1])

# í˜„ì¬ í¬ì»¤ìŠ¤ëœ íƒ­
print(driver.current_window_handle)

['CDwindow-E0DB6E3F17B5CC63EBB89879D206E223', 'CDwindow-01259B3ADA63D626F216561895A50607', 'CDwindow-9DDF6AE91890E04C40BBCDA42DD33E33', 'CDwindow-B524F37AA36AC60A3B2E53962C866490']
CDwindow-E0DB6E3F17B5CC63EBB89879D206E223
CDwindow-01259B3ADA63D626F216561895A50607
ì¶œë ¥ëœ ê°’ì„ ë¹„êµí•˜ë©´ì„œ ì½”ë“œê°€ ì˜ ì´í•´ë˜ì…¨ëŠ”ì§€ í™•ì¸í•´ ë³´ì„¸ìš”!

íƒ­ì€ ìì›ì„ ì†Œëª¨í•©ë‹ˆë‹¤. íƒ­ì´ ë§ì´ ì—´ë ¤ ìˆìœ¼ë©´ ì—„ì²­ë‚œ ìì›ì„ ì†Œëª¨í•˜ê¸° ë•Œë¬¸ì— ë” ì´ìƒ ì•ˆ ì“°ëŠ” íƒ­ì€ ë‹«ì•„ì£¼ëŠ” ê²ƒì´ ì¢‹ìŠµë‹ˆë‹¤. í˜„ì¬ í¬ì»¤ìŠ¤ëœ íƒ­ì€ .close()ë¡œ ë‹«ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.


driver.close()
íƒ­ì„ ë‹«ìœ¼ë©´ í˜„ì¬ í¬ì»¤ìŠ¤ëœ íƒ­ì´ ì—†ì–´ì ¸ ë²„ë¦¬ê¸° ë•Œë¬¸ì— ìƒˆë¡œìš´ íƒ­ìœ¼ë¡œ í¬ì»¤ìŠ¤ë¥¼ ë°”ê¿”ì¤˜ì•¼ í•©ë‹ˆë‹¤.

ì ê·¸ëŸ¼ ì´ê±¸ í™œìš©í•´ì„œ 'ì»¤í”¼' ê²€ìƒ‰ ê²°ê³¼ í˜ì´ì§€ì˜ ëª¨ë“  ì•„ì´í…œì„ í´ë¦­í•˜ê³ , ìƒì„¸ í˜ì´ì§€ì—ì„œ í•„ìš”í•œ ì •ë³´ë¥¼ ëª¨ì€ ë‹¤ìŒ, ìƒì„¸ í˜ì´ì§€ë¥¼ ë‹«ì•„ì¤„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.


import time
from selenium import webdriver

driver = webdriver.Chrome()
driver.implicitly_wait(3)

# ì¿ íŒ¡ 'ì»¤í”¼' ê²€ìƒ‰ ê²°ê³¼ í˜ì´ì§€ ì ‘ì†
driver.get('https://www.coupang.com/np/search?component=&q=%EC%BB%A4%ED%94%BC&channel=user')
time.sleep(1)

products = driver.find_elements_by_css_selector('li.search-product')

# ê²€ìƒ‰ ê²°ê³¼ í˜ì´ì§€ë¡œ ê³„ì† ëŒì•„ì˜¬ ê²ƒì´ê¸° ë•Œë¬¸ì— ì €ì¥í•´ ë†“ê¸°
search_result_window = driver.current_window_handle

for product in products:
    # ì•„ì´í…œ í´ë¦­
    product.click()
    time.sleep(1)

    # ì•„ì´í…œ ìƒì„¸ í˜ì´ì§€ë¡œ í¬ì»¤ìŠ¤ ì´ë™
    driver.switch_to.window(driver.window_handles[1])
    
    # ì•„ì´í…œ ìƒì„¸ í˜ì´ì§€ì—ì„œ í•„ìš”í•œ ì •ë³´ ê°€ì ¸ì˜¤ê¸°

    # ì•„ì´í…œ ìƒì„¸ í˜ì´ì§€ ë‹«ê¸°
    driver.close()

    # ê²€ìƒ‰ ê²°ê³¼ í˜ì´ì§€ë¡œ í¬ì»¤ìŠ¤ ì´ë™ - ê·¸ë˜ì•¼ ì•„ì´í…œ (product)ë¥¼ í´ë¦­í•  ìˆ˜ ìˆìŒ
    driver.switch_to.window(search_result_window)

driver.quit()
driver.switch_to.window()
driver.window_handles
ë‘ ê°€ì§€ë¥¼ í™œìš©í•˜ë©´ ì—¬ëŸ¬ íƒ­ì„ ììœ ë¡­ê²Œ ë‹¤ë£° ìˆ˜ ìˆìŠµë‹ˆë‹¤.


### Selenium ê¸°ëŠ¥ ë” ì•Œì•„ë³´ê¸°: iframe ë‹¤ë£¨ê¸°

## iframeì´ë€?
iframeì€ HTML íƒœê·¸ ì¤‘ í•˜ë‚˜ì…ë‹ˆë‹¤. iframe íƒœê·¸ëŠ” HTML ë¬¸ì„œ ì•ˆì— ë˜ ë‹¤ë¥¸ HTML ë¬¸ì„œë¥¼ ì‚½ì…í•  ë•Œ ì‚¬ìš©í•©ë‹ˆë‹¤. ì˜ˆë¥¼ ë“¤ì–´ ê´‘ê³  ê°™ì€ ì„œë“œíŒŒí‹° ì½˜í…ì¸ ë¥¼ í•˜ë‚˜ì˜ iframeì— ë‹´ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ë„¤ì´ë²„ ë¸”ë¡œê·¸ë„ iframeì„ ì‚¬ìš©í•˜ëŠ”ë°ìš”. ë¸”ë¡œê·¸ ë‚´ìš© ì „ì²´ê°€ iframe ì•ˆì— ìˆìŠµë‹ˆë‹¤.



iframe íƒœê·¸ëŠ” ì‹¤ì œ HTML ë¬¸ì„œë¥¼ ë‹´ê³  ìˆëŠ” ê²ƒì´ ì•„ë‹ˆë¼ HTML ë¬¸ì„œë¥¼ ì°¸ì¡°í•©ë‹ˆë‹¤. (ê°œë°œì ë„êµ¬ë¡œ ë³´ë©´ iframe ì•ˆì— HTML ì½”ë“œê°€ ìˆëŠ” ê²ƒì²˜ëŸ¼ ë³´ì´ì§€ë§Œ ì‹¤ì œë¡œëŠ” ê·¸ë ‡ì§€ ì•Šê³ , HTML ë¬¸ì„œë¥¼ ì°¸ì¡°í•˜ê¸°ë§Œ í•©ë‹ˆë‹¤.)

ë”°ë¼ì„œ iframe ì•ˆì— ìˆëŠ” íƒœê·¸/ìš”ì†Œë¥¼ ì°¾ìœ¼ë ¤ê³  í•˜ë©´ ì‹¤íŒ¨í•©ë‹ˆë‹¤.



ì˜ˆë¥¼ ë“¤ì–´ iframe íƒœê·¸ ì•ˆì—ëŠ” ìœ„ì™€ ê°™ì€ ì½”ë“œê°€ ìˆëŠ”ë°, idê°€ 'blogTitleText'ì¸ ìš”ì†Œë¥¼ ì°¾ìœ¼ë ¤ê³  í•˜ë©´ ì˜¤ë¥˜ê°€ ë‚˜ëŠ” ê±°ì£ .


driver.find_element_by_css_selector('#blogTitleText') # ì›¹ ìš”ì†Œë¥¼ ì°¾ì„ ìˆ˜ ì—†ë‹¤ëŠ” ì˜¤ë¥˜
iframeì— ìˆëŠ” ì½”ë“œë¥¼ ì ‘ê·¼í•˜ë ¤ë©´ iframeìœ¼ë¡œ ì´ë™í•´ì•¼ í•©ë‹ˆë‹¤. Seleniumìœ¼ë¡œ ì–´ë–»ê²Œ í•˜ëŠ”ì§€ ì•Œì•„ë´…ì‹œë‹¤.


## iframe ìŠ¤ìœ„ì¹­

iframeìœ¼ë¡œ ì´ë™í•˜ë ¤ë©´ ì €ë²ˆ ë ˆìŠ¨ì—ì„œ ë´¤ë˜ ê²ƒê³¼ ë¹„ìŠ·í•˜ê²Œ driver.switch_toë¥¼ ì“°ë©´ ë©ë‹ˆë‹¤. ì´ë²ˆì—” íƒ­/ì°½ì´ ì•„ë‹Œ í”„ë ˆì„ìœ¼ë¡œ ì´ë™í•˜ëŠ” ê²ƒì´ë‹ˆê¹Œ driver.switch_to.frame()ì„ ì‚¬ìš©í•©ë‹ˆë‹¤.


driver.switch_to.window() # íƒ­/ì°½ìœ¼ë¡œ ì´ë™
driver.switch_to.frame() # í”„ë ˆì„ìœ¼ë¡œ ì´ë™
driver.switch_to.frame() ì•ˆì—ëŠ”

iframe ì›¹ ìš”ì†Œ
iframeì˜ id ì†ì„±ê°’
iframeì˜ name ì†ì„±ê°’ (name ì†ì„±ê°’ì€ ì¤‘ë³µë  ìˆ˜ ìˆìŠµë‹ˆë‹¤)
iframe ì¸ë±ìŠ¤
ë¥¼ ë„£ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.



ë‹¤ì‹œ HTML ì½”ë“œë¥¼ ë³´ë©´ ë³´ë©´ iframeì´ ì´ ë‘ ê°œ ìˆê³ , ì²« ë²ˆì§¸ iframeì˜ idì™€ nameì€ ëª¨ë‘ 'mainFrame'ì…ë‹ˆë‹¤. ì›¹ í˜ì´ì§€ì˜ ëª¨ë“  ë‚´ìš©ì€ 'mainFrame' ì•ˆì— ìˆìŠµë‹ˆë‹¤.

'mainFrame' iframeìœ¼ë¡œ ì´ë™í•˜ë ¤ë©´ ì•„ë˜ ì½”ë“œ ì¤‘ í•˜ë‚˜ë¥¼ ì¨ ì£¼ë©´ ë©ë‹ˆë‹¤.


# ì›¹ ìš”ì†Œ íŒŒë¼ë¯¸í„°ë¡œ ì‚¬ìš©
driver.switch_to.frame(driver.find_element_by_css_selector('#mainFrame')

# iframeì˜ id ë˜ëŠ” name ì†ì„±ê°’ ì‚¬ìš©
driver.switch_to.frame('mainFrame')

# iframe ì¸ë±ìŠ¤ ì‚¬ìš©
driver.switch_to.frame(0)
ì´ì œ iframe ì•ˆìœ¼ë¡œ ì´ë™í–ˆìœ¼ë‹ˆ, iframeì— í•´ë‹¹í•˜ëŠ” HTML ì½”ë“œë¥¼ ì ‘ê·¼í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.



ì˜ˆë¥¼ ë“¤ì–´ ë¸”ë¡œê·¸ ê¸€ì˜ ë‚´ìš©ì€ <div class="se-main-container"> ì•ˆì— ìˆëŠ”ë°, ì´ íƒœê·¸ë¥¼ ê°€ì ¸ì™€ì„œ .textë¥¼ ë¶™ì´ë©´, ê¸€ ë‚´ìš©ì„ ê°€ì ¸ì˜¬ ìˆ˜ ìˆê² ì£ ?


import time
from selenium import webdriver

driver = webdriver.Chrome()
driver.implicitly_wait(3)

# ì½”ë“œì‡ ë„¤ì´ë²„ ë¸”ë¡œê·¸ ì ‘ì†
driver.get('https://blog.naver.com/codeitofficial')
time.sleep(1)

# 'mainFrame'ìœ¼ë¡œ ì´ë™
driver.switch_to.frame('mainFrame')

# ë¸”ë¡œê·¸ ê¸€ ë‚´ìš© ì¶œë ¥
print(driver.find_element_by_css_selector('div.se-main-container').text)

driver.quit()

ì•ˆë…•í•˜ì„¸ìš”, ì˜¨ë¼ì¸ ì½”ë”© ìŠ¤ì¿¨ ì½”ë“œì‡ì…ë‹ˆë‹¤.
ì˜¤ëŠ˜ì€ ì¶”ì²œ ì‹œìŠ¤í…œì´ ë¬´ì—‡ì¸ì§€ ê°„ë‹¨í•˜ê²Œ ì•Œì•„ë³´ê³ , ì¶”ì²œ ì‹œìŠ¤í…œì„ ë§Œë“¤ ìˆ˜ ìˆëŠ” ë‘ ê°€ì§€ ë°©ë²•ì— ëŒ€í•´ì„œ ê°„ë‹¨íˆ ì•Œì•„ë³´ê² ìŠµë‹ˆë‹¤.

...
ëë‚´ê¸° ì „ì— iframe ìŠ¤ìœ„ì¹­ì— ëŒ€í•´ ì¡°ê¸ˆ ë” ìì„¸íˆ ì•Œë ¤ë“œë¦´ê²Œìš”. ì›¹ í˜ì´ì§€ì—ëŠ” ì—¬ëŸ¬ iframeì´ ìˆì„ ìˆ˜ ìˆê³ , iframe ì•ˆì— iframeì´ ë˜ ìˆì„ ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.



ìœ„ ê·¸ë¦¼ì—ì„œ ê°€ì¥ ë°”ê¹¥ì— ìˆëŠ” ë„¤ëª¨ëŠ” ì›¹ í˜ì´ì§€ ì „ì²´ë¥¼ ëœ»í•˜ê³ , ì›¹ í˜ì´ì§€ ì•ˆì—ëŠ” Aì™€ B iframe, A iframe ì•ˆì—ëŠ” Cì™€ D iframeì´ ìˆìŠµë‹ˆë‹¤.

driver.switch_to.frame()ì„ ì´ìš©í•˜ë©´ iframe ì•ˆìœ¼ë¡œë§Œ ë“¤ì–´ê°ˆ ìˆ˜ ìˆê³ , í•œ ë²ˆì— í•œ ë‹¨ê³„ì”©ë§Œ ë“¤ì–´ê°ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤. (iframe ì•ˆìœ¼ë¡œ ì´ë™í•´ì•¼ iframeì— í•´ë‹¹í•˜ëŠ” HTML ì½”ë“œì— ì ‘ê·¼í•  ìˆ˜ ìˆê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.)

ì›¹ í˜ì´ì§€ ì „ì²´ë¥¼ ë©”ì¸ í”„ë ˆì„ì´ë¼ê³  í•˜ë©´, ë©”ì¸ í”„ë ˆì„ì—ì„œëŠ” Aë‚˜ Bë¡œë§Œ ë“¤ì–´ê°ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤. Cë‚˜ Dë¡œëŠ” ë°”ë¡œ ê°ˆ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.

ê·¸ë¦¬ê³  Aì—ì„œëŠ” Cë‚˜ Dë¡œë§Œ ë“¤ì–´ê°ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ë©”ì¸ í”„ë ˆì„ì—ì„œ Cë¡œ ê°€ë ¤ë©´ ì•„ë˜ì™€ ê°™ì´ ì½”ë“œë¥¼ ì¨ ì¤˜ì•¼ í•˜ëŠ” ê±°ì£ .


driver.get('URL')

driver.switch_to.frame('A')
driver.switch_to.frame('C')
ê·¸ëŸ¼ í˜„ì¬ iframeì—ì„œ ë°–ìœ¼ë¡œ ë‚˜ì˜¤ëŠ” ê±´ ì–´ë–»ê²Œ í• ê¹Œìš”?


# ìƒìœ„ iframeìœ¼ë¡œ ì´ë™
driver.switch_to.parent_frame()

# ì›¹ í˜ì´ì§€ / ìµœìƒìœ„ í”„ë ˆì„ / ë©”ì¸ í”„ë ˆì„ìœ¼ë¡œ ì´ë™ 
driver.switch_to.default_content()
ìœ„ ë©”ì†Œë“œë“¤ì„ ì‚¬ìš©í•˜ë©´ ë©ë‹ˆë‹¤. Cì—ì„œ driver.switch_to.parent_frame()ì„ ì‹¤í–‰í•˜ë©´ Aë¡œ ì´ë™í•˜ê³ , driver.switch_to.default_content()ë¥¼ ì‹¤í–‰í•˜ë©´ ë©”ì¸ í”„ë ˆì„ìœ¼ë¡œ ì´ë™í•˜ëŠ” ê±°ì£ .

Cì—ì„œ Bë¡œ ì´ë™í•˜ê³  ì‹¶ë‹¤ë©´ ì•„ë˜ì™€ ê°™ì´ ì½”ë“œë¥¼ ì¨ ì¤„ ìˆ˜ ìˆê² ì£ ?


# ë©”ì¸ í”„ë ˆì„ìœ¼ë¡œ ì´ë™
driver.switch_to.default_content()

# Bë¡œ ì´ë™
driver.switch_to.frame('B')
ë³µì¡í•œ iframe êµ¬ì¡°ë¥¼ ê°€ì§€ê³  ìˆëŠ” ì›¹ì‚¬ì´íŠ¸ë¥¼ ë‹¤ë£° ë•ŒëŠ” ë°©ê¸ˆ ë°°ìš´ ë‚´ìš©ì— ëŒ€í•´ ì˜ ìƒê°í•´ ë³´ì‹œë©´ì„œ ì½”ë“œë¥¼ ì§œ ë³´ì„¸ìš”!



### Selenium ê¸°ëŠ¥ ë” ì•Œì•„ë³´ê¸°: Headless ëª¨ë“œ

## Headless ëª¨ë“œë€?
Headless ëª¨ë“œëŠ” ì›¹ ë¸Œë¼ìš°ì €ê°€ ëˆˆì— ë³´ì´ì§€ ì•ŠëŠ” ìƒíƒœë¡œ, ë°±ê·¸ë¼ìš´ë“œì—ì„œ ì‹¤í–‰ë˜ëŠ” ëª¨ë“œë¥¼ ëœ»í•©ë‹ˆë‹¤. ì§€ê¸ˆê¹Œì§€ëŠ” Selenium ì½”ë“œë¥¼ ì‹¤í–‰í•˜ë©´ ë¸Œë¼ìš°ì €ê°€ ëœ¨ê³ , ì›¹ì‚¬ì´íŠ¸ì— ì ‘ì†í•˜ê³ , ë¡œê·¸ì¸, ìŠ¤í¬ë¡¤ ë™ì‘ì„ í•˜ëŠ” ê²ƒì´ ëˆˆì— ë³´ì˜€ì—ˆì£ ? Headless ëª¨ë“œë¥¼ ì‚¬ìš©í•˜ë©´ ì´ ëª¨ë“  ê²ƒì´ ë³´ì´ì§€ ì•ŠëŠ” ìƒíƒœë¡œ ì§„í–‰ë©ë‹ˆë‹¤.

ê·¸ëŸ¼ ì™œ headless ëª¨ë“œë¥¼ ì“°ëŠ” ê±¸ê¹Œìš”?

ë°”ë¡œ í¼í¬ë¨¼ìŠ¤(performance) ë•Œë¬¸ì…ë‹ˆë‹¤. Headless ëª¨ë“œë¥¼ ì‚¬ìš©í•˜ë©´ ì›¹ ë¸Œë¼ìš°ì €ë¥¼ ì•ˆ ë„ì›Œë„ ë˜ê¸° ë•Œë¬¸ì— ì»´í“¨í„°ì˜ ìì›(CPU, RAM ë“±)ì´ ëœ ì†Œëª¨ë˜ê³ , ë” ë¹ ë¥´ê²Œ ë™ì‘í•©ë‹ˆë‹¤.

í•˜ì§€ë§Œ ë‹¨ì ë„ ìˆìŠµë‹ˆë‹¤.

Headless ëª¨ë“œë¥¼ ì‚¬ìš©í•˜ë©´ ì›¹ ë¸Œë¼ìš°ì €ê°€ ì•ˆ ë³´ì´ê¸° ë•Œë¬¸ì— ì˜¤ë¥˜ê°€ ë‚˜ë„ ì–´ëŠ ì‹œì ì—ì„œ ì˜¤ë¥˜ê°€ ë‚¬ëŠ”ì§€ íŒŒì•…í•˜ê¸° í˜ë“¤ ìˆ˜ê°€ ìˆìŠµë‹ˆë‹¤. ì˜¤ë¥˜ ë©”ì‹œì§€ë§Œ ë³´ê³  ì˜¤ë¥˜ë¥¼ íŒŒì•…í•´ì•¼ í•˜ëŠ” ê±°ì£ .

Seleniumìœ¼ë¡œ í•˜ëŠ” ì‘ì—…ì´ ë³µì¡í•˜ê³ , ì˜¤ëœ ì‹œê°„ì´ ê±¸ë¦°ë‹¤ë©´ headless ëª¨ë“œë¥¼ ê³ ë ¤í•´ ë³´ì„¸ìš”!


## Headless ëª¨ë“œ ì‚¬ìš©í•˜ê¸°

ê·¸ëŸ¼ headless Chrome (êµ¬ê¸€ í¬ë¡¬ì„ headless ëª¨ë“œë¡œ ì‚¬ìš©í•˜ëŠ” ê²ƒ)ì„ ì–´ë–»ê²Œ ì‚¬ìš©í•˜ëŠ”ì§€ ì•Œì•„ë³´ê² ìŠµë‹ˆë‹¤.

ë¨¼ì € selenium ë¼ì´ë¸ŒëŸ¬ë¦¬ì—ì„œ Optionsë¥¼ ì„í¬íŠ¸í•´ ì¤ë‹ˆë‹¤.


from selenium.webdriver.chrome.options import Options
ê·¸ë¦¬ê³  ì˜µì…˜ì„ ë§Œë“¤ì–´ ì¤€ ë‹¤ìŒ, headless ì˜µì…˜ì„ ì„¤ì •í•´ ì£¼ê³ , ë¸Œë¼ìš°ì € ì°½ í¬ê¸°ë„ (1920, 1080)ìœ¼ë¡œ ì„¤ì •í•´ ì¤ë‹ˆë‹¤.


options = Options()
options.add_argument("--headless")
options.add_argument("window-size=1920,1080")
ë¸Œë¼ìš°ì € ì°½ í¬ê¸°ë¥¼ ì¶©ë¶„íˆ í¬ê²Œ ì„¤ì •í•´ ì£¼ì§€ ì•Šìœ¼ë©´ ì›¹ì‚¬ì´íŠ¸ì˜ ë‚´ìš©ì´ ì˜ ë¡œë”©ë˜ì§€ ì•Šê³  (ìŒì•… ì›¹ì‚¬ì´íŠ¸ë„ ê°€ë¡œ ê¸¸ì´ê°€ ë„ˆë¬´ ì§§ìœ¼ë©´ ë‚´ìš©ì´ ë³´ì´ì§€ ì•ŠìŠµë‹ˆë‹¤) ìŠ¤í¬ë¡¤ì´ ì›í™œí•˜ê²Œ ì•ˆ ë  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤.

ê·¸ë¦¬ê³  í¬ë¡¬ ë“œë¼ì´ë²„ë¥¼ ìƒì„±í•  ë•Œ ì´ ì˜µì…˜ì„ ë„£ì–´ì¤ë‹ˆë‹¤.


driver = webdriver.Chrome("chromedriver ê²½ë¡œ", options=options)
# ë˜ëŠ”
driver = webdriver.Chrome(options=options) # ê²½ë¡œ ì„¤ì •ì´ í•„ìš” ì—†ëŠ” ê²½ìš° (chromedriverê°€ C:\Windows ë˜ëŠ” /usr/local/binì— ìœ„ì¹˜í•´ ìˆëŠ” ê²½ìš°)
í•œë²ˆ ì´ë²ˆ ì±•í„°ì—ì„œ ì‹¤í–‰í•´ ë´¤ë˜ Selenium ì½”ë“œë¥¼ headless ëª¨ë“œë¡œ ì‹¤í–‰í•´ ë³´ì„¸ìš”!


### ì›¹ ìŠ¤í¬ë˜í•‘ ì£¼ì˜ì‚¬í•­ (í•©ë²•ê³¼ ë¶ˆë²•?)

## ì›¹ ìŠ¤í¬ë˜í•‘, í•©ë²•ê³¼ ë¶ˆë²•?
ì›¹ì—ì„œ ë°ì´í„°ë¥¼ ìŠ¤í¬ë˜í•‘í•˜ëŠ” ê²ƒì´ ë¶ˆë²•ì´ë¼ê³  ìƒê°í•˜ëŠ” ì‚¬ëŒë“¤ì´ ë§ì€ë°ìš”. ë°ì´í„°ë¥¼ ìŠ¤í¬ë˜í•‘í•˜ëŠ” ê²ƒ ê·¸ ìì²´ëŠ” ë¶ˆë²•ì´ ì•„ë‹™ë‹ˆë‹¤. í•˜ì§€ë§Œ ì–´ë–¤ ë°ì´í„°ë¥¼ ìˆ˜ì§‘í•˜ê³ , ìˆ˜ì§‘í•œ ë°ì´í„°ë¥¼ ì–´ë–»ê²Œ ì‚¬ìš©í•˜ëŠ”ì§€ì— ë”°ë¼ ë¬¸ì œê°€ ë°œìƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì €ì‘ê¶Œì´ ìˆëŠ” ë°ì´í„°ë¥¼ í—ˆë½ ì—†ì´ ë°°í¬í•˜ê±°ë‚˜, ìƒì—…ì  ìš©ë„ë¡œ í™œìš©í•˜ë©´ ì•ˆ ë©ë‹ˆë‹¤.

ì˜ˆë¥¼ ë“¤ì–´, ëª‡ ë…„ ì „ì— ì±„ìš©ì •ë³´ í”Œë«í¼ ì‚¬ëŒì¸HRì´ ê²½ìŸì‚¬ ì¡ì½”ë¦¬ì•„ì— ì˜¬ë¼ì˜¨ ì±„ìš©ê³µê³  ë“±ì„ ëŒì–´ë‹¤ ì¼ë‹¤ê°€, ì €ì‘ê¶Œ ì¹¨í•´ê¸ˆì§€ ì²­êµ¬ ì†Œì†¡ì„ ë‹¹í•œ ì‚¬ë¡€ê°€ ìˆìŠµë‹ˆë‹¤: http://it.chosun.com/site/data/html_dir/2017/09/27/2017092785016.html

ì›¹ ìŠ¤í¬ë˜í•‘ì„ í•˜ê¸° ì „ì—, ìˆ˜ì§‘í•  ë°ì´í„°ë¥¼ ì–´ë–»ê²Œ í™œìš©í•  ê²ƒì¸ì§€, ë°ì´í„°ë¥¼ ì˜ë„ëŒ€ë¡œ í™œìš©í•˜ë©´ ë¬¸ì œê°€ ë  ë²•í•œ ì‚¬í•­ì€ ì—†ëŠ”ì§€, í•œ ë²ˆ ê³ ë ¤í•´ ë³´ì„¸ìš”.


## ì›¹ ìŠ¤í¬ë˜í•‘ ì—í‹°ì¼“ê³¼ ì°¨ë‹¨

ì›¹ ìŠ¤í¬ë˜í•‘ì€ ì‚¬ëŒì´ ì•„ë‹Œ í”„ë¡œê·¸ë¨ì´ ìš”ì²­ì„ ë³´ëƒ…ë‹ˆë‹¤. í”„ë¡œê·¸ë¨ì€ ì§§ì€ ì‹œê°„ì— ìˆ˜ë§ì€ ìš”ì²­ì„ ë³´ë‚¼ ìˆ˜ ìˆëŠ”ë°ìš”. ê°™ì€ ì„œë²„ë¡œ ì§§ì€ ì‹œê°„ ë‚´ì— ìˆ˜ë§ì€ ìš”ì²­ì„ ë³´ë‚´ë©´ ì„œë²„ íŠ¸ë˜í”½(traffic)ì´ ì‹¬í•´ì§€ê³ , ì„œë²„ì— ê³¼ë¶€í•˜ê°€ ì˜¬ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ê·¸ëŸ¬ë©´ ì›¹ì‚¬ì´íŠ¸ì˜ ì›í™œí•œ ì„œë¹„ìŠ¤ì— ë°©í•´ê°€ ë˜ê³ , ë§ì€ ì‚¬ìš©ìí•œí…Œ í”¼í•´ê°€ ê°€ëŠ” ê±°ì£ . ì„œë²„ì— ë¶€í•˜ë¥¼ ë§ì´ ì£¼ë©´ ìŠ¤í¬ë˜í•‘ í”„ë¡œê·¸ë¨ì´ ì•…ì„± í”„ë¡œê·¸ë¨ìœ¼ë¡œ íŒë‹¨ë¼ì„œ ì›¹ì‚¬ì´íŠ¸ì˜ ì ‘ì†ì´ ì°¨ë‹¨ë˜ê±°ë‚˜ ì œí•œë  ìˆ˜ê°€ ìˆìŠµë‹ˆë‹¤.

ë”°ë¼ì„œ ê°™ì€ ë„ë©”ì¸ ë‚´ì—ì„œ ìŠ¤í¬ë˜í•‘ì„ ë°˜ë³µì ìœ¼ë¡œ í•  ë•ŒëŠ” ì ì ˆí•œ ì£¼ê¸°ë¡œ ìŠ¤í¬ë˜í•‘ì„ í•´ ì£¼ëŠ” ê²ƒì´ ì¢‹ìŠµë‹ˆë‹¤. ì´ë²ˆ ì±•í„°ì—ì„œ ë°°ì› ë˜ time.sleep()ì„ í™œìš©í•˜ëŠ” ê²ƒë„ í•˜ë‚˜ì˜ ë°©ë²•ì´ê² ì£ ?


## robots.txt

robots.txt íŒŒì¼ì€ ì›¹ í¬ë¡¤ëŸ¬ (í¬ë¡¤ë§ ì „ìš© í”„ë¡œê·¸ë¨)ë“¤ì´ ì›¹ì‚¬ì´íŠ¸ë¥¼ í¬ë¡¤ë§ í•  ë•Œ ì§€ì¼œì•¼ í•˜ëŠ” ê·œì¹™ì„ ëª…ì‹œí•´ ë†“ì€ íŒŒì¼ì¸ë°ìš”, ì›¹ ìŠ¤í¬ë˜í•‘ì„ í•  ë•Œë„ robots.txt íŒŒì¼ì„ ê°€ì´ë“œë¼ì¸ìœ¼ë¡œ ì‚¼ìœ¼ë©´ ì¢‹ìŠµë‹ˆë‹¤.

robots.txt íŒŒì¼ì€ ì›¹ì‚¬ì´íŠ¸ ë£¨íŠ¸(ë„ë©”ì¸ ë’¤ì— ê²½ë¡œê°€ ë¶™ì§€ ì•Šì€ ì£¼ì†Œ)ì—ì„œ ì°¾ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

êµ¬ê¸€: https://www.google.com/robots.txt


User-agent: *
Disallow: /search
Allow: /search/about
Allow: /search/static
Allow: /search/howsearchworks
Disallow: /sdch
Disallow: /groups
Disallow: /index.html?
Disallow: /?

...

# AdsBot
User-agent: AdsBot-Google
Disallow: /maps/api/js/
Allow: /maps/api/js
Disallow: /maps/api/place/js/
Disallow: /maps/api/staticmap
Disallow: /maps/api/streetview
ì˜ˆë¥¼ ë“¤ì–´ ìœ„ì—ëŠ” êµ¬ê¸€ robots.txt íŒŒì¼ì˜ ì¼ë¶€ì¸ë°ìš”. robots.txt íŒŒì¼ì—ì„œ

User-agentëŠ” ëˆ„êµ¬ì—ê²Œ ê·œì¹™ì´ ì ìš©ë˜ëŠ”ì§€ë¥¼ ëœ»í•©ë‹ˆë‹¤. *ëŠ” ëª¨ë‘ì—ê²Œ ê·œì¹™ì´ ì ìš©ëœë‹¤ëŠ” ëœ»ì…ë‹ˆë‹¤.
DisallowëŠ” ê²½ë¡œ ì•„ë˜ì— ìˆëŠ” ëª¨ë“  URLì— ëŒ€í•´ í¬ë¡¤ë§ì„ ê¸ˆì§€í•œë‹¤ëŠ” ëœ»ì´ê³ , AllowëŠ” ê²½ë¡œ ì•„ë˜ì— ìˆëŠ” ëª¨ë“  URLì— ëŒ€í•´ í¬ë¡¤ë§ì„ í—ˆìš©í•œë‹¤ëŠ” ëœ»í•©ë‹ˆë‹¤.
ì²˜ìŒ ëª‡ ì¤„ì„ í•´ì„í•´ ë³´ë©´, ëª¨ë“  í¬ë¡¤ëŸ¬ëŠ” www.google.com/searchë¡œ ì‹œì‘í•˜ëŠ” URLì€ í¬ë¡¤ë§í•˜ë©´ ì•ˆ ë˜ëŠ”ë°, ê·¸ì¤‘ www.google.com/search/about, www.google/com/search/static, www.google.com/search/howsearchworksë¡œ ì‹œì‘í•˜ëŠ” URLë“¤ì€ ê´œì°®ë‹¤ëŠ” ëœ»ì…ë‹ˆë‹¤.

í˜ì´ìŠ¤ë¶: https://facebook.com/robots.txt


# Notice: Collection of data on Facebook through automated means is
# prohibited unless you have express written permission from Facebook
# and may only be conducted for the limited purpose contained in said
# permission.
# See: http://www.facebook.com/apps/site_scraping_tos_terms.php

User-agent: Applebot
Disallow: /ajax/
Disallow: /album.php
Disallow: /checkpoint/
Disallow: /contact_importer/
Disallow: /dialog/
Disallow: /fbml/ajax/dialog/
Disallow: /feeds/
ì´ë²ˆì—ëŠ” í˜ì´ìŠ¤ë¶ì˜ robots.txtì¸ë°ìš”. ë³¸ë¬¸ì„ ì½ê¸°ë„ ì „ì—, ì£¼ì„ ë¶€ë¶„ì— ë©”ì‹œì§€ê°€ í•˜ë‚˜ ìˆìŠµë‹ˆë‹¤.


# Notice: Collection of data on Facebook through automated means is
# prohibited unless you have express written permission from Facebook
# and may only be conducted for the limited purpose contained in said
# permission.
# See: http://www.facebook.com/apps/site_scraping_tos_terms.php
í•´ì„í•˜ë©´, í˜ì´ìŠ¤ë¶ìœ¼ë¡œë¶€í„° í—ˆë½ì„ ë°›ì§€ ì•Šì•˜ë‹¤ë©´, í˜ì´ìŠ¤ë¶ì— ìˆëŠ” ë°ì´í„°ë¥¼ ìˆ˜ì§‘í•˜ëŠ” ê²ƒì€ ê¸ˆì§€ë¼ìˆë‹¤ëŠ” ê²ë‹ˆë‹¤. ì´ë ‡ê²Œ ì£¼ì˜ì‚¬í•­ì´ ì í˜€ìˆëŠ” ê²½ìš°ë„ ìˆìœ¼ë‹ˆ, ê¼­ í™•ì¸í•´ ì£¼ì„¸ìš”.


## ì˜ˆì¸¡í•  ìˆ˜ ì—†ëŠ” ì¸í„°ë„· ìƒíƒœ

ì´ë²ˆ ì±•í„°ì—ì„œ ë´¤ë“¯ì´ Seleniumì„ ì“¸ ë•ŒëŠ” ì›¹ì‚¬ì´íŠ¸ê°€ ë¡œë”©ë˜ë„ë¡ ê¸°ë‹¤ë ¤ ì£¼ëŠ” ê²ƒì´ ì •ë§ ì¤‘ìš”í•©ë‹ˆë‹¤. ì›¹ ìš”ì†Œê°€ ë¡œë”©ë˜ì§€ ì•Šì€ ìƒíƒœì—ì„œ ì›¹ ìš”ì†Œì™€ ìƒí˜¸ì‘ìš©ì„ í•˜ë ¤ê³  í•˜ë©´ ì˜¤ë¥˜ê°€ ë‚˜ê³  í”„ë¡œê·¸ë¨ì´ ì¢…ë£Œë˜ê¸° ë•Œë¬¸ì´ì£ . ì›¹ì‚¬ì´íŠ¸ì˜ ë¡œë”© ì†ë„ëŠ” ê·¸ë‚  ì¸í„°ë„·ì˜ ìƒíƒœ, ì„œë²„ì˜ ìƒíƒœì— ë”°ë¼ í¸ì°¨ê°€ í´ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ë¡œë”© ì†ë„ë¥¼ í™•ì‹¤íˆ ì˜ˆì¸¡í•  ìˆ˜ê°€ ì—†ëŠ” ê±°ì£ .

ë”°ë¼ì„œ Seleniumì„ ì“¸ ë•ŒëŠ” ìµœëŒ€í•œ ì•ˆì •ì ì¸ ì½”ë“œë¥¼ ì§œ ì¤„ í•„ìš”ê°€ ìˆìŠµë‹ˆë‹¤. ì´ë²ˆ ì±•í„°ì—ì„œ ë°°ìš´ waitì„ ì˜ í™œìš©í•´ì•¼ í•˜ëŠ” ê±°ì£ . ì¶©ë¶„í•œ wait ê¸°ê°„ì„ ì„¤ì •í•´ ì¤¬ëŠ”ë°ë„ ì›¹ ìš”ì†Œë¥¼ ì°¾ì„ ìˆ˜ ì—†ë‹¤ëŠ” ì˜¤ë¥˜ê°€ ë‚œë‹¤ë©´ ì¸í„°ë„·/ì„œë²„ì˜ ìƒíƒœë¥¼ ì˜ì‹¬í•´ ë³´ì‹œê³  ì‹¤ì œë¡œ ë¬¸ì œê°€ ìˆë‹¤ë©´ ë‚˜ì¤‘ì— ì¬ì‹œë„í•´ ë³´ì„¸ìš”.


## ì›¹ì‚¬ì´íŠ¸ì˜ ì§€ì†ì ì¸ ë³€í™”

ì›¹ì‚¬ì´íŠ¸ëŠ” ì§€ì†ì ìœ¼ë¡œ ë³€í•©ë‹ˆë‹¤. ê·¸ê±´ ì›¹ì‚¬ì´íŠ¸ì˜ HTML ì½”ë“œê°€ ë³€í•œë‹¤ëŠ” ëœ»ì´ê² ì£ ? ì›¹ì‚¬ì´íŠ¸ì˜ HTML ì½”ë“œê°€ ë³€í•˜ë©´ ì˜ ë˜ë˜ ì›¹ ìŠ¤í¬ë˜í•‘ ì½”ë“œê°€ ë” ì´ìƒ ì•ˆë  ìˆ˜ë„ ìˆìŠµë‹ˆë‹¤. ê·¸ëŸ¬ë©´, ì•„ì‰½ì§€ë§Œ ìƒˆë¡œìš´ ì›¹ì‚¬ì´íŠ¸ êµ¬ì¡°ì— ë§ëŠ” ìŠ¤í¬ë˜í•‘ ì½”ë“œë¥¼ ìƒˆë¡œ ì§œ ì¤˜ì•¼ í•©ë‹ˆë‹¤.

ì˜ ì‘ë™í•˜ë˜ ì½”ë“œê°€ ì–´ëŠ ë‚  ì•ˆëœë‹¤ë©´ ì›¹ì‚¬ì´íŠ¸ì˜ êµ¬ì¡°ê°€ ë³€í•œ ê²ƒì¼ ìˆ˜ë„ ìˆìœ¼ë‹ˆê¹Œ ì´ ì  ìœ ì˜í•´ ì£¼ì„¸ìš”.



### groupby

### ì§ì—… íƒêµ¬í•˜ê¸° I

## í•´ì„¤
ì£¼ì–´ì§„ ë°ì´í„°ì—ëŠ” 'age',' gender', 'occupation' columnì´ ìˆìŠµë‹ˆë‹¤.

ì´ ë°ì´í„°ë¥¼ ì´ìš©í•´ì„œ 'ì§ì—…ë³„ í‰ê·  ë‚˜ì´'ë¥¼ êµ¬í•˜ê³ ì í•©ë‹ˆë‹¤.

ë¨¼ì € ì§ì—… 'occupation'ì„ ê¸°ì¤€ìœ¼ë¡œ groupby ì˜¤ë¸Œì íŠ¸ë¥¼ ë§Œë“¤ì–´ ë´…ì‹œë‹¤.


import pandas as pd

df = pd.read_csv('data/occupations.csv')

occupation_group = df.groupby('occupation')
occupation_group

<pandas.core.groupby.groupby.DataFrameGroupBy object at 0x118e582e8>
ì´ groupby ì˜¤ë¸Œì íŠ¸ì— .mean() ë©”ì†Œë“œë¥¼ í™œìš©í•˜ë©´, ê° columnì— ëŒ€í•´ ì§ì—…ë³„ í‰ê·  ë°ì´í„°ë¥¼ ì•Œ ìˆ˜ ìˆìŠµë‹ˆë‹¤.


occupation_group.mean()


occupation_group.mean()ì˜ ê²°ê³¼ë„ DataFrameìœ¼ë¡œ ë‚˜ì˜¤ê²Œ ë©ë‹ˆë‹¤.  
ì´ DataFrameì„ ìš°ë¦¬ê°€ ì›í•˜ëŠ” 'age' columnìœ¼ë¡œ ì •ë ¬í•´ ì¤ì‹œë‹¤.


occupation_group.mean().sort_values(by='age')


ê²°ê³¼ ì „ì²´ë¥¼ ì‚´í´ë³´ë©´ student, entertainment, artist ë“±ì´ í‰ê·  ì—°ë ¹ì´ ë‚®ê³ ,  doctor, educator, healthcare ë“±ì˜ ì§ì—…ì€ í‰ê·  ì—°ë ¹ì´ ë†’ì€ ê²ƒì„ ì•Œ ìˆ˜ ìˆìŠµë‹ˆë‹¤.


import pandas as pd

df = pd.read_csv('data/occupations.csv')

occupation_group = df.groupby('occupation')
occupation_group.mean().sort_values(by='age')



### ì§ì—… íƒêµ¬í•˜ê¸° II

## ì‹¤ìŠµ ì„¤ëª…
ì´ë²ˆì—ëŠ” ì—¬ì ë¹„ìœ¨ì´ ë†’ì€ ì§ì—…ê³¼, ë‚¨ì ë¹„ìœ¨ì´ ë†’ì€ ì§ì—…ì´ ë¬´ì—‡ì¸ì§€ ê¶ê¸ˆí•œë°ìš”.

groupby ë¬¸ë²•ì„ ì‚¬ìš©í•´ì„œ 'ì—¬ì„± ë¹„ìœ¨'ì´ ë†’ì€ ìˆœìœ¼ë¡œ ì§ì—…ì„ ë‚˜ì—´í•´ ë³´ì„¸ìš”.

DataFrameì´ ì•„ë‹Œ Seriesë¡œ, 'gender'ì— ëŒ€í•œ ê°’ë§Œ ì•„ë˜ì™€ ê°™ì´ ì¶œë ¥ë˜ì–´ì•¼ í•©ë‹ˆë‹¤.


occupation
homemaker        0.857143
healthcare       0.687500
librarian        0.568627
artist           0.464286
administrator    0.455696
none             0.444444
writer           0.422222
marketing        0.384615
other            0.342857
student          0.306122
educator         0.273684
salesman         0.250000
lawyer           0.166667
entertainment    0.111111
scientist        0.096774
executive        0.093750
programmer       0.090909
retired          0.071429
technician       0.037037
engineer         0.029851
doctor           0.000000
Name: gender, dtype: float64
ì£¼ì˜ ì‚¬í•­: ìë™ ì±„ì  ê³¼ì œì…ë‹ˆë‹¤. ì •ë‹µì€ print ì—†ì´ ì¶œë ¥í•´ ì£¼ì„¸ìš”.


## í•´ì„¤
ë™ì¼í•œ ë°ì´í„°ë¥¼ ì´ìš©í•´ì„œ 'ì§ì—…ì— ë”°ë¥¸ ì„±ë³„ ë¹„ìœ¨'ì„ êµ¬í•˜ê³ ì í•©ë‹ˆë‹¤.

ë¨¼ì € ì§ì—… 'occupation'ì„ ê¸°ì¤€ìœ¼ë¡œ groupby ì˜¤ë¸Œì íŠ¸ë¥¼ ë§Œë“¤ì–´ ë´…ì‹œë‹¤.


import pandas as pd

df = pd.read_csv('data/occupations.csv')

occupation_group = df.groupby('occupation')
occupation_group

<pandas.core.groupby.groupby.DataFrameGroupBy object at 0x118e582e8>
ì´ groupby ì˜¤ë¸Œì íŠ¸ì— .mean() ë©”ì†Œë“œë¥¼ í™œìš©í•˜ë©´, ê° columnì— ëŒ€í•´ ì§ì—…ë³„ í‰ê·  ë°ì´í„°ë¥¼ ì•Œ ìˆ˜ ìˆìŠµë‹ˆë‹¤.


occupation_group.mean()


í•˜ì§€ë§Œ ìš°ë¦¬ê°€ ì›í•˜ëŠ” 'gender'ì— ëŒ€í•œ ê°’ì€ ì—¬ê¸°ì— ë‚˜ì˜¤ì§€ ì•Šë„¤ìš”.

'gender'ê°€ 'M', 'F' ë“±ì˜ ë¬¸ìë¡œ ë˜ì–´ ìˆì–´ì„œ, í‰ê· ì„ êµ¬í•  ìˆ˜ ì—†ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤.

ê·¸ëŸ¼ ì–´ë–»ê²Œ í•´ì•¼ í‰ê·  ì„±ë³„ì„ êµ¬í•  ìˆ˜ ìˆì„ê¹Œìš”?

ë‚¨ì„±ì„ 0, ì—¬ì„±ì„ 1ë¡œ ë³€ê²½í•´ì£¼ë©´, ìˆ«ìë¡œ ê³„ì‚°ì„ í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.


df.loc[df['gender'] == 'M', 'gender'] = 0
df.loc[df['gender'] == 'F', 'gender'] = 1
ë‚¨ìë¥¼ ì˜ë¯¸í•˜ëŠ” 'M'ì´ ìˆ«ì 0ìœ¼ë¡œ, ì—¬ìë¥¼ ì˜ë¯¸í•˜ëŠ” 'F'ê°€ ìˆ«ì 1ë¡œ ë°”ë€Œì—ˆìŠµë‹ˆë‹¤.

ì´ì œ ê° ê·¸ë£¹ì— ëŒ€í•œ í‰ê· ê°’ì„ êµ¬í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ìš°ë¦¬ëŠ” ì´ ì¤‘ì—ì„œ genderì— ëŒ€í•œ í‰ê· ë§Œ Seriesë¡œ ê°€ì ¸ì™€ ë´…ì‹œë‹¤.


occupation_group.mean()['gender']

occupation
administrator    0.455696
artist           0.464286
doctor           0.000000
educator         0.273684
engineer         0.029851
entertainment    0.111111
executive        0.093750
healthcare       0.687500
homemaker        0.857143
lawyer           0.166667
librarian        0.568627
marketing        0.384615
none             0.444444
other            0.342857
programmer       0.090909
retired          0.071429
salesman         0.250000
scientist        0.096774
student          0.306122
technician       0.037037
writer           0.422222
Name: gender, dtype: float64
ë³´ê¸° í¸í•˜ê²Œ ë°ì´í„°ë¥¼ ì •ë ¬í•´ ì¤ì‹œë‹¤.


occupation_group.mean()['gender'].sort_values(ascending=False)

occupation
homemaker        0.857143
healthcare       0.687500
librarian        0.568627
artist           0.464286
administrator    0.455696
none             0.444444
writer           0.422222
marketing        0.384615
other            0.342857
student          0.306122
educator         0.273684
salesman         0.250000
lawyer           0.166667
entertainment    0.111111
scientist        0.096774
executive        0.093750
programmer       0.090909
retired          0.071429
technician       0.037037
engineer         0.029851
doctor           0.000000
Name: gender, dtype: float64
ì´ì œ ê° ì§ì—…ë³„ë¡œ ì„±ë³„ ë¹„ìœ¨ì„ ì•Œ ìˆ˜ ìˆê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤.  
ë‚¨ìê°€ ìˆ«ì 0, ì—¬ìê°€ ìˆ«ì 1ì´ê¸° ë•Œë¬¸ì—, í‰ê· ì´ 0ì— ê°€ê¹Œìš¸ ìˆ˜ë¡ ë‚¨ìê°€ ë§ê³ , 1ì— ê°€ê¹Œìš¸ ìˆ˜ë¡ ì—¬ìê°€ ë§ë‹¤ëŠ” ëœ»ì…ë‹ˆë‹¤.

ì¦‰, í‰ê· ê°’ì´ 0.250000ì´ë¼ë©´ 25í¼ì„¼íŠ¸ê°€ ì—¬ì„±ì´ê³ , 75í¼ì„¼íŠ¸ê°€ ë‚¨ì„±ì…ë‹ˆë‹¤.

ê²°ê³¼ë¥¼ ë¶„ì„í•´ ë´…ì‹œë‹¤.

homemakerì˜ ê²½ìš° ì—¬ì„± ë¹„ìœ¨ì´ 86í¼ì„¼íŠ¸ ì •ë„ ë˜ê³ , healthcareëŠ” ì—¬ì„± ë¹„ìœ¨ì´ 69í¼ì„¼íŠ¸ ì •ë„ ë˜ë„¤ìš”.  
ë°˜ëŒ€ë¡œ, doctorëŠ” 100í¼ì„¼íŠ¸ê°€ ë‚¨ì„±ì´ë©°, engineerëŠ” 3í¼ì„¼íŠ¸ ì •ë„ë§Œ ì œì™¸í•˜ê³  ëª¨ë‘ ë‚¨ì„±ì„ì„ ì•Œ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

## ëª¨ë²” ë‹µì•ˆ

import pandas as pd

df = pd.read_csv('data/occupations.csv')

occupation_group = df.groupby('occupation')

df.loc[df['gender'] == 'M', 'gender'] = 0
df.loc[df['gender'] == 'F', 'gender'] = 1

occupation_group.mean()['gender'].sort_values(ascending=False)


### ë°ì´í„° í•©ì¹˜ê¸°

Inner Join : êµì§‘í•© ë‚´ìš© í•©ì¹˜ê¸°
Left Outer Join : ì™¼ìª½ ë°ì´í„°ë¥¼ ê¸°ì¤€ìœ¼ë¡œ í•©ì¹˜ê¸°
Right Outer Join : ì˜¤ë¥¸ìª½ ë°ì´í„°ë¥¼ ê¸°ì¤€ìœ¼ë¡œ í•©ì¹˜ê¸°
Full Outer Join : ì „ì²´ ë°ì´í„°ë¥¼ í•©ì¹˜ê¸°


# pd.merge(price_df, quantity_df, on='Product')  //Inner

# pd.merge(price_df, quantity_df, on='Product', how='left')  //Left Outer

# pd.merge(price_df, quantity_df, on='Product', how='right')  //Right Outer

# pd.merge(price_df, quantity_df, on='Product', how='outer')  //Full Outer



### ë°•ë¬¼ê´€ì´ ì‚´ì•„ ìˆë‹¤ IV

## ì‹¤ìŠµ ì„¤ëª…
íŒŒì´ì¬ ì‚¬ì „ê³¼ .map()ì„ ì‚¬ìš©í•´ì„œ ì§€ì—­ëª…ì„ ì•Œì•„ë‚¸ ì†”í¬ëŠ”, ì¡°ê¸ˆ ë” í¸í•œ ë°©ë²•ì„ ê³ ë¯¼í•˜ê³  ìˆìŠµë‹ˆë‹¤.

ê³ ë¯¼í•˜ë˜ ì¤‘, 'ì§€ì—­ë²ˆí˜¸ì™€ ì§€ì—­ëª…ì— ëŒ€í•œ ë°ì´í„°ëŠ” ëˆ„êµ°ê°€ ì´ë¯¸ ë§Œë“¤ì–´ë‘ì§€ ì•Šì•˜ì„ê¹Œ'ë¼ëŠ” ìƒê°ì„ í•˜ê²Œ ë˜ëŠ”ë°ìš”.

ì¸í„°ë„·ì—ì„œ ì§€ì—­ë²ˆí˜¸ì™€ ì§€ì—­ëª…ì´ ìˆëŠ” ë°ì´í„° region_number.csvë¥¼ êµ¬í–ˆìŠµë‹ˆë‹¤!

ì´ ë°ì´í„°ë¥¼ ë¨¼ì € ì‚´í´ë³´ê³ , .merge() ë©”ì†Œë“œë¥¼ í™œìš©í•´ì„œ museum_3.csvì— 'ì§€ì—­ëª…' columnì„ ì¶”ê°€í•´ ë³´ì„¸ìš”.

ë‹¨, museum_3.csvì˜ ë°•ë¬¼ê´€ ìˆœì„œê°€ ìœ ì§€ë˜ì–´ì•¼ í•©ë‹ˆë‹¤.

## í•´ì„¤
museum_3.csvì™€ region_number.csvë¥¼ í•©ì³ì„œ 'ì§€ì—­ëª…' columnì„ ì¶”ê°€í•˜ë ¤ê³  í•©ë‹ˆë‹¤.

ë¨¼ì € ë‘ ë°ì´í„°ë¥¼ ë¶ˆëŸ¬ì˜µì‹œë‹¤.


import pandas as pd

museum = pd.read_csv("data/museum_3.csv", dtype={'ì§€ì—­ë²ˆí˜¸': str})
region_number = pd.read_csv("data/region_number.csv", dtype={'ì§€ì—­ë²ˆí˜¸': str})
.merge()ë©”ì†Œë“œë¥¼ í™œìš©í•´ì„œ ë‘ DataFrameì„ í•©ì³ë´…ì‹œë‹¤.

ë‘ DataFrameì— 'ì§€ì—­ë²ˆí˜¸'ë¼ëŠ” ê³µí†µ columnì´ ìˆìŠµë‹ˆë‹¤. ê¸°ì¤€ì´ ë˜ëŠ” column ì´ë¦„ì€ on ì˜µì…˜ì„ í†µí•´ ì§€ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

combined = pd.merge(museum, region_number, on='ì§€ì—­ë²ˆí˜¸')
combinedì— ì•„ë˜ì™€ ê°™ì´ ë°ì´í„°ê°€ í•©ì³ì§„ ê²ƒì„ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

í•˜ì§€ë§Œ ì´ë ‡ê²Œ í•˜ë©´ museum_3.csvì˜ ë°•ë¬¼ê´€ ìˆœì„œê°€ ìœ ì§€ë˜ì§€ ì•Šê³ , 'ì§€ì—­ë²ˆí˜¸'ë¥¼ ê¸°ì¤€ìœ¼ë¡œ ë°”ë€Œê²Œ ë˜ì£ .

museum_3.csvì— ë“±ì¥í•˜ëŠ” ìˆœì„œëŒ€ë¡œ ë°•ë¬¼ê´€ì´ ë‚˜ì—´ë˜ì–´ì•¼ í•˜ë‹ˆê¹Œ, ì™¼ìª½ DataFrameì„ ê¸°ì¤€ìœ¼ë¡œ í•˜ëŠ”ê²Œ ì¢‹ê² ì£ ?  
how='left'ë¥¼ ë¶™ì—¬ ì¤ì‹œë‹¤.


combined = pd.merge(museum, region_number, on='ì§€ì—­ë²ˆí˜¸', how='left')


ì´ì œ ì™„ì„±ë˜ì—ˆìŠµë‹ˆë‹¤.

ì™„ì„± ì½”ë“œëŠ” ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.

## ëª¨ë²” ë‹µì•ˆ

import pandas as pd

museum = pd.read_csv("data/museum_3.csv", dtype={'ì§€ì—­ë²ˆí˜¸': str})
region_number = pd.read_csv("data/region_number.csv", dtype={'ì§€ì—­ë²ˆí˜¸': str})

combined = pd.merge(museum, region_number, on='ì§€ì—­ë²ˆí˜¸', how='left')

combined



######## ë°ì´í„° í€„ë¦¬í‹° ì˜¬ë¦¬ê¸° ########

### ë°ì´í„° í€„ë¦¬í‹°ì˜ ì¤‘ìš”ì„±

ë°ì´í„°ì˜ ìˆ˜ì¹˜ê°€ ì¢‹ì§€ ì•Šì„ë•Œ ë°ì´í„° í´ë¦¬ë‹ì„ í†µí•´ì„œ ì˜¯ì€ ê°’ì„ ì‚°ì¶œ í•´ë‚¸ë‹¤.

# ì™„ê²°ì„± Completeness
í•„ìˆ˜ì ì¸ ë°ì´í„°ëŠ” ëª¨ë‘ ê¸°ë¡ë˜ì–´ ìˆì–´ì•¼ í•¨.

# ê²°ì¸¡ê°’ (ì±„ì›Œì ¸ì•¼ í•˜ëŠ”ë° ë¹„ì–´ ìˆëŠ” ê°’)
NaN (Not a Number)

# ìœ ì¼ì„± Uniqueness
ë™ì¼í•œ ë°ì´í„°ê°€ ë¶ˆí•„ìš”í•˜ê²Œ ì¤‘ë³µë˜ì–´ ìˆìœ¼ë©´ ì•ˆ ë¨.

ì´ë©”ì¼ ì¸ì¦í•˜ê¸°, ì£¼ë¯¼ë“±ë¡ë²ˆí˜¸ ë³¸ì¸ í™•ì¸, íœ´ëŒ€í° ë²ˆí˜¸ ë³¸ì¸ í™•ì¸ = ë°ì´í„°ì˜ ìœ ì¼ì„± ìœ ì§€ë˜ì–´ì•¼

# í†µì¼ì„± Conformity
ë°ì´í„°ê°€ ë™ì¼í•œ í˜•ì‹ìœ¼ë¡œ ì €ì¥ë˜ì–´ ìˆì–´ì•¼ í•¨.

# ì •í™•ì„± Accuracy
ë°ì´í„°ê°€ ì •í™•í•´ì•¼ í•¨.

# ì´ìƒì  Outlier
ë‹¤ë¥¸ ê°’ë“¤ê³¼ ë™ë–¨ì–´ì§€ê²Œ ë‹¤ë¥¸ ê°’

## df.isnull()  // ë¶ˆë¦° ê°’ìœ¼ë¡œ ë³€í™˜í•´ì„œ ë³´ì—¬ì¤Œ.
## df.isnull().sum()  // ê²°ì¸¡ê°’ì„ í•©ì‚°í•˜ê³  ìš”ì•½í•´ì„œ ë³´ì—¬ì¤Œ.

df.dropna()  // ê²°ì¸¡ê°’ì„ ì œì™¸ ì‹œí‚¨ë‹¤. (ë°ì´í„° ì›ë³¸ì€ ê·¸ëŒ€ë¡œ ë‘ê³  ìƒˆë¡œìš´ ë°ì´í„°ë¥¼ ë³´ì—¬ì¤Œ)

df.dropna(inplace=True)  // ë°ì´í„° ì›ë³¸ì„ ìˆ˜ì •
df

df.dropna(axis='columns')

df.fillna(0)  // ê²°ì¸¡ê°’ì„ 0ìœ¼ë¡œ ìˆ˜ì •í•œë‹¤.

df.mean()  // í‰ê· ê°’ì„ ë³¼ ìˆ˜ ìˆë‹¤.

df.fillna(df.mean())  // ê²°ì¸¡ê°’ì„ í‰ê· ìœ¼ë¡œ ìˆ˜ì •í•œë‹¤.

df.median()  // ê° í•­ëª©ì˜ í‰ê· ê°’ì„ ë³¼ ìˆ˜ ìˆë‹¤.

df.fillna(df.median())  // ê²°ì¸¡ê°’ì„ í‰ê·  ê°’ìœ¼ë¡œ ëŒ€ì²´í•œë‹¤.

df.fillna(df.median(), inplace=True) 


### ìŠ¤íŒ€ ê²Œì„ ë°ì´í„° ì •ë¦¬í•˜ê¸°

# ì‹¤ìŠµ ì„¤ëª…
ìŠ¤íŒ€(Steam)ì€ ì˜¨ë¼ì¸ ê²Œì„ì„ ìœ í†µí•˜ëŠ” í”Œë«í¼ì…ë‹ˆë‹¤.  
ìŠ¤íŒ€ í”Œë«í¼ì—ì„œ ê°€ì¥ ë°˜ì‘ì´ ì¢‹ì€ ê²Œì„ì´ ë¬´ì—‡ì¸ì§€ ì•Œì•„ë³´ë ¤ê³  í•˜ëŠ”ë°ìš”.

ë°ì´í„°ë¥¼ ì‚´í´ë³´ë‹ˆ ê²°ì¸¡ê°’ì´ ìˆëŠ” ê²ƒ ê°™ë„¤ìš”. ë¶„ì„ì— ì•ì„œ ê²°ì¸¡ê°’ì„ ì œê±°í•´ ë´…ì‹œë‹¤.

ê²°ì¸¡ê°’ì´ ìˆëŠ” ëª¨ë“  rowë¥¼ ì‚­ì œí•˜ê³ , DataFrameì„ ì¶œë ¥í•´ ì£¼ì„¸ìš”.

ì£¼ì˜ ì‚¬í•­: ìë™ ì±„ì  ê³¼ì œì…ë‹ˆë‹¤. ì •ë‹µ ì¶œë ¥ ì½”ë“œëŠ” print ì—†ì´ ì‘ì„±í•´ ì£¼ì„¸ìš”. (ì˜ˆì‹œ: df)
í•´ì„¤ ë³´ê¸°

# í•´ì„¤
ì£¼ì–´ì§„ ë°ì´í„°ì— ê²°ì¸¡ê°’ì´ ìˆëŠ”ì§€ í™•ì¸í•´ ë´…ì‹œë‹¤.  
.isnull() ë©”ì†Œë“œë¥¼ ì‚¬ìš©í•˜ë©´ ê²°ì¸¡ê°’ì´ ìˆëŠ” ë°ì´í„°ë§Œ Trueë¡œ í‘œì‹œí•´ ì£¼ê³ , .sum() ë©”ì†Œë“œë¥¼ í™œìš©í•˜ë©´ ì´ ëª‡ ê°œì˜ ê²°ì¸¡ê°’ì´ ìˆëŠ”ì§€ í™•ì¸í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.


import pandas as pd

df = pd.read_csv('data/steam_1.csv')

df.isnull().sum()

Name      0
Hours    10
dtype: int64
'Hours' columnì— ì´ 10ê°œì˜ ê²°ì¸¡ê°’ì´ ìˆë„¤ìš”.

dropna ë©”ì†Œë“œë¥¼ ì‚¬ìš©í•˜ë©´ ê²°ì¸¡ê°’ì´ ì¡´ì¬í•˜ëŠ” rowë¥¼ ëª¨ë‘ ì—†ì•¨ ìˆ˜ ìˆê² ì£ ?


df.dropna(inplace=True)
ì˜ ì œê±°ë˜ì—ˆìŠµë‹ˆë‹¤. ì´ì œ ë‹¤ì–‘í•œ ë¶„ì„ì´ë‚˜ ì‹œê°í™”ë¥¼ í•  ìˆ˜ ìˆê² ë„¤ìš”.

ì „ì²´ ì½”ë“œëŠ” ë‹¤ìŒê³¼ ê°™ìŠµë‹ˆë‹¤.


import pandas as pd

df = pd.read_csv('data/steam_1.csv')

df.dropna(inplace=True)

# ì •ë‹µ ì¶œë ¥
df


6
### ë°ì´í„° í´ë¦¬ë‹: ìœ ì¼ì„±
import pandas as pd
df = pd.read_csv('data/dust.csv', index_col=0)
df.head()

df.index
df.index.value_counts()
df.drop_duplicates()  // ì¤‘ë³µëœ ê°’ì„ ì§€ì›Œì¤€ë‹¤.

df.drop_duplicates(inplace=True)  
df

df.T   //lowì™€ columnì˜ ìœ„ì¹˜ê°€ ë°”ë€ë‹¤.

df.T.drop_duplicates()

df.T.drop_duplicates().T
df = df.T.drop_duplicates().T


### ë°ì´í„° ëª¨ë¸
Entity(ê°œì²´) : ì €ì¥í•˜ê³  ì‹¶ì€ ë°ì´í„°ì˜ ëŒ€ìƒ

ì‹¤ì œ ëŒ€ìƒ í•˜ë‚˜í•˜ë‚˜(ë¡œìš°)
Entity Type : ì¼ë°˜í™”í•œ Entity ì¢…ë¥˜ (í…Œì´ë¸”)

attribute(ì†ì„±)
Entityì— ëŒ€í•´ì„œ ì €ì¥í•˜ë ¤ëŠ” ë‚´ìš©
í•™ìƒ: í•™ë²ˆ, ì´ë¦„, ì„±ë³„, ì…í•™ë…„ë„, ì „ê³µ
ìˆ˜ì—…: ì‹œê°„, ì´ë¦„, ê³¼, ì§€ë„ êµìˆ˜

Relationship(ê´€ê³„)
Entityë“¤ ì‚¬ì´ ì—°ê²°ì 

Constraint(ì œì•½ ì¡°ê±´)
ê²¹ì¹˜ë©´ ì•ˆë˜ê±°ë‚˜ ë‹¨ì¼ì´ê±°ë‚˜ ì œì•½ ì¡°ê±´ì´ ìˆë‹¤.



Relation í…Œì´ë¸”
Relationship í…Œì´ë¸”ë“¤ ì‚¬ì´ ë§ºì–´ì§€ëŠ” ê´€ê³„
foreign key ë¥¼ ì´ìš©í•´ ê´€ê³„ë¥¼ ë§Œë“¤ìˆ˜ ìˆë‹¤.



### ë°ì´í„° ëª¨ë¸ ì •ë¦¬
# ë°ì´í„° ëª¨ë¸
ë°ì´í„° ëª¨ë¸ì´ë€, ë‹¤ì–‘í•œ ë°ì´í„° ìš”ì†Œë“¤ì„ ì´í•´í•˜ê³  ì‚¬ìš©í•˜ê¸° í¸í•œ í˜•íƒœë¡œ ì •ë¦¬í•´ë†“ì€ ëª¨í˜•ì„ ì˜ë¯¸í•©ë‹ˆë‹¤.

ìš°ë¦¬ê°€ ë°ì´í„°ë¥¼ ì €ì¥í•˜ë ¤ê³  í•˜ëŠ” ëŒ€ìƒ: Entity(ê°œì²´)
Entityì— ëŒ€í•´ì„œ ì €ì¥í•˜ë ¤ê³  í•˜ëŠ” íŠ¹ì§•: Attribute(ì†ì„±)
Entityë“¤ ì‚¬ì´ ìƒê¸°ëŠ” ì—°ê²°ì : Relationship(ê´€ê³„)
ì—¬ëŸ¬ ë°ì´í„° ìš”ì†Œë“¤ì— ìˆëŠ” ê·œì¹™: Constraint(ì œì•½ ì¡°ê±´)
ì´ ë„¤ ê°€ì§€ ìš”ì†Œë“¤ì„ íŒŒì•…í•œ í›„, ì´ ë‚´ìš©ë“¤ì„ ë°œì „ì‹œì¼œ ë°ì´í„° ëª¨ë¸ë“¤ì„ ë§Œë“œëŠ” ê³¼ì •ì„ ë°ì´í„° ëª¨ë¸ë§ì´ë¼ê³  ë¶€ë¦…ë‹ˆë‹¤.

# ë¦´ë ˆì´ì…”ë„ ëª¨ë¸
ìš°ë¦¬ì—ê²Œ ê°€ì¥ ìµìˆ™í•˜ê³  ê°€ì¥ ë„ë¦¬ ì‚¬ìš©ë˜ëŠ” ëª¨ë¸ì€ ë¦´ë ˆì´ì…”ë„ ëª¨ë¸ì…ë‹ˆë‹¤. ë¦´ë ˆì´ì…˜ì€ ë°ì´í„°ë¥¼ ë¡œìš°ì™€ ì»¬ëŸ¼ìœ¼ë¡œ ì •ë¦¬í•œ í…Œì´ë¸”, ë˜ëŠ” í‘œë¥¼ ì˜ë¯¸í•˜ëŠ”ë°ìš”. EntityëŠ” í…Œì´ë¸”, attributeì€ ì»¬ëŸ¼, relationshipì€ foreign keyë¥¼ ì‚¬ìš©í•´ì„œ ì •ë¦¬í•´ë†“ì€ ëª¨í˜•ì…ë‹ˆë‹¤.

ì´ë ‡ê²Œìš”.

ë¦´ë ˆì´ì…”ë„ ëª¨ë¸ì„ ëª¨ë¸ë§í•œë‹¤ëŠ” ê±´, ì •í™•íˆ ì–´ë–¤ í…Œì´ë¸”ì„ ë§Œë“¤ê³ , ì´ í…Œì´ë¸”ë“¤ì„ ë˜ ì–´ë–¤ ì»¬ëŸ¼ë“¤ë¡œ ë‚˜ëˆ„ê³ , foreign keyë¥¼ ì–´ë–»ê²Œ ë§Œë“¤ì§€ë¥¼ ì •í•´ë‚˜ê°€ëŠ” ê²ë‹ˆë‹¤.

# ERM
ë¦´ë ˆì´ì…”ë„ ëª¨ë¸ì´ ì‹¤ì œë¡œ ì‚¬ìš©í•˜ê¸°ì—ëŠ” êµ‰ì¥íˆ í¸ë¦¬í•˜ê¸´ í•œë°ìš”. ëª¨ë¸ë§ì„ í•  ë•ŒëŠ” ë¡œìš°ì— ëŒ€í•´ì„œ ì‹ ê²½ì„ ì“°ì§€ ì•Šê¸° ë•Œë¬¸ì— ë°ì´í„°ë¥¼ ì¡°ê¸ˆ ë‹¤ë¥¸ í˜•íƒœë¡œ í‘œí˜„í•˜ëŠ” ëª¨ë¸ì„ ê°™ì´ ì‚¬ìš©í•©ë‹ˆë‹¤. ë°”ë¡œ Entity-Relationship ëª¨ë¸, ì¤„ì—¬ì„œ ERMì´ë¼ëŠ” ëª¨ë¸ì…ë‹ˆë‹¤.

ERMì—ì„œëŠ” Entityë¥¼ í•˜ë‚˜ì˜ ë„¤ëª¨ë¡œ, attributeì„ ë„¤ëª¨ ì•ˆì— ë¬¸ìì—´ë¡œ, ê·¸ë¦¬ê³  relationshipì„ ì„ ìœ¼ë¡œ í‘œí˜„í•©ë‹ˆë‹¤. ê·¸ë¦¬ê³  ë‚˜ì¤‘ì— ë°°ìš°ê² ì§€ë§Œ ì´ ì„ ë“¤ì˜ ëì„ ì–´ë–»ê²Œ í‘œí˜„í•˜ëŠ”ì§€ì— ë”°ë¼ ê´€ê³„ì˜ íŠ¹ì§•ì„ í‘œí˜„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

ìœ„ì—ì„œ ë´¤ë˜ ë¦´ë ˆì´ì…”ë„ ëª¨ë¸ì„ ë˜‘ê°™ì´ ERMìœ¼ë¡œëŠ” ì´ë ‡ê²Œ ë‚˜íƒ€ë‚¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.


ERMì—ì„œëŠ” ë¡œìš°ë¥¼ ë§¤ë²ˆ í‘œí˜„í•´ì£¼ì§€ ì•Šì•„ë„ ë˜ê³ , ì„ ê³¼ ì„ ì˜ ëì ë“¤ì„ í†µí•´ì„œ Entityë“¤ ì‚¬ì´ ê´€ê³„ë¥¼ ì¡°ê¸ˆ ë” ìì„¸í•˜ê²Œ í‘œí˜„í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì •í™•íˆ ì–´ë–¤ ë‚´ìš©ì„ ì €ì¥í•  ìˆ˜ ìˆëŠ”ì§€ëŠ” ë‹¤ìŒ ì±•í„°ì—ì„œ ìì„¸í•˜ê²Œ ì•Œì•„ë³´ê² ìŠµë‹ˆë‹¤.

ë°ì´í„° ëª¨ë¸ ìŠ¤í™íŠ¸ëŸ¼
ë°ì´í„° ëª¨ë¸ì€ ì–¼ë§ˆë‚˜ ìì„¸í•˜ê²Œ í‘œí˜„ëëŠ”ì§€ì— ë”°ë¼ ì„¸ ê°€ì§€ë¡œ ë¶„ë¥˜ë©ë‹ˆë‹¤.

ê°œë… ëª¨ë¸
ê°€ì¥ ì¶”ìƒì ì¸ ë‚´ìš©ì„ ë‹´ê³  ìˆëŠ” ëª¨ë¸ì„ ê°œë… ëª¨ë¸ì´ë¼ê³  ë¶€ë¦…ë‹ˆë‹¤. ëŒ€ëµì ìœ¼ë¡œ Entityë“¤ê³¼ Entityë“¤ ì‚¬ì´ì— ìˆëŠ” ê´€ê³„ ì •ë„ë§Œ í‘œí˜„í•©ë‹ˆë‹¤.

# ë…¼ë¦¬ ëª¨ë¸
ê·¸ ë‹¤ìŒì—ëŠ” ë…¼ë¦¬ ëª¨ë¸ì´ ìˆìŠµë‹ˆë‹¤. ê°œë… ëª¨ë¸ë³´ë‹¤ëŠ” ì¡°ê¸ˆ ë” ìì„¸í•œ ë‚´ìš©ì„ ë‹´ê³  ìˆëŠ”ë°ìš”. Entityë“¤ì´ ê°–ëŠ” Attributeë“¤ê³¼ primary key, Entityë“¤ ì‚¬ì´ ê´€ê³„ë¥¼ í‘œí˜„í•´ì¤„ foreign key, ì´ëŸ° ë‚´ìš©ê¹Œì§€ í‘œí˜„í•©ë‹ˆë‹¤.

# ë¬¼ë¦¬ ëª¨ë¸
ë§ˆì§€ë§‰ìœ¼ë¡œëŠ” ë¬¼ë¦¬ ëª¨ë¸ì´ ìˆìŠµë‹ˆë‹¤. ë¬¼ë¦¬ ëª¨ë¸ì€ ì‹¤ì œë¡œ ë°ì´í„°ë² ì´ìŠ¤ë¥¼ êµ¬ì¶•í•  ë•Œ í•„ìš”í•œ ë‚´ìš©ì— ìµœëŒ€í•œ ê°€ê¹Œìš´ ë‚´ìš©ì„ ë‹´ê³  ìˆëŠ” ëª¨ë¸ì…ë‹ˆë‹¤. ê° ì»¬ëŸ¼ì˜ ë°ì´í„° íƒ€ì…, ìš”ì†Œë“¤ì˜ ì´ë¦„, ë‚˜ì¤‘ì— ë°°ìš¸ ì¸ë±ìŠ¤ë¼ëŠ” ê±¸ ì–´ë””ì— ë§Œë“¤ì–´ì¤„ ê±´ì§€...ì´ëŸ° ë‚´ìš©ê¹Œì§€ í‘œí˜„í•˜ì£ .

ì–´ë–¤ ëª¨ë¸ì„ ì‚¬ìš©í•´ì•¼ ë ê¹Œ?
ê° ëª¨ë¸ë“¤ì€ ê°ê°ì˜ ì¥ë‹¨ì ë“¤ì´ ìˆëŠ”ë°ìš”. ìì‹ ì´ í˜„ì¬ í•˜ê³  ìˆëŠ” ì‘ì—…ì— ì í•©í•œ ëª¨ë¸ì„ ë§Œë“¤ì–´ë‚˜ê°€ë©´ ë©ë‹ˆë‹¤.

ì˜ˆë¥¼ ë“¤ì–´ ê²½ì˜ì§„ì´ ìƒˆë¡œìš´ ê¸°ëŠ¥ì„ ì¶”ê°€í•˜ë ¤ê³  ì‚¬ìš©í•  ë°ì´í„°ë¥¼ íŒŒì•… ë° ì •ë¦¬í•  ë•ŒëŠ” ê°œë… ëª¨ë¸ì„ ì¨ë„ ì¶©ë¶„í•˜ê³ , ì´ ë‚´ìš©ì„ ê°œë°œìë‚˜ ë°ì´í„°ë² ì´ìŠ¤ ê´€ë¦¬ìê°€ êµ¬ì²´í™” ì‹œí‚¬ ë•ŒëŠ” ë…¼ë¦¬ ëª¨ë¸ì„ ì‚¬ìš©í•˜ê³ , ë§ˆì§€ë§‰ì— ì´ê±¸ ì‹¤ì œë¡œ ë°ì´í„°ë² ì´ìŠ¤ì— ì €ì¥í•  ë•ŒëŠ” ë¬¼ë¦¬ ëª¨ë¸ì„ ë§Œë“¤ì–´ì„œ ë‚´ìš©ì„ ê·¸ëŒ€ë¡œ ë°˜ì˜í•  ìˆ˜ ìˆëŠ” ê±°ì£ .


user
id, email, name

address
id, user_id, address


### Entity, Attribute, Relationship í›„ë³´ ì°¾ê¸°

ëª¨ë“  ëª…ì‚¬ëŠ” Entity í›„ë³´ë‹¤
ëª¨ë“  ë™ì‚¬ëŠ” Relationship í›„ë³´ë‹¤
í•˜ë‚˜ì˜ ê°’ìœ¼ë¡œ í‘œí˜„í•  ìˆ˜ ìˆëŠ” ëª…ì‚¬ëŠ” Attribute í›„ë³´ë‹¤


ì„¸ë²ˆì§¸ Attribute ì˜ˆì™¸ì˜ ê²½ìš°
ì£¼ì†Œê°€ ì—¬ëŸ¬ê°œ ì¼ ê²½ìš°

user = id,email,name
address = id,user_id,value


## ì¼ëŒ€ì¼, ì¼ëŒ€ë‹¤ ê´€ê³„ ëª¨ë¸ë§

user
id, email, name, gender, age

review
id, user_id, score, description
# ì¼ëŒ€ë‹¤ ê´€ê³„ì—ì„œëŠ” í•­ìƒ ë‹¤ìˆ˜ Entityì— foreign keyë¥¼ ì¶”ê°€í•œë‹¤.


